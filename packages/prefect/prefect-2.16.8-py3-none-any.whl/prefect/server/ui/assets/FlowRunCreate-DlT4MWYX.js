import{b8 as h,d as g,x as v,E as x,q as k,an as F,f as N,u as e,c as S,h as m,a as D,i as I,a1 as J,o as O,p,b9 as V,ba as q,bb as B,bc as T,ae as d,b5 as i,b7 as E}from"./index-CRy24dhJ.js";import{u as M}from"./usePageTitle-Bw_DulyG.js";class P extends h{parse(t){return JSON.parse(decodeURIComponent(t??""))}format(t){return encodeURIComponent(JSON.stringify(t))}}const Z=g({__name:"FlowRunCreate",setup(f){const t=v(),r=x("deploymentId"),l=J(),y=k("parameters",P,void 0),{deployment:o}=F(r),w=async c=>{var u,a;try{const n=await t.deployments.createDeploymentFlowRunV2(r.value,c),s=((a=(u=c.state)==null?void 0:u.stateDetails)==null?void 0:a.scheduledTime)??void 0,b=!s,C=B(T,{flowRun:n,flowRunRoute:d.flowRun,router:l,immediate:b,startTime:s});i(C,"success"),l.push(d.deployment(r.value))}catch(n){const s=E(n,"Something went wrong trying to create a flow run");i(s,"error"),console.error(n)}},R=()=>{l.back()},_=N(()=>o.value?`Create Flow Run for Deployment: ${o.value.name}`:"Create Flow Run for Deployment");return M(_),(c,u)=>{const a=I("p-layout-default");return e(o)?(O(),S(a,{key:0},{header:m(()=>[p(e(V),{deployment:e(o)},null,8,["deployment"])]),default:m(()=>[p(e(q),{deployment:e(o),parameters:e(y),onSubmit:w,onCancel:R},null,8,["deployment","parameters"])]),_:1})):D("",!0)}}});export{Z as default};
//# sourceMappingURL=FlowRunCreate-DlT4MWYX.js.map
