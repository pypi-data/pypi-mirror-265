"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[545],{60545:(e,n,t)=>{t.r(n),t.d(n,{CommandIDs:()=>v,default:()=>y});var a,o=t(11510),r=t(23051),l=t(92972),d=t(93954),i=t(38806),s=t(13532),c=t(31721),u=t(36478),m=t(33625),p=t(20998),_=t(63485),h=t(10747),b=t(60546);!function(e){e.openRecent="recentmenu:open-recent",e.reopenLast="recentmenu:reopen-last",e.clearRecents="docmanager:clear-recents"}(a||(a={}));class g extends _.Menu{constructor(e){super(e),this._manager=e.manager,this._showDirectories=e.showDirectories,this._manager.changed.connect(this.updateItems,this)}async _validateRecentlyOpened(){Promise.all(this._manager.recentlyOpened.map((e=>this._manager.validate(e))))}onBeforeAttach(e){const n=new p.PromiseDelegate;setTimeout((()=>{n.reject("Recents validation timed out.")}),550),Promise.race([n.promise,this._validateRecentlyOpened()]).then((()=>{this.update()})).catch((()=>{})),super.onBeforeAttach(e)}updateItems(){this.clearItems(),this.addItem({command:a.reopenLast}),this.addItem({type:"separator"});let e=!0,n=!1;this._manager.recentlyOpened.sort(((e,n)=>e.contentType===n.contentType?0:"directory"!==e.contentType?1:-1)).forEach((t=>{if("directory"===t.contentType){if(!this._showDirectories)return;n=!0}else e&&n&&(e=!1,this.addItem({type:"separator"}));this.addItem({command:a.openRecent,args:{recent:t}})})),this.addItem({type:"separator"}),this.addItem({command:a.clearRecents})}}const C={id:"@jupyterlab/mainmenu-extension:recents",description:"Adds sub-menu for opening recent documents to the File section of the main menu.",autoStart:!0,requires:[h.IRecentsManager,d.IMainMenu],optional:[b.IFileBrowserCommands,c.ITranslator],activate:(e,n,t,o,d)=>{const{commands:i}=e,s=(null!=d?d:c.nullTranslator).load("jupyterlab"),u=null!==o,m=async e=>{const t=await n.validate(e);return t||await(0,r.showErrorMessage)(s.__("Could Not Open Recent"),s.__("%1 is no longer valid and will be removed from the list",e.path)),t};i.addCommand(a.openRecent,{execute:async e=>{const n=e.recent,t=""===n.path?"/":n.path;await m(n)&&(o&&"directory"===n.contentType?await i.execute(o.openPath,{path:t}):await i.execute("docmanager:open",{path:t,factory:n.factory}))},label:e=>{const n=e.recent;return n?l.PathExt.joinWithLeadingSlash(n.root,n.path):s.__("Open a Recent Document (given by `recent` argument)")},isEnabled:e=>n.recentlyOpened.includes(e.recent)}),e.commands.addCommand(a.reopenLast,{execute:async()=>{const e=n.recentlyClosed[0];e&&await m(e)&&(await i.execute("docmanager:open",{path:e.path,factory:e.factory}),n.removeRecent(e,"closed"))},label:()=>{const e=n.recentlyClosed[0];return e?s.__("Reopen %1",e.path):s.__("Reopen Closed Document")},isEnabled:()=>0!==n.recentlyClosed.length,caption:s.__("Reopen recently closed file or notebook.")});const p=new g({commands:i,manager:n,showDirectories:u});p.title.label=s.__("Open Recent"),t.fileMenu.addItem({type:"submenu",submenu:p,rank:1})}},w="@jupyterlab/mainmenu-extension:plugin";var v;!function(e){e.openEdit="editmenu:open",e.undo="editmenu:undo",e.redo="editmenu:redo",e.clearCurrent="editmenu:clear-current",e.clearAll="editmenu:clear-all",e.find="editmenu:find",e.goToLine="editmenu:go-to-line",e.openFile="filemenu:open",e.closeAndCleanup="filemenu:close-and-cleanup",e.createConsole="filemenu:create-console",e.shutdown="filemenu:shutdown",e.logout="filemenu:logout",e.openKernel="kernelmenu:open",e.interruptKernel="kernelmenu:interrupt",e.reconnectToKernel="kernelmenu:reconnect-to-kernel",e.restartKernel="kernelmenu:restart",e.restartKernelAndClear="kernelmenu:restart-and-clear",e.changeKernel="kernelmenu:change",e.shutdownKernel="kernelmenu:shutdown",e.shutdownAllKernels="kernelmenu:shutdownAll",e.openView="viewmenu:open",e.wordWrap="viewmenu:word-wrap",e.lineNumbering="viewmenu:line-numbering",e.matchBrackets="viewmenu:match-brackets",e.openRun="runmenu:open",e.run="runmenu:run",e.runAll="runmenu:run-all",e.restartAndRunAll="runmenu:restart-and-run-all",e.runAbove="runmenu:run-above",e.runBelow="runmenu:run-below",e.openTabs="tabsmenu:open",e.activateById="tabsmenu:activate-by-id",e.activatePreviouslyUsedTab="tabsmenu:activate-previously-used-tab",e.openSettings="settingsmenu:open",e.openHelp="helpmenu:open",e.getKernel="helpmenu:get-kernel",e.openFirst="mainmenu:open-first"}(v||(v={}));const y=[{id:w,description:"Adds and provides the application main menu.",requires:[o.IRouter,c.ITranslator],optional:[r.ICommandPalette,o.ILabShell,s.ISettingRegistry],provides:d.IMainMenu,activate:async(e,n,t,a,s,c)=>{const{commands:p}=e,h=t.load("jupyterlab"),b=new d.MainMenu(p);b.id="jp-MainMenu",b.addClass("jp-scrollbar-tiny"),c&&(await f.loadSettingsMenu(c,(e=>{b.addMenu(e,!1,{rank:e.rank})}),(e=>d.MainMenu.generateMenu(p,e,h)),t),b.update());const g=l.PageConfig.getOption("quitButton").toLowerCase();b.fileMenu.quitEntry="true"===g,function(e,n,t){const a=e.commands;a.addCommand(v.undo,(0,o.createSemanticCommand)(e,n.undoers.undo,{label:t.__("Undo")},t)),a.addCommand(v.redo,(0,o.createSemanticCommand)(e,n.undoers.redo,{label:t.__("Redo")},t)),a.addCommand(v.clearCurrent,(0,o.createSemanticCommand)(e,n.clearers.clearCurrent,{label:t.__("Clear")},t)),a.addCommand(v.clearAll,(0,o.createSemanticCommand)(e,n.clearers.clearAll,{label:t.__("Clear All")},t)),a.addCommand(v.goToLine,(0,o.createSemanticCommand)(e,n.goToLiners,{label:t.__("Go to Line…")},t))}(e,b.editMenu,h),function(e,n,t,a){const d=e.commands;d.addCommand(v.closeAndCleanup,{...(0,o.createSemanticCommand)(e,n.closeAndCleaners,{execute:"application:close",label:a.__("Close and Shut Down"),isEnabled:!0},a),isEnabled:()=>!!e.shell.currentWidget&&!!e.shell.currentWidget.title.closable}),d.addCommand(v.createConsole,(0,o.createSemanticCommand)(e,n.consoleCreators,{label:a.__("New Console for Activity")},a)),d.addCommand(v.shutdown,{label:a.__("Shut Down"),caption:a.__("Shut down JupyterLab"),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>(0,r.showDialog)({title:a.__("Shutdown confirmation"),body:a.__("Please confirm you want to shut down JupyterLab."),buttons:[r.Dialog.cancelButton(),r.Dialog.warnButton({label:a.__("Shut Down")})]}).then((async n=>{if(n.button.accept){const n=i.ServerConnection.makeSettings(),t=l.URLExt.join(n.baseUrl,"api/shutdown");try{await Promise.all([e.serviceManager.sessions.shutdownAll(),e.serviceManager.terminals.shutdownAll()])}catch(e){console.log(`Failed to shutdown sessions and terminals: ${e}`)}return i.ServerConnection.makeRequest(t,{method:"POST"},n).then((e=>{if(!e.ok)throw new i.ServerConnection.ResponseError(e);{const e=document.createElement("div"),n=document.createElement("p");n.textContent=a.__("You have shut down the Jupyter server. You can now close this tab.");const t=document.createElement("p");t.textContent=a.__("To use JupyterLab again, you will need to relaunch it."),e.appendChild(n),e.appendChild(t),(0,r.showDialog)({title:a.__("Server stopped"),body:new _.Widget({node:e}),buttons:[]}),window.close()}})).catch((e=>{throw new i.ServerConnection.NetworkError(e)}))}}))}),d.addCommand(v.logout,{label:a.__("Log Out"),caption:a.__("Log out of JupyterLab"),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>{t.navigate("/logout",{hard:!0})}})}(e,b.fileMenu,n,h),function(e,n,t){const a=e.commands;a.addCommand(v.interruptKernel,{...(0,o.createSemanticCommand)(e,n.kernelUsers.interruptKernel,{label:t.__("Interrupt Kernel"),caption:t.__("Interrupt the kernel")},t),icon:e=>e.toolbar?u.stopIcon:void 0}),a.addCommand(v.reconnectToKernel,(0,o.createSemanticCommand)(e,n.kernelUsers.reconnectToKernel,{label:t.__("Reconnect to Kernel")},t)),a.addCommand(v.restartKernel,{...(0,o.createSemanticCommand)(e,n.kernelUsers.restartKernel,{label:t.__("Restart Kernel…"),caption:t.__("Restart the kernel")},t),icon:e=>e.toolbar?u.refreshIcon:void 0}),a.addCommand(v.restartKernelAndClear,(0,o.createSemanticCommand)(e,[n.kernelUsers.restartKernel,n.kernelUsers.clearWidget],{label:t.__("Restart Kernel and Clear…")},t)),a.addCommand(v.changeKernel,(0,o.createSemanticCommand)(e,n.kernelUsers.changeKernel,{label:t.__("Change Kernel…")},t)),a.addCommand(v.shutdownKernel,(0,o.createSemanticCommand)(e,n.kernelUsers.shutdownKernel,{label:t.__("Shut Down Kernel"),caption:t.__("Shut down kernel")},t)),a.addCommand(v.shutdownAllKernels,{label:t.__("Shut Down All Kernels…"),isEnabled:()=>!e.serviceManager.sessions.running().next().done,execute:()=>(0,r.showDialog)({title:t.__("Shut Down All?"),body:t.__("Shut down all kernels?"),buttons:[r.Dialog.cancelButton({label:t.__("Dismiss")}),r.Dialog.warnButton({label:t.__("Shut Down All")})]}).then((n=>{if(n.button.accept)return e.serviceManager.sessions.shutdownAll()}))})}(e,b.kernelMenu,h),function(e,n,t){const a=e.commands;a.addCommand(v.run,{...(0,o.createSemanticCommand)(e,n.codeRunners.run,{label:t.__("Run Selected"),caption:t.__("Run Selected")},t),icon:e=>e.toolbar?u.runIcon:void 0}),a.addCommand(v.runAll,(0,o.createSemanticCommand)(e,n.codeRunners.runAll,{label:t.__("Run All"),caption:t.__("Run All")},t)),a.addCommand(v.restartAndRunAll,{...(0,o.createSemanticCommand)(e,[n.codeRunners.restart,n.codeRunners.runAll],{label:t.__("Restart Kernel and Run All"),caption:t.__("Restart Kernel and Run All")},t),icon:e=>e.toolbar?u.fastForwardIcon:void 0})}(e,b.runMenu,h),function(e,n,t){const a=e.commands;a.addCommand(v.lineNumbering,(0,o.createSemanticCommand)(e,n.editorViewers.toggleLineNumbers,{label:t.__("Show Line Numbers")},t)),a.addCommand(v.matchBrackets,(0,o.createSemanticCommand)(e,n.editorViewers.toggleMatchBrackets,{label:t.__("Match Brackets")},t)),a.addCommand(v.wordWrap,(0,o.createSemanticCommand)(e,n.editorViewers.toggleWordWrap,{label:t.__("Wrap Words")},t))}(e,b.viewMenu,h),function(e,n,t){e.commands.addCommand(v.getKernel,(0,o.createSemanticCommand)(e,n.getKernel,{label:t.__("Get Kernel"),isVisible:!1},t))}(e,b.helpMenu,h),s&&function(e,n,t,a){const o=e.commands,r=[];let l;o.addCommand(v.activateById,{label:n=>{if(void 0===n.id)return a.__("Activate a widget by its `id`.");const t=n.id||"",o=(0,m.find)(e.shell.widgets("main"),(e=>e.id===t));return o&&o.title.label||""},isToggled:n=>{const t=n.id||"";return!!e.shell.currentWidget&&e.shell.currentWidget.id===t},execute:n=>e.shell.activateById(n.id||"")});let d="";o.addCommand(v.activatePreviouslyUsedTab,{label:a.__("Activate Previously Used Tab"),isEnabled:()=>!!d,execute:()=>o.execute(v.activateById,{id:d})}),t&&e.restored.then((()=>{const a=()=>{l&&!l.isDisposed&&l.dispose(),r.length=0;let t=!1;for(const n of e.shell.widgets("main"))n.id===d&&(t=!0),r.push({command:v.activateById,args:{id:n.id}});l=n.addGroup(r,1),d=t?d:""};a(),t.layoutModified.connect((()=>{a()})),t.currentChanged.connect(((e,n)=>{const t=n.oldValue;t&&(d=t.id)}))}))}(e,b.tabsMenu,s,h);const C=e=>{b.activeMenu=e,b.openActiveMenu()};return p.addCommand(v.openEdit,{label:h.__("Open Edit Menu"),execute:()=>C(b.editMenu)}),p.addCommand(v.openFile,{label:h.__("Open File Menu"),execute:()=>C(b.fileMenu)}),p.addCommand(v.openKernel,{label:h.__("Open Kernel Menu"),execute:()=>C(b.kernelMenu)}),p.addCommand(v.openRun,{label:h.__("Open Run Menu"),execute:()=>C(b.runMenu)}),p.addCommand(v.openView,{label:h.__("Open View Menu"),execute:()=>C(b.viewMenu)}),p.addCommand(v.openSettings,{label:h.__("Open Settings Menu"),execute:()=>C(b.settingsMenu)}),p.addCommand(v.openTabs,{label:h.__("Open Tabs Menu"),execute:()=>C(b.tabsMenu)}),p.addCommand(v.openHelp,{label:h.__("Open Help Menu"),execute:()=>C(b.helpMenu)}),p.addCommand(v.openFirst,{label:h.__("Open First Menu"),execute:()=>{b.activeIndex=0,b.openActiveMenu()}}),a&&(a.addItem({command:v.shutdown,category:h.__("Main Area")}),a.addItem({command:v.logout,category:h.__("Main Area")}),a.addItem({command:v.shutdownAllKernels,category:h.__("Kernel Operations")}),a.addItem({command:v.activatePreviouslyUsedTab,category:h.__("Main Area")})),e.shell.add(b,"menu",{rank:100}),b}},C];var f;!function(e){async function n(e){(await(0,r.showDialog)({title:e.__("Information"),body:e.__("Menu customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[r.Dialog.cancelButton(),r.Dialog.okButton({label:e.__("Reload")})]})).button.accept&&location.reload()}e.loadSettingsMenu=async function(e,t,a,o){var l;const d=o.load("jupyterlab");let i=null,c={};function u(n){var t,a;c={};const o=Object.keys(e.plugins).map((n=>{var t,a;const o=null!==(a=null===(t=e.plugins[n].schema["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==a?a:[];return c[n]=o,o})).concat([null!==(a=null===(t=n["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==a?a:[]]).reduceRight(((e,n)=>s.SettingRegistry.reconcileMenus(e,n,!0)),n.properties.menus.default);n.properties.menus.default=s.SettingRegistry.reconcileMenus(o,n.properties.menus.default,!0).sort(((e,n)=>{var t,a;return(null!==(t=e.rank)&&void 0!==t?t:1/0)-(null!==(a=n.rank)&&void 0!==a?a:1/0)}))}e.transform(w,{compose:e=>{var n,t,a,o;i||(i=p.JSONExt.deepCopy(e.schema),u(i));const r=null!==(a=null===(t=null===(n=i.properties)||void 0===n?void 0:n.menus)||void 0===t?void 0:t.default)&&void 0!==a?a:[],l={...e.data.user,menus:null!==(o=e.data.user.menus)&&void 0!==o?o:[]},d={...e.data.composite,menus:s.SettingRegistry.reconcileMenus(r,l.menus)};return e.data={composite:d,user:l},e},fetch:e=>(i||(i=p.JSONExt.deepCopy(e.schema),u(i)),{data:e.data,id:e.id,raw:e.raw,schema:i,version:e.version})});const m=await e.load(w),_=null!==(l=p.JSONExt.deepCopy(m.composite.menus))&&void 0!==l?l:[],h=new Array;r.MenuFactory.createMenus(_.filter((e=>!e.disabled)).map((e=>{var n;return{...e,items:s.SettingRegistry.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])}})),a).forEach((e=>{h.push(e),t(e)})),m.changed.connect((()=>{var e;const t=null!==(e=m.composite.menus)&&void 0!==e?e:[];p.JSONExt.deepEqual(_,t)||n(d)})),e.pluginChanged.connect((async(o,l)=>{var i,u,m;if(l!==w){const o=null!==(i=c[l])&&void 0!==i?i:[],b=null!==(m=null===(u=e.plugins[l].schema["jupyter.lab.menus"])||void 0===u?void 0:u.main)&&void 0!==m?m:[];if(!p.JSONExt.deepEqual(o,b))if(c[l])await n(d);else{c[l]=p.JSONExt.deepCopy(b);const e=s.SettingRegistry.reconcileMenus(b,_,!1,!1).filter((e=>!e.disabled)).map((e=>{var n;return{...e,items:s.SettingRegistry.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])}}));r.MenuFactory.updateMenus(h,e,a).forEach((e=>{t(e)}))}}}))}}(f||(f={}))}}]);