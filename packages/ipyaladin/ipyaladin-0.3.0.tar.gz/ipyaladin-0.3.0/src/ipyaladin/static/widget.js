import l from"https://esm.sh/aladin-lite@3.3.3-beta";var d=0;function h(e){let r=e.split("_");for(let n=1;n<r.length;n++)r[n]=r[n].charAt(0).toUpperCase()+r[n].slice(1);return r.join("")}async function v({model:e}){await l.init;let r={};e.get("init_options").forEach(n=>{r[h(n)]=e.get(n);let o=document.createElement("div");o.classList.add("aladin-widget"),o.style.height=`${r.height}px`,o.id=`aladin-lite-div-${d}`;let a=new l.aladin(o,r);d+=1;let t=!1,c=!1;a.on("positionChanged",i=>{c?c=!1:(t=!0,e.set("target",`${i.ra} ${i.dec}`),e.save_changes())}),e.on("change:target",()=>{if(t)t=!1;else{c=!0;let i=e.get("target");a.gotoObject(i)}})})}function p({model:e,el:r}){r.appendChild(aladinDiv);let n=!1,o=!1;return aladin.on("zoomChanged",a=>{n?n=!1:(o=!0,e.set("fov",parseFloat(a.toFixed(5))),e.save_changes())}),e.on("change:fov",()=>{if(o)o=!1;else{n=!0;let a=e.get("fov");aladin.setFoV(a)}}),e.on("change:height",()=>{let a=e.get("height");aladinDiv.style.height=`${a}px`}),aladin.on("objectHovered",a=>{a.data!=null&&e.send({event_type:"object_hovered",content:{ra:a.ra,dec:a.dec}})}),aladin.on("objectClicked",a=>{let t={ra:a.ra,dec:a.dec};a.data!==void 0&&(t.data=a.data),e.set("clicked",t),e.send({event_type:"object_clicked",content:t}),e.save_changes()}),aladin.on("click",a=>{e.send({event_type:"click",content:a})}),aladin.on("select",a=>{let t=[];a.forEach(c=>{c.forEach(i=>{t.push({ra:i.ra,dec:i.dec,data:i.data,x:i.x,y:i.y})})}),e.send({event_type:"select",content:t})}),e.on("change:coo_frame",()=>{aladin.setFrame(e.get("coo_frame"))}),e.on("change:survey",()=>{aladin.setImageSurvey(e.get("survey"))}),e.on("change:overlay_survey",()=>{aladin.setOverlayImageLayer(e.get("overlay_survey"))}),e.on("change:overlay_survey_opacity",()=>{aladin.getOverlayImageLayer().setAlpha(e.get("overlay_survey_opacity"))}),e.on("msg:custom",a=>{let t={};switch(a.event_name){case"add_catalog_from_URL":aladin.addCatalog(l.catalogFromURL(a.votable_URL,a.options));break;case"add_MOC_from_URL":t=a.options,t.lineWidth===void 0&&(t.lineWidth=3),aladin.addMOC(l.MOCFromURL(a.moc_URL,t));break;case"add_MOC_from_dict":t=a.options,t.lineWidth===void 0&&(t.lineWidth=3),aladin.addMOC(l.MOCFromJSON(a.moc_dict,t));break;case"add_overlay_from_stcs":let c=l.graphicOverlay(a.overlay_options);aladin.addOverlay(c),c.addFootprints(l.footprintsFromSTCS(a.stc_string));break;case"change_colormap":aladin.getBaseImageLayer().setColormap(a.colormap);break;case"get_JPG_thumbnail":aladin.exportAsPNG();break;case"trigger_rectangular_selection":aladin.select();break;case"add_table":let i=e.get("_table"),f=new TextDecoder("utf-8"),g=new Blob([f.decode(i)]),s=URL.createObjectURL(g);l.catalogFromURL(s,Object.assign(a.options,{onClick:"showTable"}),_=>{aladin.addCatalog(_)},!1),URL.revokeObjectURL(s);break}}),()=>{e.off("change:target"),e.off("change:fov"),e.off("change:height"),e.off("change:coo_frame"),e.off("change:survey"),e.off("change:overlay_survey"),e.off("change:overlay_survey_opacity"),e.off("change:trigger_event"),e.off("change:_table"),e.off("msg:custom"),aladin.off("positionChanged"),aladin.off("zoomChanged"),aladin.off("objectHovered"),aladin.off("objectClicked"),aladin.off("click"),aladin.off("select")}}var C={initialize:v,render:p};export{C as default};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vanMvd2lkZ2V0LmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgQSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvYWxhZGluLWxpdGVAMy4zLjMtYmV0YVwiO1xuaW1wb3J0IFwiLi93aWRnZXQuY3NzXCI7XG5cbmxldCBpZHhWaWV3ID0gMDtcblxuZnVuY3Rpb24gY29udmVydF9weW5hbWVfdG9fanNuYW1lKHB5bmFtZSkge1xuICBsZXQgdGVtcCA9IHB5bmFtZS5zcGxpdChcIl9cIik7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgIHRlbXBbaV0gPSB0ZW1wW2ldLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGVtcFtpXS5zbGljZSgxKTtcbiAgfVxuICByZXR1cm4gdGVtcC5qb2luKFwiXCIpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplKHsgbW9kZWwgfSkge1xuICBhd2FpdCBBLmluaXQ7XG5cbiAgbGV0IGluaXRfb3B0aW9ucyA9IHt9O1xuICBtb2RlbC5nZXQoXCJpbml0X29wdGlvbnNcIikuZm9yRWFjaCgob3B0aW9uX25hbWUpID0+IHtcbiAgICBpbml0X29wdGlvbnNbY29udmVydF9weW5hbWVfdG9fanNuYW1lKG9wdGlvbl9uYW1lKV0gPVxuICAgICAgbW9kZWwuZ2V0KG9wdGlvbl9uYW1lKTtcblxuICBsZXQgYWxhZGluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgYWxhZGluRGl2LmNsYXNzTGlzdC5hZGQoXCJhbGFkaW4td2lkZ2V0XCIpO1xuICBhbGFkaW5EaXYuc3R5bGUuaGVpZ2h0ID0gYCR7aW5pdF9vcHRpb25zW1wiaGVpZ2h0XCJdfXB4YDtcblxuICBhbGFkaW5EaXYuaWQgPSBgYWxhZGluLWxpdGUtZGl2LSR7aWR4Vmlld31gO1xuICBsZXQgYWxhZGluID0gbmV3IEEuYWxhZGluKGFsYWRpbkRpdiwgaW5pdF9vcHRpb25zKTtcbiAgaWR4VmlldyArPSAxO1xuXG4gIC8qIFBvc2l0aW9uIENvbnRyb2wgKi9cbiAgLy8gdGhlcmUgYXJlIHR3byB3YXlzIG9mIGNoYW5naW5nIHRoZSB0YXJnZXQsIG9uZSBmcm9tIHRoZSBqYXZhc2NyaXB0IHNpZGUsIGFuZFxuICAvLyBvbmUgZnJvbSB0aGUgcHl0aG9uIHNpZGUuIFdlIGhhdmUgdG8gaW5zdGFudGlhdGUgdHdvIGxpc3RlbmVycyBmb3IgdGhlc2UsIGJ1dFxuICAvLyB0aGUgZ290b09iamVjdCBjYWxsIHNob3VsZCBvbmx5IGhhcHBlbiBvbmNlLiBUaGUgdHdvIGJvb2xlYW5zIHByZXZlbnQgdGhlIHR3b1xuICAvLyBsaXN0ZW5lcnMgZnJvbSB0cmlnZ2VyaW5nIGVhY2ggb3RoZXIgYW5kIGNyZWF0aW5nIGEgYnVnZ3kgbG9vcC4gVGhlIHNhbWUgdHJpY2tcbiAgLy8gaXMgYWxzbyBuZWNlc3NhcnkgZm9yIHRoZSBmaWVsZCBvZiB2aWV3LlxuICBsZXQgdGFyZ2V0X2pzID0gZmFsc2U7XG4gIGxldCB0YXJnZXRfcHkgPSBmYWxzZTtcblxuICBhbGFkaW4ub24oXCJwb3NpdGlvbkNoYW5nZWRcIiwgKHBvc2l0aW9uKSA9PiB7XG4gICAgaWYgKCF0YXJnZXRfcHkpIHtcbiAgICAgIHRhcmdldF9qcyA9IHRydWU7XG4gICAgICBtb2RlbC5zZXQoXCJ0YXJnZXRcIiwgYCR7cG9zaXRpb24ucmF9ICR7cG9zaXRpb24uZGVjfWApO1xuICAgICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldF9weSA9IGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgbW9kZWwub24oXCJjaGFuZ2U6dGFyZ2V0XCIsICgpID0+IHtcbiAgICBpZiAoIXRhcmdldF9qcykge1xuICAgICAgdGFyZ2V0X3B5ID0gdHJ1ZTtcbiAgICAgIGxldCB0YXJnZXQgPSBtb2RlbC5nZXQoXCJ0YXJnZXRcIik7XG4gICAgICBhbGFkaW4uZ290b09iamVjdCh0YXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRfanMgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuICAgIFxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyKHsgbW9kZWwsIGVsIH0pIHtcbiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICAvKiBWaWV3IC0tLS0tLS0tLS0tLS0tICovXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXG5cblxuICBlbC5hcHBlbmRDaGlsZChhbGFkaW5EaXYpO1xuXG4gIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiAgLyogTGlzdGVuZXJzIC0tLS0tLS0tLSAqL1xuICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblxuXG4gIC8qIEZpZWxkIG9mIFZpZXcgY29udHJvbCAqL1xuICBsZXQgZm92X3B5ID0gZmFsc2U7XG4gIGxldCBmb3ZfanMgPSBmYWxzZTtcblxuICBhbGFkaW4ub24oXCJ6b29tQ2hhbmdlZFwiLCAoZm92KSA9PiB7XG4gICAgaWYgKCFmb3ZfcHkpIHtcbiAgICAgIGZvdl9qcyA9IHRydWU7XG4gICAgICAvLyBmb3YgTVVTVCBiZSBjYXN0IGludG8gZmxvYXQgaW4gb3JkZXIgdG8gYmUgc2VudCB0byB0aGUgbW9kZWxcbiAgICAgIG1vZGVsLnNldChcImZvdlwiLCBwYXJzZUZsb2F0KGZvdi50b0ZpeGVkKDUpKSk7XG4gICAgICBtb2RlbC5zYXZlX2NoYW5nZXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm92X3B5ID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICBtb2RlbC5vbihcImNoYW5nZTpmb3ZcIiwgKCkgPT4ge1xuICAgIGlmICghZm92X2pzKSB7XG4gICAgICBmb3ZfcHkgPSB0cnVlO1xuICAgICAgbGV0IGZvdiA9IG1vZGVsLmdldChcImZvdlwiKTtcbiAgICAgIGFsYWRpbi5zZXRGb1YoZm92KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm92X2pzID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICAvKiBEaXYgY29udHJvbCAqL1xuXG4gIG1vZGVsLm9uKFwiY2hhbmdlOmhlaWdodFwiLCAoKSA9PiB7XG4gICAgbGV0IGhlaWdodCA9IG1vZGVsLmdldChcImhlaWdodFwiKTtcbiAgICBhbGFkaW5EaXYuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgfSk7XG5cbiAgLyogQWxhZGluIGNhbGxiYWNrcyAqL1xuXG4gIGFsYWRpbi5vbihcIm9iamVjdEhvdmVyZWRcIiwgKG9iamVjdCkgPT4ge1xuICAgIGlmIChvYmplY3RbXCJkYXRhXCJdICE9IHVuZGVmaW5lZCkge1xuICAgICAgbW9kZWwuc2VuZCh7XG4gICAgICAgIGV2ZW50X3R5cGU6IFwib2JqZWN0X2hvdmVyZWRcIixcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgIHJhOiBvYmplY3RbXCJyYVwiXSxcbiAgICAgICAgICBkZWM6IG9iamVjdFtcImRlY1wiXSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgYWxhZGluLm9uKFwib2JqZWN0Q2xpY2tlZFwiLCAoY2xpY2tlZCkgPT4ge1xuICAgIGxldCBjbGlja2VkX2NvbnRlbnQgPSB7XG4gICAgICByYTogY2xpY2tlZFtcInJhXCJdLFxuICAgICAgZGVjOiBjbGlja2VkW1wiZGVjXCJdLFxuICAgIH07XG4gICAgaWYgKGNsaWNrZWRbXCJkYXRhXCJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsaWNrZWRfY29udGVudFtcImRhdGFcIl0gPSBjbGlja2VkW1wiZGF0YVwiXTtcbiAgICB9XG4gICAgbW9kZWwuc2V0KFwiY2xpY2tlZFwiLCBjbGlja2VkX2NvbnRlbnQpO1xuICAgIC8vIHNlbmQgYSBjdXN0b20gbWVzc2FnZSBpbiBjYXNlIHRoZSB1c2VyIHdhbnRzIHRvIGRlZmluZSB0aGVpciBvd24gY2FsbGJhY2tzXG4gICAgbW9kZWwuc2VuZCh7XG4gICAgICBldmVudF90eXBlOiBcIm9iamVjdF9jbGlja2VkXCIsXG4gICAgICBjb250ZW50OiBjbGlja2VkX2NvbnRlbnQsXG4gICAgfSk7XG4gICAgbW9kZWwuc2F2ZV9jaGFuZ2VzKCk7XG4gIH0pO1xuXG4gIGFsYWRpbi5vbihcImNsaWNrXCIsIChjbGlja19jb250ZW50KSA9PiB7XG4gICAgbW9kZWwuc2VuZCh7XG4gICAgICBldmVudF90eXBlOiBcImNsaWNrXCIsXG4gICAgICBjb250ZW50OiBjbGlja19jb250ZW50LFxuICAgIH0pO1xuICB9KTtcblxuICBhbGFkaW4ub24oXCJzZWxlY3RcIiwgKGNhdGFsb2dzKSA9PiB7XG4gICAgbGV0IG9iamVjdHNfZGF0YSA9IFtdO1xuICAgIC8vIFRPRE86IHRoaXMgZmxhdHRlbnMgdGhlIHNlbGVjdGlvbi4gRWFjaCBvYmplY3QgZnJvbSBkaWZmZXJlbnRcbiAgICAvLyBjYXRhbG9ncyBhcmUgZW50ZXJlZCBpbiB0aGUgYXJyYXkuIFRvIGNoYW5nZSB0aGlzLCBtYXliZSBjaGFuZ2VcbiAgICAvLyB1cHN0cmVhbSB3aGF0IGlzIHJldHVybmVkIHVwb24gc2VsZWN0aW9uP1xuICAgIGNhdGFsb2dzLmZvckVhY2goKGNhdGFsb2cpID0+IHtcbiAgICAgIGNhdGFsb2cuZm9yRWFjaCgob2JqZWN0KSA9PiB7XG4gICAgICAgIG9iamVjdHNfZGF0YS5wdXNoKHtcbiAgICAgICAgICByYTogb2JqZWN0LnJhLFxuICAgICAgICAgIGRlYzogb2JqZWN0LmRlYyxcbiAgICAgICAgICBkYXRhOiBvYmplY3QuZGF0YSxcbiAgICAgICAgICB4OiBvYmplY3QueCxcbiAgICAgICAgICB5OiBvYmplY3QueSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBtb2RlbC5zZW5kKHtcbiAgICAgIGV2ZW50X3R5cGU6IFwic2VsZWN0XCIsXG4gICAgICBjb250ZW50OiBvYmplY3RzX2RhdGEsXG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qIEFsYWRpbiBmdW5jdGlvbmFsaXRpZXMgKi9cblxuICBtb2RlbC5vbihcImNoYW5nZTpjb29fZnJhbWVcIiwgKCkgPT4ge1xuICAgIGFsYWRpbi5zZXRGcmFtZShtb2RlbC5nZXQoXCJjb29fZnJhbWVcIikpO1xuICB9KTtcblxuICBtb2RlbC5vbihcImNoYW5nZTpzdXJ2ZXlcIiwgKCkgPT4ge1xuICAgIGFsYWRpbi5zZXRJbWFnZVN1cnZleShtb2RlbC5nZXQoXCJzdXJ2ZXlcIikpO1xuICB9KTtcblxuICBtb2RlbC5vbihcImNoYW5nZTpvdmVybGF5X3N1cnZleVwiLCAoKSA9PiB7XG4gICAgYWxhZGluLnNldE92ZXJsYXlJbWFnZUxheWVyKG1vZGVsLmdldChcIm92ZXJsYXlfc3VydmV5XCIpKTtcbiAgfSk7XG5cbiAgbW9kZWwub24oXCJjaGFuZ2U6b3ZlcmxheV9zdXJ2ZXlfb3BhY2l0eVwiLCAoKSA9PiB7XG4gICAgYWxhZGluLmdldE92ZXJsYXlJbWFnZUxheWVyKCkuc2V0QWxwaGEobW9kZWwuZ2V0KFwib3ZlcmxheV9zdXJ2ZXlfb3BhY2l0eVwiKSk7XG4gIH0pO1xuXG4gIG1vZGVsLm9uKFwibXNnOmN1c3RvbVwiLCAobXNnKSA9PiB7XG4gICAgbGV0IG9wdGlvbnMgPSB7fTtcbiAgICBzd2l0Y2ggKG1zZ1tcImV2ZW50X25hbWVcIl0pIHtcbiAgICAgIGNhc2UgXCJhZGRfY2F0YWxvZ19mcm9tX1VSTFwiOlxuICAgICAgICBhbGFkaW4uYWRkQ2F0YWxvZyhBLmNhdGFsb2dGcm9tVVJMKG1zZ1tcInZvdGFibGVfVVJMXCJdLCBtc2dbXCJvcHRpb25zXCJdKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImFkZF9NT0NfZnJvbV9VUkxcIjpcbiAgICAgICAgLy8gbGluZXdpZHRoID0gMyBpcyBlYXNpZXIgdG8gc2VlIHRoYW4gdGhlIGRlZmF1bHQgMSBmcm9tIHVwc3RyZWFtXG4gICAgICAgIG9wdGlvbnMgPSBtc2dbXCJvcHRpb25zXCJdO1xuICAgICAgICBpZiAob3B0aW9uc1tcImxpbmVXaWR0aFwiXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgb3B0aW9uc1tcImxpbmVXaWR0aFwiXSA9IDM7XG4gICAgICAgIH1cbiAgICAgICAgYWxhZGluLmFkZE1PQyhBLk1PQ0Zyb21VUkwobXNnW1wibW9jX1VSTFwiXSwgb3B0aW9ucykpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhZGRfTU9DX2Zyb21fZGljdFwiOlxuICAgICAgICAvLyBsaW5ld2lkdGggPSAzIGlzIGVhc2llciB0byBzZWUgdGhhbiB0aGUgZGVmYXVsdCAxIGZyb20gdXBzdHJlYW1cbiAgICAgICAgb3B0aW9ucyA9IG1zZ1tcIm9wdGlvbnNcIl07XG4gICAgICAgIGlmIChvcHRpb25zW1wibGluZVdpZHRoXCJdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBvcHRpb25zW1wibGluZVdpZHRoXCJdID0gMztcbiAgICAgICAgfVxuICAgICAgICBhbGFkaW4uYWRkTU9DKEEuTU9DRnJvbUpTT04obXNnW1wibW9jX2RpY3RcIl0sIG9wdGlvbnMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYWRkX292ZXJsYXlfZnJvbV9zdGNzXCI6XG4gICAgICAgIGxldCBvdmVybGF5ID0gQS5ncmFwaGljT3ZlcmxheShtc2dbXCJvdmVybGF5X29wdGlvbnNcIl0pO1xuICAgICAgICBhbGFkaW4uYWRkT3ZlcmxheShvdmVybGF5KTtcbiAgICAgICAgb3ZlcmxheS5hZGRGb290cHJpbnRzKEEuZm9vdHByaW50c0Zyb21TVENTKG1zZ1tcInN0Y19zdHJpbmdcIl0pKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY2hhbmdlX2NvbG9ybWFwXCI6XG4gICAgICAgIGFsYWRpbi5nZXRCYXNlSW1hZ2VMYXllcigpLnNldENvbG9ybWFwKG1zZ1tcImNvbG9ybWFwXCJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZ2V0X0pQR190aHVtYm5haWxcIjpcbiAgICAgICAgYWxhZGluLmV4cG9ydEFzUE5HKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInRyaWdnZXJfcmVjdGFuZ3VsYXJfc2VsZWN0aW9uXCI6XG4gICAgICAgIGFsYWRpbi5zZWxlY3QoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYWRkX3RhYmxlXCI6XG4gICAgICAgIGxldCB0YWJsZV9ieXRlcyA9IG1vZGVsLmdldChcIl90YWJsZVwiKTtcbiAgICAgICAgbGV0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiKTtcbiAgICAgICAgbGV0IGJsb2IgPSBuZXcgQmxvYihbZGVjb2Rlci5kZWNvZGUodGFibGVfYnl0ZXMpXSk7XG4gICAgICAgIGxldCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBBLmNhdGFsb2dGcm9tVVJMKFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICBPYmplY3QuYXNzaWduKG1zZy5vcHRpb25zLCB7IG9uQ2xpY2s6IFwic2hvd1RhYmxlXCIgfSksXG4gICAgICAgICAgKGNhdGFsb2cpID0+IHtcbiAgICAgICAgICAgIGFsYWRpbi5hZGRDYXRhbG9nKGNhdGFsb2cpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICk7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIC8vIG5lZWQgdG8gdW5zdWJzY3JpYmUgdGhlIGxpc3RlbmVyc1xuICAgIG1vZGVsLm9mZihcImNoYW5nZTp0YXJnZXRcIik7XG4gICAgbW9kZWwub2ZmKFwiY2hhbmdlOmZvdlwiKTtcbiAgICBtb2RlbC5vZmYoXCJjaGFuZ2U6aGVpZ2h0XCIpO1xuICAgIG1vZGVsLm9mZihcImNoYW5nZTpjb29fZnJhbWVcIik7XG4gICAgbW9kZWwub2ZmKFwiY2hhbmdlOnN1cnZleVwiKTtcbiAgICBtb2RlbC5vZmYoXCJjaGFuZ2U6b3ZlcmxheV9zdXJ2ZXlcIik7XG4gICAgbW9kZWwub2ZmKFwiY2hhbmdlOm92ZXJsYXlfc3VydmV5X29wYWNpdHlcIik7XG4gICAgbW9kZWwub2ZmKFwiY2hhbmdlOnRyaWdnZXJfZXZlbnRcIik7XG4gICAgbW9kZWwub2ZmKFwiY2hhbmdlOl90YWJsZVwiKTtcbiAgICBtb2RlbC5vZmYoXCJtc2c6Y3VzdG9tXCIpO1xuXG4gICAgYWxhZGluLm9mZihcInBvc2l0aW9uQ2hhbmdlZFwiKTtcbiAgICBhbGFkaW4ub2ZmKFwiem9vbUNoYW5nZWRcIik7XG4gICAgYWxhZGluLm9mZihcIm9iamVjdEhvdmVyZWRcIik7XG4gICAgYWxhZGluLm9mZihcIm9iamVjdENsaWNrZWRcIik7XG4gICAgYWxhZGluLm9mZihcImNsaWNrXCIpO1xuICAgIGFsYWRpbi5vZmYoXCJzZWxlY3RcIik7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgaW5pdGlhbGl6ZSwgcmVuZGVyIH07XG4iXSwKICAibWFwcGluZ3MiOiAiQUFBQSxPQUFPQSxNQUFPLHdDQUdkLElBQUlDLEVBQVUsRUFFZCxTQUFTQyxFQUF5QkMsRUFBUSxDQUN4QyxJQUFJQyxFQUFPRCxFQUFPLE1BQU0sR0FBRyxFQUMzQixRQUFTRSxFQUFJLEVBQUdBLEVBQUlELEVBQUssT0FBUUMsSUFDL0JELEVBQUtDLENBQUMsRUFBSUQsRUFBS0MsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxFQUFFLFlBQVksRUFBSUQsRUFBS0MsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUU3RCxPQUFPRCxFQUFLLEtBQUssRUFBRSxDQUNyQixDQUVBLGVBQWVFLEVBQVcsQ0FBRSxNQUFBQyxDQUFNLEVBQUcsQ0FDbkMsTUFBTUMsRUFBRSxLQUVSLElBQUlDLEVBQWUsQ0FBQyxFQUNwQkYsRUFBTSxJQUFJLGNBQWMsRUFBRSxRQUFTRyxHQUFnQixDQUNqREQsRUFBYVAsRUFBeUJRLENBQVcsQ0FBQyxFQUNoREgsRUFBTSxJQUFJRyxDQUFXLEVBRXpCLElBQUlDLEVBQVksU0FBUyxjQUFjLEtBQUssRUFDNUNBLEVBQVUsVUFBVSxJQUFJLGVBQWUsRUFDdkNBLEVBQVUsTUFBTSxPQUFTLEdBQUdGLEVBQWEsTUFBUyxLQUVsREUsRUFBVSxHQUFLLG1CQUFtQlYsQ0FBTyxHQUN6QyxJQUFJVyxFQUFTLElBQUlKLEVBQUUsT0FBT0csRUFBV0YsQ0FBWSxFQUNqRFIsR0FBVyxFQVFYLElBQUlZLEVBQVksR0FDWkMsRUFBWSxHQUVoQkYsRUFBTyxHQUFHLGtCQUFvQkcsR0FBYSxDQUNwQ0QsRUFLSEEsRUFBWSxJQUpaRCxFQUFZLEdBQ1pOLEVBQU0sSUFBSSxTQUFVLEdBQUdRLEVBQVMsRUFBRSxJQUFJQSxFQUFTLEdBQUcsRUFBRSxFQUNwRFIsRUFBTSxhQUFhLEVBSXZCLENBQUMsRUFFREEsRUFBTSxHQUFHLGdCQUFpQixJQUFNLENBQzlCLEdBQUtNLEVBS0hBLEVBQVksT0FMRSxDQUNkQyxFQUFZLEdBQ1osSUFBSUUsRUFBU1QsRUFBTSxJQUFJLFFBQVEsRUFDL0JLLEVBQU8sV0FBV0ksQ0FBTSxDQUMxQixDQUdGLENBQUMsQ0FFRCxDQUFDLENBQ0gsQ0FFQSxTQUFTQyxFQUFPLENBQUUsTUFBQVYsRUFBTyxHQUFBVyxDQUFHLEVBQUcsQ0FRN0JBLEVBQUcsWUFBWSxTQUFTLEVBU3hCLElBQUlDLEVBQVMsR0FDVEMsRUFBUyxHQUViLGNBQU8sR0FBRyxjQUFnQkMsR0FBUSxDQUMzQkYsRUFNSEEsRUFBUyxJQUxUQyxFQUFTLEdBRVRiLEVBQU0sSUFBSSxNQUFPLFdBQVdjLEVBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUMzQ2QsRUFBTSxhQUFhLEVBSXZCLENBQUMsRUFFREEsRUFBTSxHQUFHLGFBQWMsSUFBTSxDQUMzQixHQUFLYSxFQUtIQSxFQUFTLE9BTEUsQ0FDWEQsRUFBUyxHQUNULElBQUlFLEVBQU1kLEVBQU0sSUFBSSxLQUFLLEVBQ3pCLE9BQU8sT0FBT2MsQ0FBRyxDQUNuQixDQUdGLENBQUMsRUFJRGQsRUFBTSxHQUFHLGdCQUFpQixJQUFNLENBQzlCLElBQUllLEVBQVNmLEVBQU0sSUFBSSxRQUFRLEVBQy9CLFVBQVUsTUFBTSxPQUFTLEdBQUdlLENBQU0sSUFDcEMsQ0FBQyxFQUlELE9BQU8sR0FBRyxnQkFBa0JDLEdBQVcsQ0FDakNBLEVBQU8sTUFBVyxNQUNwQmhCLEVBQU0sS0FBSyxDQUNULFdBQVksaUJBQ1osUUFBUyxDQUNQLEdBQUlnQixFQUFPLEdBQ1gsSUFBS0EsRUFBTyxHQUNkLENBQ0YsQ0FBQyxDQUVMLENBQUMsRUFFRCxPQUFPLEdBQUcsZ0JBQWtCQyxHQUFZLENBQ3RDLElBQUlDLEVBQWtCLENBQ3BCLEdBQUlELEVBQVEsR0FDWixJQUFLQSxFQUFRLEdBQ2YsRUFDSUEsRUFBUSxPQUFZLFNBQ3RCQyxFQUFnQixLQUFVRCxFQUFRLE1BRXBDakIsRUFBTSxJQUFJLFVBQVdrQixDQUFlLEVBRXBDbEIsRUFBTSxLQUFLLENBQ1QsV0FBWSxpQkFDWixRQUFTa0IsQ0FDWCxDQUFDLEVBQ0RsQixFQUFNLGFBQWEsQ0FDckIsQ0FBQyxFQUVELE9BQU8sR0FBRyxRQUFVbUIsR0FBa0IsQ0FDcENuQixFQUFNLEtBQUssQ0FDVCxXQUFZLFFBQ1osUUFBU21CLENBQ1gsQ0FBQyxDQUNILENBQUMsRUFFRCxPQUFPLEdBQUcsU0FBV0MsR0FBYSxDQUNoQyxJQUFJQyxFQUFlLENBQUMsRUFJcEJELEVBQVMsUUFBU0UsR0FBWSxDQUM1QkEsRUFBUSxRQUFTTixHQUFXLENBQzFCSyxFQUFhLEtBQUssQ0FDaEIsR0FBSUwsRUFBTyxHQUNYLElBQUtBLEVBQU8sSUFDWixLQUFNQSxFQUFPLEtBQ2IsRUFBR0EsRUFBTyxFQUNWLEVBQUdBLEVBQU8sQ0FDWixDQUFDLENBQ0gsQ0FBQyxDQUNILENBQUMsRUFDRGhCLEVBQU0sS0FBSyxDQUNULFdBQVksU0FDWixRQUFTcUIsQ0FDWCxDQUFDLENBQ0gsQ0FBQyxFQUlEckIsRUFBTSxHQUFHLG1CQUFvQixJQUFNLENBQ2pDLE9BQU8sU0FBU0EsRUFBTSxJQUFJLFdBQVcsQ0FBQyxDQUN4QyxDQUFDLEVBRURBLEVBQU0sR0FBRyxnQkFBaUIsSUFBTSxDQUM5QixPQUFPLGVBQWVBLEVBQU0sSUFBSSxRQUFRLENBQUMsQ0FDM0MsQ0FBQyxFQUVEQSxFQUFNLEdBQUcsd0JBQXlCLElBQU0sQ0FDdEMsT0FBTyxxQkFBcUJBLEVBQU0sSUFBSSxnQkFBZ0IsQ0FBQyxDQUN6RCxDQUFDLEVBRURBLEVBQU0sR0FBRyxnQ0FBaUMsSUFBTSxDQUM5QyxPQUFPLHFCQUFxQixFQUFFLFNBQVNBLEVBQU0sSUFBSSx3QkFBd0IsQ0FBQyxDQUM1RSxDQUFDLEVBRURBLEVBQU0sR0FBRyxhQUFldUIsR0FBUSxDQUM5QixJQUFJQyxFQUFVLENBQUMsRUFDZixPQUFRRCxFQUFJLFdBQWUsQ0FDekIsSUFBSyx1QkFDSCxPQUFPLFdBQVd0QixFQUFFLGVBQWVzQixFQUFJLFlBQWdCQSxFQUFJLE9BQVUsQ0FBQyxFQUN0RSxNQUNGLElBQUssbUJBRUhDLEVBQVVELEVBQUksUUFDVkMsRUFBUSxZQUFpQixTQUMzQkEsRUFBUSxVQUFlLEdBRXpCLE9BQU8sT0FBT3ZCLEVBQUUsV0FBV3NCLEVBQUksUUFBWUMsQ0FBTyxDQUFDLEVBQ25ELE1BQ0YsSUFBSyxvQkFFSEEsRUFBVUQsRUFBSSxRQUNWQyxFQUFRLFlBQWlCLFNBQzNCQSxFQUFRLFVBQWUsR0FFekIsT0FBTyxPQUFPdkIsRUFBRSxZQUFZc0IsRUFBSSxTQUFhQyxDQUFPLENBQUMsRUFDckQsTUFDRixJQUFLLHdCQUNILElBQUlDLEVBQVV4QixFQUFFLGVBQWVzQixFQUFJLGVBQWtCLEVBQ3JELE9BQU8sV0FBV0UsQ0FBTyxFQUN6QkEsRUFBUSxjQUFjeEIsRUFBRSxtQkFBbUJzQixFQUFJLFVBQWEsQ0FBQyxFQUM3RCxNQUNGLElBQUssa0JBQ0gsT0FBTyxrQkFBa0IsRUFBRSxZQUFZQSxFQUFJLFFBQVcsRUFDdEQsTUFDRixJQUFLLG9CQUNILE9BQU8sWUFBWSxFQUNuQixNQUNGLElBQUssZ0NBQ0gsT0FBTyxPQUFPLEVBQ2QsTUFDRixJQUFLLFlBQ0gsSUFBSUcsRUFBYzFCLEVBQU0sSUFBSSxRQUFRLEVBQ2hDMkIsRUFBVSxJQUFJLFlBQVksT0FBTyxFQUNqQ0MsRUFBTyxJQUFJLEtBQUssQ0FBQ0QsRUFBUSxPQUFPRCxDQUFXLENBQUMsQ0FBQyxFQUM3Q0csRUFBTSxJQUFJLGdCQUFnQkQsQ0FBSSxFQUNsQzNCLEVBQUUsZUFDQTRCLEVBQ0EsT0FBTyxPQUFPTixFQUFJLFFBQVMsQ0FBRSxRQUFTLFdBQVksQ0FBQyxFQUNsREQsR0FBWSxDQUNYLE9BQU8sV0FBV0EsQ0FBTyxDQUMzQixFQUNBLEVBQ0YsRUFDQSxJQUFJLGdCQUFnQk8sQ0FBRyxFQUN2QixLQUNKLENBQ0YsQ0FBQyxFQUVNLElBQU0sQ0FFWDdCLEVBQU0sSUFBSSxlQUFlLEVBQ3pCQSxFQUFNLElBQUksWUFBWSxFQUN0QkEsRUFBTSxJQUFJLGVBQWUsRUFDekJBLEVBQU0sSUFBSSxrQkFBa0IsRUFDNUJBLEVBQU0sSUFBSSxlQUFlLEVBQ3pCQSxFQUFNLElBQUksdUJBQXVCLEVBQ2pDQSxFQUFNLElBQUksK0JBQStCLEVBQ3pDQSxFQUFNLElBQUksc0JBQXNCLEVBQ2hDQSxFQUFNLElBQUksZUFBZSxFQUN6QkEsRUFBTSxJQUFJLFlBQVksRUFFdEIsT0FBTyxJQUFJLGlCQUFpQixFQUM1QixPQUFPLElBQUksYUFBYSxFQUN4QixPQUFPLElBQUksZUFBZSxFQUMxQixPQUFPLElBQUksZUFBZSxFQUMxQixPQUFPLElBQUksT0FBTyxFQUNsQixPQUFPLElBQUksUUFBUSxDQUNyQixDQUNGLENBRUEsSUFBTzhCLEVBQVEsQ0FBRSxXQUFBL0IsRUFBWSxPQUFBVyxDQUFPIiwKICAibmFtZXMiOiBbIkEiLCAiaWR4VmlldyIsICJjb252ZXJ0X3B5bmFtZV90b19qc25hbWUiLCAicHluYW1lIiwgInRlbXAiLCAiaSIsICJpbml0aWFsaXplIiwgIm1vZGVsIiwgIkEiLCAiaW5pdF9vcHRpb25zIiwgIm9wdGlvbl9uYW1lIiwgImFsYWRpbkRpdiIsICJhbGFkaW4iLCAidGFyZ2V0X2pzIiwgInRhcmdldF9weSIsICJwb3NpdGlvbiIsICJ0YXJnZXQiLCAicmVuZGVyIiwgImVsIiwgImZvdl9weSIsICJmb3ZfanMiLCAiZm92IiwgImhlaWdodCIsICJvYmplY3QiLCAiY2xpY2tlZCIsICJjbGlja2VkX2NvbnRlbnQiLCAiY2xpY2tfY29udGVudCIsICJjYXRhbG9ncyIsICJvYmplY3RzX2RhdGEiLCAiY2F0YWxvZyIsICJtc2ciLCAib3B0aW9ucyIsICJvdmVybGF5IiwgInRhYmxlX2J5dGVzIiwgImRlY29kZXIiLCAiYmxvYiIsICJ1cmwiLCAid2lkZ2V0X2RlZmF1bHQiXQp9Cg==
