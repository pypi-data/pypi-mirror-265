import{p as M,g as O,l as t,v as G,r as P,f as X,aa as Z,Q as ee,w as te,c as z,y as i,E as d,A as a,z as p,I as m,x as y,H as T,B as c,R as _,N as s,n as N,F as I,G as R,ag as F,J as U,M as D,aq as ie,L as H,_ as ae,K as oe}from"./index-2ed92f93.js";import{B as x,_ as Y,L as q,C as re}from"./Container-49aaa795.js";import{M as S,g as j,b as le}from"./VBadge-37788c48.js";import{e as se,a as ne}from"./contextmenu-66a55ea8.js";import{a as me,i as de,V as J,n as V,l as B,v as ue,k as pe}from"./forwardRefs-b2545869.js";import{d as E,e as ye,b as Q}from"./VMenu-16697a26.js";import{a as fe,V as ce}from"./VCardText-2fda0657.js";import{a as C,V as K,b as ge}from"./VCard-c4a81832.js";import{V as ve}from"./VTooltip-11295f6e.js";import{b as be,c as he}from"./layout-42880efd.js";import{V as ke}from"./VDialog-c8a7f177.js";import{V as Ve}from"./VCheckboxBtn-f2c5d38b.js";import{V as Ce}from"./VToolbar-25636a36.js";const _e=M({...me(),...be()},"VLayout"),$e=O()({name:"VLayout",props:_e(),setup(v,n){let{slots:f}=n;const{layoutClasses:u,layoutStyles:b,getLayoutItem:h,items:l,layoutRef:w}=he(v);return de(()=>{var $;return t("div",{ref:w,class:[u.value,v.class],style:[b.value,v.style]},[($=f.default)==null?void 0:$.call(f)])}),{getLayoutItem:h,items:l}}}),we={key:0,xs5:"","pa-5":"",style:{width:"230px",height:"230px","margin-top":"15px","margin-bottom":"15px","margin-right":"24px"}},Le={key:0},Te={key:1},Ie={style:{"padding-bottom":"10px"}},Re=["onClick"],Be={style:{color:"primary"}},De={style:{display:"flex","margin-left":"14px","padding-bottom":"10px"}},He=["innerHTML"],Ae={key:1,class:"justify-center",style:{"margin-left":"15px","padding-bottom":"20px"}},Xe=G({__name:"InfoHeader",props:{item:{}},setup(v){const n=v,f=P(!1),u=P(),{mobile:b}=X(),h=new URL(""+new URL("info_gradient-a4aefd1d.jpg",import.meta.url).href,self.location).href,l=Z();ee(),te(()=>n.item,async e=>{e&&(u.value=j(n.item,F.FANART)||j(n.item,F.THUMB))},{immediate:!0});const w=function(e){l.push({name:"album",params:{itemId:e.item_id,provider:e.provider}})},$=function(e){l.push({name:"artist",params:{itemId:e.item_id,provider:e.provider}})},L=z(()=>{let e="";return n.item?(n.item.metadata&&n.item.metadata.description?e=n.item.metadata.description:n.item.metadata&&n.item.metadata.copyright?e=n.item.metadata.copyright:"artists"in n.item&&n.item.artists.forEach(function(o){"metadata"in o&&o.metadata.description&&(e=o.metadata.description)}),e=e.replace(`\r
`,"<br /><br /><br />"),e=e.replace("\r","<br /><br />"),e=e.replace(`
`,"<br /><br />"),e):""}),A=z(()=>{const e=b.value?160:260;return L.value.length>e?L.value.substring(0,e)+"...":L.value});return(e,o)=>(i(),d("div",null,[t(K,{variant:"flat",img:y(h),style:{"margin-top":"-10px","z-index":"0"},height:"30vh","max-height":"500px","min-height":"340px"},{default:a(()=>[e.item?m("",!0):(i(),p(ue,{key:0,indeterminate:""})),t(J,{width:"100%",height:"100%",cover:"",class:"background-image",src:u.value,gradient:e.$vuetify.theme.current.dark?"to bottom, rgba(0,0,0,.90), rgba(0,0,0,.75)":"to bottom, rgba(255,255,255,.90), rgba(255,255,255,.75)"},null,8,["src","gradient"]),y(U).prevScrollName?(i(),p(x,{key:1,"xx-large":"",style:{position:"absolute",width:"40px, height:40px",right:"4px",top:"10px"},icon:"mdi-arrow-left",title:e.$t("tooltip.back"),onClick:o[0]||(o[0]=T(k=>y(l).go(-1),["stop"]))},null,8,["title"])):m("",!0),e.item?(i(),p($e,{key:2,style:{margin:"0",position:"absolute",top:"50%","-ms-transform":"translateY(-50%)",transform:"translateY(-50%)","padding-left":"15px","align-items":"center","padding-right":"15px"}},{default:a(()=>{var k;return[e.$vuetify.display.mobile?m("",!0):(i(),d("div",we,[e.item.media_type&&(e.item.media_type==y(D).ARTIST||"owner"in e.item)?(i(),d("div",Le,[t(E,{size:"192"},{default:a(()=>[t(S,{item:e.item,height:230,width:230},null,8,["item"])]),_:1})])):(i(),d("div",Te,[t(S,{width:230,item:e.item},null,8,["item"])]))])),c("div",null,[t(fe,null,{default:a(()=>[_(s(e.item.name),1)]),_:1}),c("div",Ie,["version"in e.item&&e.item.version?(i(),p(C,{key:0,class:"caption"},{default:a(()=>[_(s(e.item.version)+" ",1),t(ve,{location:"bottom"},{activator:a(({props:r})=>[y(ie)(e.item.metadata.explicit||!1)?(i(),p(V,N({key:0},r,{icon:"mdi-alpha-e-box",width:"35"}),null,16)):m("",!0)]),default:a(()=>[c("span",null,s(e.$t("tooltip.explicit")),1)]),_:1})]),_:1})):m("",!0),"artists"in e.item&&e.item.artists?(i(),p(C,{key:1,class:"title accent--text"},{default:a(()=>[t(V,{style:{"margin-left":"-3px","margin-right":"3px"},small:"",color:"primary",icon:"mdi-account-music"}),(i(!0),d(I,null,R(e.item.artists,(r,g)=>(i(),d("span",{key:r.item_id},[c("a",{style:{color:"accent"},onClick:W=>$(r)},s(r.name),9,Re),g+1<e.item.artists.length?(i(),d("span",{key:g,style:{color:"accent"}},s(" / "))):m("",!0)]))),128))]),_:1})):m("",!0),"artist"in e.item&&e.item.artist?(i(),p(C,{key:2,class:"title"},{default:a(()=>[t(V,{style:{"margin-left":"-3px","margin-right":"3px"},small:"",color:"primary",icon:"mdi-account-music"}),c("a",{onClick:o[1]||(o[1]=r=>$(e.item.artist))},s(e.item.artist.name),1)]),_:1})):m("",!0),"owner"in e.item&&e.item.owner?(i(),p(C,{key:3,class:"title"},{default:a(()=>[t(V,{color:"primary",style:{"margin-left":"-3px","margin-right":"3px"},small:"",icon:"mdi-account-music"}),c("a",Be,s(e.item.owner),1)]),_:1})):m("",!0),"album"in e.item&&e.item.album?(i(),p(C,{key:4},{default:a(()=>[t(V,{color:"primary",style:{"margin-left":"-3px","margin-right":"3px"},small:"",icon:"mdi-album"}),c("a",{style:{color:"secondary"},onClick:o[2]||(o[2]=r=>{var g;return w((g=e.item)==null?void 0:g.album)})},s(e.item.album.name),1)]),_:1})):m("",!0)]),c("div",De,[t(B,{color:"primary","prepend-icon":"mdi-play-circle",disabled:!((k=y(U).selectedPlayer)!=null&&k.available),onClick:o[3]||(o[3]=r=>y(se).emit("playdialog",{items:[e.item],parentItem:e.item,showContextMenuItems:!1}))},{default:a(()=>[_(s(e.$t("play")),1)]),_:1},8,["disabled"]),t(ye,null,{activator:a(({props:r})=>[t(x,N({icon:"",style:{"margin-top":"-8px"}},r),{default:a(()=>[t(V,{icon:"mdi-dots-vertical"})]),_:2},1040)]),default:a(()=>[t(Q,null,{default:a(()=>[(i(!0),d(I,null,R(y(ne)([e.item],e.item).filter(r=>r.hide!=!0),(r,g)=>(i(),p(q,{key:g,title:e.$t(r.label,r.labelArgs),disabled:r.disabled==!0,onClick:W=>r.action?r.action():""},{prepend:a(()=>[t(E,{icon:r.icon},null,8,["icon"])]),_:2},1032,["title","disabled","onClick"]))),128))]),_:1})]),_:1}),t(B,{variant:"plain",ripple:"",icon:e.item.favorite?"mdi-heart":"mdi-heart-outline",size:"x-large",style:{"margin-top":"-14px"},title:e.$t("tooltip.favorite"),onClick:[o[4]||(o[4]=r=>y(H).toggleFavorite(e.item)),o[5]||(o[5]=T(()=>{},["prevent"])),o[6]||(o[6]=T(()=>{},["stop"]))]},null,8,["icon","title"]),t(Y,{domain:e.item.provider,size:25,style:{"margin-top":"4px"}},null,8,["domain"])]),A.value?(i(),p(C,{key:0,class:"body-2 justify-left",style:{"padding-bottom":"10px","white-space":"pre-line",cursor:"pointer"},onClick:o[7]||(o[7]=r=>f.value=!f.value)},{default:a(()=>[c("div",{innerHTML:A.value},null,8,He)]),_:1})):m("",!0),e.item&&e.item.metadata.genres?(i(),d("div",Ae,[(i(!0),d(I,null,R(e.item.metadata.genres.slice(0,e.$vuetify.display.mobile?15:25),r=>(i(),p(Ve,{key:r,color:"blue-grey lighten-1",style:{"margin-right":"5px","margin-bottom":"5px"},small:"",outlined:""},{default:a(()=>[_(s(r),1)]),_:2},1024))),128))])):m("",!0)])]}),_:1})):m("",!0)]),_:1},8,["img"]),t(ke,{modelValue:f.value,"onUpdate:modelValue":o[9]||(o[9]=k=>f.value=k),"max-width":"975",width:"auto"},{default:a(()=>[t(K,null,{default:a(()=>[t(ce,{innerHTML:L.value},null,8,["innerHTML"]),t(ge,null,{default:a(()=>[t(B,{color:"primary",block:"",onClick:o[8]||(o[8]=k=>f.value=!1)},{default:a(()=>[_(s(e.$t("close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});const Pe={style:{"margin-bottom":"10px"}},ze={key:0},Ne=["title","onClick"],Fe=["title"],Ue=["src"],Ze=G({__name:"ProviderDetails",props:{itemDetails:{}},setup(v){const n=function(u){window.open(u,"_blank")},f=function(u,b){return`${H.baseUrl}/preview?provider=${u}&item_id=${encodeURIComponent(b)}`};return(u,b)=>(i(),d("section",Pe,[t(Ce,{color:"transparent",title:u.$t("mapped_providers"),style:{height:"55px"}},null,8,["title"]),t(pe),t(re,null,{default:a(()=>[t(Q,null,{default:a(()=>{var h;return[(i(!0),d(I,null,R((h=u.itemDetails)==null?void 0:h.provider_mappings,l=>(i(),p(q,{key:l.provider_instance},{prepend:a(()=>[t(Y,{domain:l.provider_domain,size:30},null,8,["domain"])]),title:a(()=>[_(s(y(H).providerManifests[l.provider_domain].name),1)]),subtitle:a(()=>[u.itemDetails.media_type==y(D).TRACK?(i(),d("span",ze,s(l.audio_format.content_type)+" | "+s(l.audio_format.sample_rate/1e3)+"kHz/"+s(l.audio_format.bit_depth)+" bits | ",1)):m("",!0),l.url&&!l.provider_domain.startsWith("file")?(i(),d("a",{key:1,style:{opacity:"0.4"},title:u.$t("tooltip.open_provider_link"),onClick:T(w=>n(l.url),["prevent"])},s(l.url),9,Ne)):(i(),d("span",{key:2,style:{opacity:"0.4"},title:l.item_id},s(l.item_id),9,Fe))]),append:a(()=>[l.audio_format.bit_depth>16?(i(),p(J,{key:0,src:y(le),width:"30",class:ae(u.$vuetify.theme.current.dark?"hiresicondark":"hiresicon"),style:{"margin-right":"15px"}},null,8,["src","class"])):m("",!0),y(oe)("bp1")&&u.itemDetails.media_type==y(D).TRACK?(i(),d("audio",{key:1,name:"preview",title:"preview",controls:"",src:f(l.provider_domain,l.item_id)},null,8,Ue)):m("",!0)]),_:2},1024))),128))]}),_:1})]),_:1})]))}});export{Xe as _,Ze as a};
