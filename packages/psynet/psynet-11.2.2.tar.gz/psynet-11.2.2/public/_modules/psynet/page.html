<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>psynet.page - PsyNet 11.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=a26321a0" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">PsyNet 11.1.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  
  <span class="sidebar-brand-text">PsyNet 11.1.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/applications.html">When to use PsyNet?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/team.html">Team</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/command_line.html">Command line</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../learning/how_to_learn.html">How to learn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../learning/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../learning/exercises/index.html">Exercises</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Exercises</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../learning/exercises/timeline.html">Timeline exercise</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/exercises/graphics.html">Graphics exercise</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/exercises/js_synth.html">JSSynth exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../learning/tracks/index.html">Tracks</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Tracks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../learning/tracks/music_perception.html">Music perception track</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Dependencies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../dependencies/dallinger.html">Dallinger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dependencies/docker.html">Docker</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">INSTALLATION</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../installation/index.html">Installation overview</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Installation overview</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../installation/virtualenv_installation/index.html">Installing PsyNet via virtualenv</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Installing PsyNet via virtualenv</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../installation/virtualenv_installation/linux.html">Installing PsyNet via virtualenv (Linux)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../installation/virtualenv_installation/macos.html">Installing PsyNet via virtualenv (macOS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../installation/virtualenv_installation/windows.html">Installing PsyNet via virtualenv (Windows)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../installation/docker_installation/index.html">Installing PsyNet via Docker</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Installing PsyNet via Docker</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../installation/docker_installation/unix_installation.html">Installing PsyNet via Docker (macOS/Linux)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../installation/docker_installation/windows_installation.html">Installing PsyNet via Docker (Windows)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">EXPERIMENT DEVELOPMENT</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../experiment_development/experiment_directory.html">Experiment directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../experiment_development/development_workflow.html">Development workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../experiment_development/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../experiment_development/dependencies.html">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../experiment_development/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../demos/index.html">Demos</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Demos</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../demos/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/hello_world.html">Hello world</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/timeline.html">Timeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/survey_js.html">SurveyJS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/trial.html">Trials (1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/trial_2.html">Trials (2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/trial_3.html">Trials (3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/audio.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/static_audio.html">Audio trial maker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/gibbs.html">Gibbs Sampling with People</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/audio_gibbs.html">Audio Gibbs Sampling with People</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/imitation_chains.html">Imitation chains</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/tapping_imitation_chain.html">Tapping imitation chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../demos/mcmcp.html">Markov Chain Monte Carlo with People (MCMCP)</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../example_experiments/index.html">Example experiments</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Example experiments</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../example_experiments/carillon.html">Consonance and the carillon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../example_experiments/emotions-scales.html">Emotions of musical scales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../example_experiments/pitch-matching.html">Pitch-matching test</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/creating_a_new_experiment.html">Creating a new experiment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/classes.html">Classes in PsyNet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/timeline.html">Timeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/assets.html">Assets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/specifying_dependencies.html">Specifying dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/tests.html">Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/internationalization.html">Internationalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/synchronization.html">Synchronization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/ad_page.html">The Ad Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/modular_page.html">Modular Pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/graphics.html">Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/demography.html">Demography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/prescreening_tasks.html">Pre-screening tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/create_and_rate.html">Create and Rate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/pre_deploy_routines.html">Pre-deploy routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/experiment_variables.html">Experiment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/unity_integration.html">Unity integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/writing_custom_frontends.html">Writing custom frontends</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/event_management.html">Event management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/communicating_with_backend.html">Communicating with the back-end via custom routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/payment_limits.html">Payment limits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/deploy_tokens.html">Deploy tokens</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/introduction_to_sql_alchemy.html">Introduction to SQLAlchemy</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../tutorials/version_control_with_git.html">Version control with Git</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Version control with Git</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/version_control_with_git/essential_concepts.html">Essential concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/version_control_with_git/experiment_implementation_workflow.html">Experiment implementation workflow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/upgrading_to_psynet_10.html">Upgrading to PsyNet 10</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api/index.html">API Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of API Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/asset.html">Asset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/audio_mixer.html">AudioMixer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/bot.html">Bot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/command_line.html">Command line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/consents.html">Consents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/data.html">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/demography.html">Demography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/error.html">Error</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/experiment.html">Experiment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/field.html">Field</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/graphics.html">Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/js_synth.html">JSSynth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/media.html">Media</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/modular_page.html">ModularPage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/page.html">Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/participant.html">Participant</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/prescreen.html">Prescreen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/process.html">Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/recruiters.html">Recruiters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/redis.html">Redis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/serialize.html">Serialize</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/sync.html">Sync</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/timeline.html">Timeline</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/trial/index.html">Trial</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Trial</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/trial/audio.html">Audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/trial/audio_gibbs.html">AudioGibbs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/trial/chain.html">Chain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/trial/dense.html">Dense</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/trial/gibbs.html">Gibbs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/trial/graph.html">Graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/trial/imitation_chain.html">ImitationChain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/trial/main.html">Main</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/trial/media_gibbs.html">MediaGibbs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/trial/mcmcp.html">MCMCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/trial/record.html">Record</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/trial/static.html">Static</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/trial/video.html">Video</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/utils.html">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/version.html">Version</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DEPLOYING</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/web_servers.html">Web servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/aws_server_setup.html">Setting up an experiment server with AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/ssh_server.html">SSH servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/heroku_server.html">Heroku deployments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/prolific.html">Deploying an experiment to Prolific</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/deploy_from_archive.html">Deploying from archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/export.html">Exporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing to PsyNet</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../developer/workflow.html">Developer workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/contributing_a_feature_or_bugfix.html">Contributing a feature/bugfix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/prescreening_tasks.html">Creating pre-screening tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/updating_documentation.html">Updating documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/internationalization.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/running_tests.html">Running tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/making_a_release.html">Making a release</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Dashboards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../dashboards/translation.html">Translation dashboard</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <h1>Source code for psynet.page</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">importlib</span> <span class="kn">import</span> <span class="n">resources</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">ceil</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">dominate.dom_tag</span> <span class="kn">import</span> <span class="n">dom_tag</span>
<span class="kn">from</span> <span class="nn">markupsafe</span> <span class="kn">import</span> <span class="n">Markup</span><span class="p">,</span> <span class="n">escape</span>

<span class="kn">from</span> <span class="nn">.asset</span> <span class="kn">import</span> <span class="n">CachedAsset</span><span class="p">,</span> <span class="n">ExternalAsset</span>
<span class="kn">from</span> <span class="nn">.modular_page</span> <span class="kn">import</span> <span class="n">AudioPrompt</span><span class="p">,</span> <span class="n">ModularPage</span>
<span class="kn">from</span> <span class="nn">.timeline</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">CodeBlock</span><span class="p">,</span>
    <span class="n">EndPage</span><span class="p">,</span>
    <span class="n">Event</span><span class="p">,</span>
    <span class="n">Module</span><span class="p">,</span>
    <span class="n">Page</span><span class="p">,</span>
    <span class="n">PageMaker</span><span class="p">,</span>
    <span class="n">get_template</span><span class="p">,</span>
    <span class="n">join</span><span class="p">,</span>
    <span class="n">while_loop</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">get_logger</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">()</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s2">&quot;always&quot;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>


<div class="viewcode-block" id="InfoPage">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.InfoPage">[docs]</a>
<span class="k">class</span> <span class="nc">InfoPage</span><span class="p">(</span><span class="n">ModularPage</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This page displays some content to the user alongside a button</span>
<span class="sd">    with which to advance to the next page.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    content:</span>
<span class="sd">        The content to display to the user. Use :class:`markupsafe.Markup`</span>
<span class="sd">        to display raw HTML.</span>

<span class="sd">    time_estimate:</span>
<span class="sd">        Time estimated for the page.</span>

<span class="sd">    **kwargs:</span>
<span class="sd">        Further arguments to pass to :class:`psynet.modular_page.ModularPage`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">content</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Markup</span><span class="p">,</span> <span class="n">dom_tag</span><span class="p">],</span>
        <span class="n">time_estimate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">content</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;info&quot;</span><span class="p">,</span>
            <span class="n">prompt</span><span class="o">=</span><span class="n">content</span><span class="p">,</span>
            <span class="n">time_estimate</span><span class="o">=</span><span class="n">time_estimate</span><span class="p">,</span>
            <span class="n">save_answer</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="InfoPage.metadata">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.InfoPage.metadata">[docs]</a>
    <span class="k">def</span> <span class="nf">metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">}</span></div>


<div class="viewcode-block" id="InfoPage.get_bot_response">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.InfoPage.get_bot_response">[docs]</a>
    <span class="k">def</span> <span class="nf">get_bot_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">experiment</span><span class="p">,</span> <span class="n">bot</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.bot</span> <span class="kn">import</span> <span class="n">BotResponse</span>

        <span class="k">return</span> <span class="n">BotResponse</span><span class="p">(</span>
            <span class="n">answer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">metadata</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">(),</span>
        <span class="p">)</span></div>
</div>



<div class="viewcode-block" id="UnityPage">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.UnityPage">[docs]</a>
<span class="k">class</span> <span class="nc">UnityPage</span><span class="p">(</span><span class="n">Page</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is the main page when conducting Unity experiments. Its attributes ``contents`` and ``attributes`` can be accessed through the JavaScript variable ``psynet.page`` inside the page template.</span>

<span class="sd">    Ín order to conclude this page call the ``psynet.nextPage`` function which has following parameters:</span>

<span class="sd">    * ``rawAnswer``: The main answer that the page returns.</span>

<span class="sd">    * ``metadata``: Additional information that might be useful for debugging or other exploration, e.g. time taken on the page.</span>

<span class="sd">    * ``blobs``: Use this for large binaries, e.g. audio recordings.</span>

<span class="sd">    Once the ``psynet.nextPage`` function is called, PsyNet will navigate to a new page if the new page has a different session_id compared to the current page, otherwise it will update the page while preserving the ongoing Unity session, specifically updating ``psynet.page`` and triggering the JavaScript event ``pageUpdated`` in the ``window`` object.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    title:</span>
<span class="sd">        The title of the experiment to be rendered in the HTML title-tag of the page.</span>

<span class="sd">    game_container_width:</span>
<span class="sd">        The width of the game container, e.g. &#39;960px&#39;.</span>

<span class="sd">    game_container_height:</span>
<span class="sd">        The height of the game container, e.g. &#39;600px&#39;.</span>

<span class="sd">    resources:</span>
<span class="sd">        The path to the directory containing the Unity files residing inside the &quot;static&quot; directory. The path should start with &quot;/static&quot; and should comply with following basic structure:</span>

<span class="sd">        static/</span>
<span class="sd">        ├── css/</span>
<span class="sd">        └── scripts/</span>

<span class="sd">        css: Contains stylesheets</span>
<span class="sd">        scripts: Contains JavaScript files</span>

<span class="sd">    contents:</span>
<span class="sd">        A dictionary containing experiment specific data.</span>

<span class="sd">    time_estimate:</span>
<span class="sd">        Time estimated for the page (seconds).</span>

<span class="sd">    session_id:</span>
<span class="sd">        If session_id is not None, then it must be a string. If two consecutive pages occur with the same session_id, then when it’s time to move to the second page, the browser will not navigate to a new page, but will instead update the JavaScript variable psynet.page with metadata for the new page, and will trigger an event called pageUpdated. This event can be listened for with JavaScript code like window.addEventListener(”pageUpdated”, ...).</span>

<span class="sd">    debug:</span>
<span class="sd">        Specifies if we are in debug mode and use `unity-debug-page.html` as template instead of the standard `unity-page.html`.</span>

<span class="sd">    **kwargs:</span>
<span class="sd">        Further arguments to pass to :class:`psynet.timeline.Page`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">dynamically_update_progress_bar_and_reward</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">resources</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">contents</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
        <span class="n">session_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">game_container_width</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;960px&quot;</span><span class="p">,</span>
        <span class="n">game_container_height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;600px&quot;</span><span class="p">,</span>
        <span class="n">time_estimate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resources</span> <span class="o">=</span> <span class="n">resources</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span> <span class="o">=</span> <span class="n">contents</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">game_container_width</span> <span class="o">=</span> <span class="n">game_container_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">game_container_height</span> <span class="o">=</span> <span class="n">game_container_height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session_id</span> <span class="o">=</span> <span class="n">session_id</span>

        <span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;unity-debug-page.html&quot;</span> <span class="k">if</span> <span class="n">debug</span> <span class="k">else</span> <span class="s2">&quot;unity-page.html&quot;</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">contents</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">,</span>
            <span class="n">time_estimate</span><span class="o">=</span><span class="n">time_estimate</span><span class="p">,</span>
            <span class="n">template_str</span><span class="o">=</span><span class="n">get_template</span><span class="p">(</span><span class="n">template</span><span class="p">),</span>
            <span class="n">template_arg</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
                <span class="s2">&quot;resources&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resources</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="p">,</span>
                <span class="s2">&quot;contents&quot;</span><span class="p">:</span> <span class="p">{}</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">,</span>
                <span class="s2">&quot;game_container_width&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_container_width</span><span class="p">,</span>
                <span class="s2">&quot;game_container_height&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_container_height</span><span class="p">,</span>
                <span class="s2">&quot;session_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_id</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">session_id</span><span class="o">=</span><span class="n">session_id</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="UnityPage.metadata">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.UnityPage.metadata">[docs]</a>
    <span class="k">def</span> <span class="nf">metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;resources&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">resources</span><span class="p">,</span>
            <span class="s2">&quot;contents&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">,</span>
            <span class="s2">&quot;session_id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_id</span><span class="p">,</span>
            <span class="s2">&quot;time_taken&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">}</span></div>
</div>



<div class="viewcode-block" id="WaitPage">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.WaitPage">[docs]</a>
<span class="k">class</span> <span class="nc">WaitPage</span><span class="p">(</span><span class="n">Page</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This page makes the user wait for a specified amount of time</span>
<span class="sd">    before automatically continuing to the next page.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    wait_time:</span>
<span class="sd">        Time that the user should wait.</span>

<span class="sd">    content:</span>
<span class="sd">        Message to display to the participant while they wait.</span>
<span class="sd">        Default: &quot;Please wait, the experiment should continue shortly...&quot;</span>

<span class="sd">    **kwargs:</span>
<span class="sd">        Further arguments to pass to :class:`psynet.timeline.Page`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">content</span> <span class="o">=</span> <span class="s2">&quot;Please wait, the experiment should continue shortly...&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait_time</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">assert</span> <span class="n">wait_time</span> <span class="o">&gt;=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_time</span> <span class="o">=</span> <span class="n">wait_time</span>
        <span class="k">if</span> <span class="n">content</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">content</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">time_estimate</span><span class="o">=</span><span class="n">wait_time</span><span class="p">,</span>
            <span class="n">template_str</span><span class="o">=</span><span class="n">get_template</span><span class="p">(</span><span class="s2">&quot;wait-page.html&quot;</span><span class="p">),</span>
            <span class="n">template_arg</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;wait_time&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">wait_time</span><span class="p">},</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="WaitPage.metadata">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.WaitPage.metadata">[docs]</a>
    <span class="k">def</span> <span class="nf">metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;wait_time&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">wait_time</span><span class="p">}</span></div>


<div class="viewcode-block" id="WaitPage.get_bot_response">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.WaitPage.get_bot_response">[docs]</a>
    <span class="k">def</span> <span class="nf">get_bot_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">experiment</span><span class="p">,</span> <span class="n">bot</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">None</span></div>


    <span class="k">def</span> <span class="nf">on_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">experiment</span><span class="p">,</span> <span class="n">participant</span><span class="p">):</span>
        <span class="n">participant</span><span class="o">.</span><span class="n">total_wait_page_time</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wait_time</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">on_complete</span><span class="p">(</span><span class="n">experiment</span><span class="p">,</span> <span class="n">participant</span><span class="p">)</span></div>



<div class="viewcode-block" id="wait_while">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.wait_while">[docs]</a>
<span class="k">def</span> <span class="nf">wait_while</span><span class="p">(</span>
    <span class="n">condition</span><span class="p">,</span>
    <span class="n">expected_wait</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">check_interval</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">,</span>
    <span class="n">max_wait_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">20.0</span><span class="p">,</span>
    <span class="n">wait_page</span><span class="o">=</span><span class="n">WaitPage</span><span class="p">,</span>
    <span class="n">log_message</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">fail_on_timeout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Displays the participant a waiting page while a given condition</span>
<span class="sd">    remains satisfied.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    condition</span>
<span class="sd">        The condition to be checked;</span>
<span class="sd">        the participant will keep waiting while this condition returns True.</span>
<span class="sd">        This argument should be a function receiving the following arguments:</span>
<span class="sd">        ``participant`` (corresponding to the current participant)</span>
<span class="sd">        and ``experiment`` (corresponding to the current experiments).</span>
<span class="sd">        If one of this arguments is not needed, it can be omitted from the</span>
<span class="sd">        argument list.</span>

<span class="sd">    expected_wait</span>
<span class="sd">        How long the participant is likely to wait, in seconds.</span>

<span class="sd">    check_interval</span>
<span class="sd">        How often should the browser check the condition, in seconds.</span>

<span class="sd">    max_wait_time</span>
<span class="sd">        The participant&#39;s maximum waiting time in seconds. Default: 20.0.</span>

<span class="sd">    wait_page</span>
<span class="sd">        The wait page that should be displayed to the participant;</span>
<span class="sd">        defaults to :class:`~psynet.page.WaitPage`.</span>

<span class="sd">    log_message</span>
<span class="sd">        Optional message to display in the log.</span>

<span class="sd">    fail_on_timeout</span>
<span class="sd">        Whether the participants should be failed when the ``max_loop_time`` is reached.</span>
<span class="sd">        Setting this to ``False`` will not return the ``UnsuccessfulEndPage`` when maximum time has elapsed</span>
<span class="sd">        but allow them to proceed to the next page.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>

<span class="sd">    list :</span>
<span class="sd">        A list of test elts suitable for inclusion in a PsyNet timeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">expected_wait</span> <span class="o">&gt;=</span> <span class="mi">0</span>
    <span class="k">assert</span> <span class="n">check_interval</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="n">expected_repetitions</span> <span class="o">=</span> <span class="n">ceil</span><span class="p">(</span><span class="n">expected_wait</span> <span class="o">/</span> <span class="n">check_interval</span><span class="p">)</span>

    <span class="n">_wait_page</span> <span class="o">=</span> <span class="n">wait_page</span><span class="p">(</span><span class="n">wait_time</span><span class="o">=</span><span class="n">check_interval</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="n">participant</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Participant </span><span class="si">{</span><span class="n">participant</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">log_message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">log_message</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logic</span> <span class="o">=</span> <span class="n">_wait_page</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logic</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">CodeBlock</span><span class="p">(</span><span class="n">log</span><span class="p">),</span> <span class="n">_wait_page</span><span class="p">)</span>

    <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;wait_while&quot;</span>

    <span class="k">return</span> <span class="n">join</span><span class="p">(</span>
        <span class="n">while_loop</span><span class="p">(</span>
            <span class="n">label</span><span class="p">,</span>
            <span class="n">condition</span><span class="p">,</span>
            <span class="n">logic</span><span class="o">=</span><span class="n">logic</span><span class="p">,</span>
            <span class="n">expected_repetitions</span><span class="o">=</span><span class="n">expected_repetitions</span><span class="p">,</span>
            <span class="n">max_loop_time</span><span class="o">=</span><span class="n">max_wait_time</span><span class="p">,</span>
            <span class="n">fail_on_timeout</span><span class="o">=</span><span class="n">fail_on_timeout</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">)</span></div>



<div class="viewcode-block" id="SuccessfulEndPage">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.SuccessfulEndPage">[docs]</a>
<span class="k">class</span> <span class="nc">SuccessfulEndPage</span><span class="p">(</span><span class="n">EndPage</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Indicates a successful end to the experiment.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">show_reward</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="s2">&quot;final-page-successful.html&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;SuccessfulEndPage&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_reward</span> <span class="o">=</span> <span class="n">show_reward</span>

<div class="viewcode-block" id="SuccessfulEndPage.finalize_participant">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.SuccessfulEndPage.finalize_participant">[docs]</a>
    <span class="k">def</span> <span class="nf">finalize_participant</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">experiment</span><span class="p">,</span> <span class="n">participant</span><span class="p">):</span>
        <span class="n">participant</span><span class="o">.</span><span class="n">complete</span> <span class="o">=</span> <span class="kc">True</span></div>
</div>



<div class="viewcode-block" id="UnsuccessfulEndPage">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.UnsuccessfulEndPage">[docs]</a>
<span class="k">class</span> <span class="nc">UnsuccessfulEndPage</span><span class="p">(</span><span class="n">EndPage</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Indicates an unsuccessful end to the experiment.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">show_reward</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">failure_tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">template_filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;final-page-unsuccessful.html&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">failure_tags</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">failure_tags</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">failure_tags</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="n">failure_tags</span><span class="p">,</span> <span class="s2">&quot;UnsuccessfulEndPage&quot;</span><span class="p">]</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">template_filename</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;UnsuccessfulEndPage&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">failure_tags</span> <span class="o">=</span> <span class="n">failure_tags</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_reward</span> <span class="o">=</span> <span class="n">show_reward</span>

<div class="viewcode-block" id="UnsuccessfulEndPage.finalize_participant">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.UnsuccessfulEndPage.finalize_participant">[docs]</a>
    <span class="k">def</span> <span class="nf">finalize_participant</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">experiment</span><span class="p">,</span> <span class="n">participant</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">failure_tags</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">failure_tags</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span>
            <span class="n">participant</span><span class="o">.</span><span class="n">append_failure_tags</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">failure_tags</span><span class="p">)</span>
        <span class="n">experiment</span><span class="o">.</span><span class="n">fail_participant</span><span class="p">(</span><span class="n">participant</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="RejectedConsentPage">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.RejectedConsentPage">[docs]</a>
<span class="k">class</span> <span class="nc">RejectedConsentPage</span><span class="p">(</span><span class="n">UnsuccessfulEndPage</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Indicates a consent that has been rejected.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">failure_tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">failure_tags</span><span class="o">=</span><span class="n">failure_tags</span><span class="p">,</span>
            <span class="n">template_filename</span><span class="o">=</span><span class="s2">&quot;final-page-rejected-consent.html&quot;</span><span class="p">,</span>
        <span class="p">)</span></div>



<div class="viewcode-block" id="DebugResponsePage">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.DebugResponsePage">[docs]</a>
<span class="k">class</span> <span class="nc">DebugResponsePage</span><span class="p">(</span><span class="n">PageMaker</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Implements a debugging page for responses.</span>
<span class="sd">    Displays a page to the user with information about the</span>
<span class="sd">    last response received from the participant.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">summarize_last_response</span><span class="p">,</span> <span class="n">time_estimate</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">summarize_last_response</span><span class="p">(</span><span class="n">participant</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">participant</span><span class="o">.</span><span class="n">response</span>
        <span class="k">if</span> <span class="n">response</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">InfoPage</span><span class="p">(</span><span class="s2">&quot;No response found to display.&quot;</span><span class="p">)</span>
        <span class="n">page_type</span> <span class="o">=</span> <span class="n">escape</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">page_type</span><span class="p">)</span>
        <span class="n">answer</span> <span class="o">=</span> <span class="n">escape</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">answer</span><span class="p">)</span>
        <span class="n">metadata</span> <span class="o">=</span> <span class="n">escape</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">InfoPage</span><span class="p">(</span>
            <span class="n">Markup</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            &lt;h3&gt;Page type&lt;/h3&gt;</span>
<span class="s2">            </span><span class="si">{</span><span class="n">page_type</span><span class="si">}</span>
<span class="s2">            &lt;p class=&quot;vspace&quot;&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;h3&gt;Answer&lt;/h3&gt;</span>
<span class="s2">            </span><span class="si">{</span><span class="n">answer</span><span class="si">}</span>
<span class="s2">            &lt;p class=&quot;vspace&quot;&gt;&lt;/p&gt;</span>
<span class="s2">            &lt;h3&gt;Metadata&lt;/h3&gt;</span>
<span class="s2">            &lt;pre style=&quot;max-height: 200px; overflow: scroll;&quot;&gt;</span><span class="si">{</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&lt;/pre&gt;</span>
<span class="s2">            &quot;&quot;&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span></div>



<span class="k">class</span> <span class="nc">VolumeCalibration</span><span class="p">(</span><span class="n">Module</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">url</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">resources</span><span class="o">.</span><span class="n">files</span><span class="p">(</span><span class="s2">&quot;psynet&quot;</span><span class="p">)</span> <span class="o">/</span> <span class="s2">&quot;resources/audio/brown_noise.wav&quot;</span><span class="p">),</span>
        <span class="n">min_time</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span>
        <span class="n">time_estimate</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span>
        <span class="n">id_</span><span class="o">=</span><span class="s2">&quot;volume_calibration&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">id_</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">min_time</span><span class="p">,</span> <span class="n">time_estimate</span><span class="p">,</span> <span class="n">id_</span><span class="p">),</span>
            <span class="n">assets</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;volume_calibration_audio&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">asset</span><span class="p">(</span><span class="n">url</span><span class="p">),</span>
            <span class="p">},</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">asset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">ExternalAsset</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">CachedAsset</span><span class="p">(</span><span class="n">input_path</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_time</span><span class="p">,</span> <span class="n">time_estimate</span><span class="p">,</span> <span class="n">id_</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PageMaker</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">assets</span><span class="p">:</span> <span class="n">ModularPage</span><span class="p">(</span>
                <span class="n">id_</span><span class="p">,</span>
                <span class="n">AudioPrompt</span><span class="p">(</span><span class="n">assets</span><span class="p">[</span><span class="s2">&quot;volume_calibration_audio&quot;</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">(),</span> <span class="n">loop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                <span class="n">events</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;submitEnable&quot;</span><span class="p">:</span> <span class="n">Event</span><span class="p">(</span><span class="n">is_triggered_by</span><span class="o">=</span><span class="s2">&quot;trialStart&quot;</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="n">min_time</span><span class="p">)</span>
                <span class="p">},</span>
            <span class="p">),</span>
            <span class="n">time_estimate</span><span class="o">=</span><span class="n">time_estimate</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Markup</span><span class="p">(</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            &lt;p&gt;</span>
<span class="sd">                Please listen to the following sound and adjust your</span>
<span class="sd">                computer&#39;s output volume until it is at a comfortable level.</span>
<span class="sd">            &lt;/p&gt;</span>
<span class="sd">            &lt;p&gt;</span>
<span class="sd">                If you can&#39;t hear anything, there may be a problem with your</span>
<span class="sd">                playback configuration or your internet connection.</span>
<span class="sd">                You can refresh the page to try loading the audio again.</span>
<span class="sd">            &lt;/p&gt;</span>
<span class="sd">            &quot;&quot;&quot;</span>
        <span class="p">)</span>


<div class="viewcode-block" id="JsPsychPage">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.JsPsychPage">[docs]</a>
<span class="k">class</span> <span class="nc">JsPsychPage</span><span class="p">(</span><span class="n">Page</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A page that embeds a jsPsych experiment. See ``demos/jspsych`` for example usage.</span>

<span class="sd">    label :</span>
<span class="sd">        Label for the page.</span>

<span class="sd">    timeline :</span>
<span class="sd">        A path to an HTML file that defines the jsPsych experiment&#39;s timeline.</span>
<span class="sd">        The timeline should be saved as an object called ``timeline``.</span>
<span class="sd">        See ``demos/jspsych`` for an example.</span>

<span class="sd">    js_links :</span>
<span class="sd">        A list of links to JavaScript files to include in the page. Typically this would include</span>
<span class="sd">        a link to the required jsPsych version as well as links to the required plug-ins.</span>
<span class="sd">        It is recommended to include these files in the ``static`` directory and refer to them</span>
<span class="sd">        using relative paths; alternatively it is possible to link to these files via a CDN.</span>

<span class="sd">    css_links :</span>
<span class="sd">        A list of links to CSS stylesheets to include. Typically this would include the standard</span>
<span class="sd">        jsPsych stylesheet.</span>

<span class="sd">    js_vars :</span>
<span class="sd">        An optional dictionary of variables to pass to the front-end. These can then be accessed</span>
<span class="sd">        in the timeline template, writing for example ``psynet.var[&quot;my_variable&quot;]``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">label</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">timeline</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">time_estimate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">js_links</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
        <span class="n">css_links</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
        <span class="n">js_vars</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">js_links</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">js_links</span> <span class="o">=</span> <span class="p">[</span><span class="n">js_links</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">css_links</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">css_links</span> <span class="o">=</span> <span class="p">[</span><span class="n">css_links</span><span class="p">]</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">time_estimate</span><span class="o">=</span><span class="n">time_estimate</span><span class="p">,</span>
            <span class="n">template_path</span><span class="o">=</span><span class="n">timeline</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
            <span class="n">js_vars</span><span class="o">=</span><span class="n">js_vars</span><span class="p">,</span>
            <span class="n">js_links</span><span class="o">=</span><span class="n">js_links</span><span class="p">,</span>
            <span class="n">css_links</span><span class="o">=</span><span class="n">css_links</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="JsPsychPage.format_answer">
<a class="viewcode-back" href="../../api/timeline.html#psynet.page.JsPsychPage.format_answer">[docs]</a>
    <span class="k">def</span> <span class="nf">format_answer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_answer</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">raw_answer</span><span class="p">)</span></div>
</div>

</pre></div>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Peter Harrison
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=bffcfdfb"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../_static/js/custom.js?v=ca86d9ac"></script>
    </body>
</html>