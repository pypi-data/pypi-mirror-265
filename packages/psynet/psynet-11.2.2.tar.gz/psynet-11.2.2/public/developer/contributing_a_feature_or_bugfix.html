<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Creating pre-screening tasks" href="prescreening_tasks.html" /><link rel="prev" title="Developer workflow" href="workflow.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Contributing a feature/bugfix - PsyNet 11.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=a26321a0" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">PsyNet 11.1.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">PsyNet 11.1.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/applications.html">When to use PsyNet?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/team.html">Team</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/command_line.html">Command line</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../learning/how_to_learn.html">How to learn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../learning/exercises/index.html">Exercises</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Exercises</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../learning/exercises/timeline.html">Timeline exercise</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learning/exercises/graphics.html">Graphics exercise</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learning/exercises/js_synth.html">JSSynth exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../learning/tracks/index.html">Tracks</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Tracks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../learning/tracks/music_perception.html">Music perception track</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Dependencies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dependencies/dallinger.html">Dallinger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dependencies/docker.html">Docker</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">INSTALLATION</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../installation/index.html">Installation overview</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Installation overview</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../installation/virtualenv_installation/index.html">Installing PsyNet via virtualenv</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Installing PsyNet via virtualenv</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation/virtualenv_installation/linux.html">Installing PsyNet via virtualenv (Linux)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation/virtualenv_installation/macos.html">Installing PsyNet via virtualenv (macOS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation/virtualenv_installation/windows.html">Installing PsyNet via virtualenv (Windows)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../installation/docker_installation/index.html">Installing PsyNet via Docker</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Installing PsyNet via Docker</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation/docker_installation/unix_installation.html">Installing PsyNet via Docker (macOS/Linux)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation/docker_installation/windows_installation.html">Installing PsyNet via Docker (Windows)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">EXPERIMENT DEVELOPMENT</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../experiment_development/experiment_directory.html">Experiment directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../experiment_development/development_workflow.html">Development workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../experiment_development/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../experiment_development/dependencies.html">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../experiment_development/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../demos/index.html">Demos</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Demos</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../demos/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/hello_world.html">Hello world</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/timeline.html">Timeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/survey_js.html">SurveyJS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/trial.html">Trials (1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/trial_2.html">Trials (2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/trial_3.html">Trials (3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/audio.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/static_audio.html">Audio trial maker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/gibbs.html">Gibbs Sampling with People</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/audio_gibbs.html">Audio Gibbs Sampling with People</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/imitation_chains.html">Imitation chains</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/tapping_imitation_chain.html">Tapping imitation chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/mcmcp.html">Markov Chain Monte Carlo with People (MCMCP)</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../example_experiments/index.html">Example experiments</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Example experiments</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../example_experiments/carillon.html">Consonance and the carillon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example_experiments/emotions-scales.html">Emotions of musical scales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../example_experiments/pitch-matching.html">Pitch-matching test</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/creating_a_new_experiment.html">Creating a new experiment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/classes.html">Classes in PsyNet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/timeline.html">Timeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/assets.html">Assets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/specifying_dependencies.html">Specifying dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/tests.html">Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/internationalization.html">Internationalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/synchronization.html">Synchronization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/ad_page.html">The Ad Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/modular_page.html">Modular Pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/graphics.html">Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/demography.html">Demography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/prescreening_tasks.html">Pre-screening tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/create_and_rate.html">Create and Rate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/pre_deploy_routines.html">Pre-deploy routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/experiment_variables.html">Experiment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/unity_integration.html">Unity integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/writing_custom_frontends.html">Writing custom frontends</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/event_management.html">Event management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/communicating_with_backend.html">Communicating with the back-end via custom routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/payment_limits.html">Payment limits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/deploy_tokens.html">Deploy tokens</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/introduction_to_sql_alchemy.html">Introduction to SQLAlchemy</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../tutorials/version_control_with_git.html">Version control with Git</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Version control with Git</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/version_control_with_git/essential_concepts.html">Essential concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/version_control_with_git/experiment_implementation_workflow.html">Experiment implementation workflow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/upgrading_to_psynet_10.html">Upgrading to PsyNet 10</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api/index.html">API Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of API Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/asset.html">Asset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/audio_mixer.html">AudioMixer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/bot.html">Bot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/command_line.html">Command line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/consents.html">Consents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/data.html">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/demography.html">Demography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/error.html">Error</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/experiment.html">Experiment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/field.html">Field</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/graphics.html">Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/js_synth.html">JSSynth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/media.html">Media</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/modular_page.html">ModularPage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/page.html">Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/participant.html">Participant</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/prescreen.html">Prescreen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/process.html">Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/recruiters.html">Recruiters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/redis.html">Redis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/serialize.html">Serialize</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/sync.html">Sync</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/timeline.html">Timeline</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../api/trial/index.html">Trial</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Trial</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/trial/audio.html">Audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/trial/audio_gibbs.html">AudioGibbs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/trial/chain.html">Chain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/trial/dense.html">Dense</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/trial/gibbs.html">Gibbs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/trial/graph.html">Graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/trial/imitation_chain.html">ImitationChain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/trial/main.html">Main</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/trial/media_gibbs.html">MediaGibbs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/trial/mcmcp.html">MCMCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/trial/record.html">Record</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/trial/static.html">Static</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/trial/video.html">Video</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/utils.html">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/version.html">Version</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DEPLOYING</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../deploy/web_servers.html">Web servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/aws_server_setup.html">Setting up an experiment server with AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/ssh_server.html">SSH servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/heroku_server.html">Heroku deployments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/prolific.html">Deploying an experiment to Prolific</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/deploy_from_archive.html">Deploying from archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/export.html">Exporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing to PsyNet</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Developer workflow</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Contributing a feature/bugfix</a></li>
<li class="toctree-l1"><a class="reference internal" href="prescreening_tasks.html">Creating pre-screening tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="updating_documentation.html">Updating documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="internationalization.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_tests.html">Running tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_release.html">Making a release</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Dashboards</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dashboards/translation.html">Translation dashboard</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://gitlab.com/PsyNetDev/PsyNet/-/edit/master/docs/developer/contributing_a_feature_or_bugfix.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="contributing-a-feature-bugfix">
<h1>Contributing a feature/bugfix<a class="headerlink" href="#contributing-a-feature-bugfix" title="Link to this heading">#</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is an out-of-date description of this workflow hosted here:
<a class="reference external" href="https://computational-audition-lab.gitlab.io/PsyNet/developer/basic_workflow.html">https://computational-audition-lab.gitlab.io/PsyNet/developer/basic_workflow.html</a>. Please refer to the present document (PsyNet Learning) for the time being.</p>
</div>
<section id="step-1-creating-an-issue">
<h2>Step 1: Creating an issue<a class="headerlink" href="#step-1-creating-an-issue" title="Link to this heading">#</a></h2>
<p>The process begins with identifying a particular <em>issue</em> that deserves to be fixed in PsyNet. This issue could be a problem with existing functionality (a <em>bug</em>) or a lack of desirable functionality (a missing <em>feature</em> ). Most version-control platforms (e.g., GitHub, GitLab) provide pages where project developers and user can file issues. For example, the PsyNet issues page can be found <a class="reference external" href="https://gitlab.com/computational-audition-lab/PsyNet/-/issues">here</a>, and looks something like this:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/psynet_issues.png"><img alt="../_images/psynet_issues.png" src="../_images/psynet_issues.png" style="width: 700px;" /></a>
</figure>
<p><br />
Let’s suppose that we want to address issue #288, ‘Add Node.participant and Network.participant attributes’. We click on the issue for more detail:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/psynet_issue_details.png"><img alt="../_images/psynet_issue_details.png" src="../_images/psynet_issue_details.png" style="width: 700px;" /></a>
</figure>
<p><br /></p>
</section>
<section id="step-2-creating-a-merge-request">
<h2>Step 2: Creating a merge request<a class="headerlink" href="#step-2-creating-a-merge-request" title="Link to this heading">#</a></h2>
<p>GitLab provides a useful button on the issue page for us to click: ‘Create merge request’. Don’t click the button straightaway, but click the arrow on its right instead.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gitlab_create_merge_request-1.png"><img alt="../_images/gitlab_create_merge_request-1.png" src="../_images/gitlab_create_merge_request-1.png" style="width: 340px;" /></a>
</figure>
<p><br />
Here we want to do two things. First, let’s customize the branch name, as the default name is rather long. Let’s write a shorter version, keeping the issue number at the beginning: ‘288-network-participant’. Second, let’s customize the source branch, replacing ‘master’ with ‘dev’.</p>
<p>This should give us something like the following:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gitlab_create_merge_request-2.png"><img alt="../_images/gitlab_create_merge_request-2.png" src="../_images/gitlab_create_merge_request-2.png" style="width: 280px;" /></a>
</figure>
<p><br />
Let’s click ‘Create merge request’. This initiates two processes:</p>
<ol class="arabic simple">
<li><p>Creating a <strong>new branch</strong> off the ‘<cite>dev</cite>’ branch called ‘<cite>issue-288-network-participant</cite>’;</p></li>
<li><p>Creating a <strong>new merge request</strong> (what GitHub would call a pull request) for our new branch ‘<cite>issue-288-network-participant</cite>’ to ‘<cite>dev</cite>’.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you accidentally click the button itself instead of the arrow, don’t worry, you can also customize those two options on the next page.</p>
</div>
<p>We will see some further options on the next page to customize our merge request. Next click edit on the top of the page:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gitlab_edit_merge_request-1.png"><img alt="../_images/gitlab_edit_merge_request-1.png" src="../_images/gitlab_edit_merge_request-1.png" style="width: 700px;" /></a>
</figure>
<p><br />
First, in the dropdown box labeled ‘Description’, you should select ‘default’ as the template.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gitlab_edit_merge_request-2.png"><img alt="../_images/gitlab_edit_merge_request-2.png" src="../_images/gitlab_edit_merge_request-2.png" style="width: 400px;" /></a>
</figure>
<p><br />
Before filling out the description template, scroll down and ensure that you are listed as the Assignee (the person who will do the implementation) and the Reviewer is left unassigned. The Reviewer will stay unassigned until you have finished your implementation. The ‘delete source branch’ option should be unticked; if we have good naming conventions for our branches there’s no problem in keeping them for posterity. The ‘squash commits’ option should also be ticked; this means that when the branch is ultimately merged its changes will be squashed into one commit, ensuring the readability and interpretability of PsyNet’s version history.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gitlab_edit_merge_request-3.png"><img alt="../_images/gitlab_edit_merge_request-3.png" src="../_images/gitlab_edit_merge_request-3.png" style="width: 600px;" /></a>
</figure>
<p><br />
Having customized these options, you should now edit the merge request’s description  following the pre populated template.</p>
<p>First you should write a short proposal section outlining the changes you plan to make. In some cases you may be able to copy this straightforwardly from the issue definition; in other cases you may want to add some additional technical detail about the proposed method so that you can get early feedback from the reviewers.</p>
<p>The next section is titled ‘Predicted impact’. Here you should briefly summarize the reasons why your proposed contribution would be useful to the PsyNet user base.</p>
<p>Next we have ‘Predicted difficulty’. This section has five subsections:</p>
<ol class="arabic simple">
<li><p><strong>Technical bottlenecks:</strong> What are the main technical bottlenecks/difficulties for implementing these changes?</p></li>
<li><p><strong>Amount of code to be added/changed:</strong> Very approximately, how many lines of code do you anticipate having to add/change?</p></li>
<li><p><strong>Locality of changes:</strong> Will the revision change many parts of the PsyNet codebase, or will it be restricted to a particular part, for example a given module or class definition?</p></li>
<li><p><strong>Documentation requirements:</strong> Does this change require updated documentation? If so, how much?</p></li>
<li><p><strong>Time to implement:</strong> Very approximately, how many working hours/days should it take to implement these changes?</p></li>
</ol>
<p>You should also add a section listing the proposed reviewers and tagging them with a combination of the ‘&#64;’ symbol plus their GitLab/GitHub username. This will be just one reviewer if you are a core PsyNet developer (i.e., Frank Höger or Peter Harrison), or two reviewers (one non-core developer and one core developer) otherwise. The choice of non-core developer should be made prioritizing overlapping interests where possible.</p>
<p>The resulting merge-request description should look something like this:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gh"># Final changelog</span>
To complete after the draft implementation is complete

<span class="gh"># Proposal</span>
Implement a new pre-screening task based on the McDermott lab&#39;s Headphone Test.
We&#39;ll follow the instructions for creating prescreening tasks in PsyNet&#39;s
online documentation, and we&#39;ll host the stimuli in AWS S3.

<span class="gu">## Predicted impact</span>
This pre-screening task is very popular in online auditory studies, so we expect
it&#39;ll get a lot of use in our Computational Auditory Perception research group
as well as other auditory research groups.

<span class="gu">## Predicted difficulty</span>
<span class="gu">### Technical bottlenecks</span>
No technical bottlenecks anticipated.

<span class="gu">### Amount of code to be added/changed</span>
~ 200 lines.

<span class="gu">### Locality of code changes</span>
Local to the prescreen module.

<span class="gu">### Documentation requirements</span>
Yes, ~ 100 lines.

<span class="gu">### Implementation time</span>
~ 4 hours.

<span class="gu">## Proposed reviewers</span>
<span class="k">-</span><span class="w"> </span>Non-core reviewer: <span class="ni">@m</span>.anglada-tort
<span class="k">-</span><span class="w"> </span>Core reviewer: <span class="ni">@pmcharrison</span>
</pre></div>
</div>
<p>Tagging the reviewers in this way will send the reviewers an email notification alerting them to the merge request, and give them an opportunity to discuss it with you. You should not consider the reviewing arrangement confirmed until you have had agreement from both reviewers. In order to encourage the reviewers to prioritize your case, it is worth making sure that the merge request description is well-specified so that they can be quickly convinced of the merit of the investment. In the context of complex proposals, you may wish to consider arranging a Zoom call with your reviewers to discuss the best way forward.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See e.g. the <a class="reference external" href="https://www.markdownguide.org/">Markdown Guide</a> for more information on writing markdown.</p>
</div>
<p>We then need to get this branch into our local repository. GitLab provides a handy button for this labeled ‘Check out branch’, which will display the required commands automatically for us to copy and paste.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gitlab_edit_merge_request-4.png"><img alt="../_images/gitlab_edit_merge_request-4.png" src="../_images/gitlab_edit_merge_request-4.png" style="width: 400px;" /></a>
</figure>
<p><br /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Other version-control systems (e.g., GitHub) do not necessarily provide these helper buttons. In such cases we can instead create the branch and the merge request using the following code, and create the pull/merge request via the version-control system’s web interface:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git checkout dev</span>
<span class="go">git pull</span>
<span class="go">git checkout -b issue-288-network-participant</span>
<span class="go">git push -u origin issue-288-network-participant</span>
</pre></div>
</div>
</div>
<p>Once we’ve checked out the code locally, we should make sure that our Python is using this local version of PsyNet. We do this as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>Prior<span class="w"> </span>to<span class="w"> </span>running<span class="w"> </span>pip3<span class="w"> </span>install,<span class="w"> </span>make<span class="w"> </span>sure<span class="w"> </span>you’re<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>right
<span class="gp"># </span>virtual<span class="w"> </span>environment,<span class="w"> </span><span class="k">for</span><span class="w"> </span>example<span class="w"> </span>by<span class="w"> </span>running:
<span class="gp"># </span>workon<span class="w"> </span>my-psynet-env

<span class="go">pip3 install -e .  # installs PsyNet in local editable mode</span>
</pre></div>
</div>
</section>
<section id="step-3-implementing-the-feature">
<h2>Step 3: Implementing the feature<a class="headerlink" href="#step-3-implementing-the-feature" title="Link to this heading">#</a></h2>
<p>Now that we’ve checked out the branch, our task is to implement our proposed feature or bugfix. To make the example more concrete, I’ll share some details about this specific implementation, but the key thing to focus on here is the general approach to Git usage and version control.</p>
<p>Our task is to add a ‘participant’ attribute to the ‘Network’ class used in PsyNet. The base ‘Network’ class used in PsyNet is called ‘TrialNetwork’, so we’ll be working on that. This class is defined in main.py:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/psynet_class_trial_network.png"><img alt="../_images/psynet_class_trial_network.png" src="../_images/psynet_class_trial_network.png" style="width: 700px;" /></a>
</figure>
<p><br />
Currently <code class="docutils literal notranslate"><span class="pre">TrialNetwork</span></code> doesn’t have a participant attribute. This information is instead stored <em>implicitly</em> in the nodes that the network contains. We could look at any of the network’s nodes, but the most natural to look at is the ‘source’ node, which is created when the network is created. We therefore define the following property within the <code class="docutils literal notranslate"><span class="pre">TrialNetwork</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@property</span>
<span class="k">def</span> <span class="nf">participant</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span>
    <span class="k">assert</span> <span class="n">source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">source</span><span class="o">.</span><span class="n">participant</span>
</pre></div>
</div>
<p>It turns out that <code class="docutils literal notranslate"><span class="pre">TrialNetwork.source</span></code> isn’t defined yet either. Let’s define it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@property</span>
<span class="k">def</span> <span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">sources</span> <span class="o">=</span> <span class="n">TrialSource</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span>
        <span class="n">network_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">failed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sources</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sources</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Network </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2"> has more than one source!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">sources</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>We commit our changes as usual using git commit.</p>
<p>Something to note here is that PsyNet contains pre-commit hooks that run various automated processes including <em>flake8</em> and <em>black</em>. These pre-commit hooks run every time we make a commit in Git. They are designed to check the code for certain errors and enforce standardized formatting. If a given commit fails then this is usually due to one of the pre-commit routines. Often simply restaging the files and retrying the commit will work, because the restaging will now include the standardized formatting enforced by <em>black</em>. In other cases (e.g. <em>flake8</em> errors) simple retrying will not work. In this case the next step is to run the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> command in the terminal (instead of a Git GUI) and study the error message that comes out.</p>
</section>
<section id="step-4-adding-documentation">
<h2>Step 4: Adding documentation<a class="headerlink" href="#step-4-adding-documentation" title="Link to this heading">#</a></h2>
<p>So that future people can benefit from these new properties, we’d better add some documentation. It is conventional to document Python code using docstrings, which can be found at the top of class/function/method definitions. These follow standardized formatting conventions; Python follows in particular the <a class="reference external" href="https://www.google.com/search?q=numpy+docstring+style&amp;rlz=1C5CHFA_enDE972GB973&amp;oq=numpy+docstring+&amp;aqs=chrome.1.69i57j0i512l3j0i20i263i512j0i512l5.3306j0j7&amp;sourceid=chrome&amp;ie=UTF-8#:~:text=Style%20guide%20%E2%80%94%20numpydoc,io%20%E2%80%BA%20latest%20%E2%80%BA%20format">NumPy Docstring Style</a> convention. The main thing though is simply to be consistent, and follow the formatting style of the neighboring parts of PsyNet.</p>
<p>In the present case, we need to edit the docstring for the <code class="docutils literal notranslate"><span class="pre">TrialNetwork</span></code> definition. This docstring already contains documentation for lots of other attributes, so we’ll just add our new attribute definitions to the list.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">source : Optional[TrialSource]</span>
<span class="go">    Returns the network&#39;s :class:`~psynet.trial.main.TrialSource`,</span>
<span class="go">    or ``None`` if none can be found.</span>

<span class="go">participant : Optional[Participant]</span>
<span class="go">    Returns the network&#39;s :class:`~psynet.participant.Participant`,</span>
<span class="go">    or ``None`` if none can be found.</span>
<span class="go">    Implementation note:</span>
<span class="go">    The network&#39;s participant corresponds to the participant</span>
<span class="go">    listed in the network&#39;s :class:`~psynet.trial.main.TrialSource`.</span>
<span class="go">    If the network has no such :class:`~psynet.trial.main.TrialSource`</span>
<span class="go">    then an error is thrown.</span>
</pre></div>
</div>
<p>More extensive documentation files can be found in the <code class="docutils literal notranslate"><span class="pre">docs</span></code>  directory of PsyNet. This contains lots of <code class="docutils literal notranslate"><span class="pre">rst</span></code> files that are compiled to HTML files when PsyNet generates its documentation website. Here is a <a class="reference external" href="https://learnxinyminutes.com/docs/rst/#:~:text=RST%2C%20Restructured%20Text%2C%20is%20a,lightweight%20and%20easier%20to%20read.">brief introduction</a> to RST formatting, for more info you can also look <a class="reference external" href="https://thomas-cokelaer.info/tutorials/sphinx/rest_syntax.html">here</a>.</p>
</section>
<section id="step-5-adding-tests">
<h2>Step 5: Adding tests<a class="headerlink" href="#step-5-adding-tests" title="Link to this heading">#</a></h2>
<p>Automated testing is an important part of software development. Most mature software packages include a collection of automated tests that are run regularly as part of the development process.</p>
<p>It’s tempting to put off writing automated tests. Those of us with strong egos typically feel we don’t need the computer to reassure us that we are writing good code. The thing to remember here, though, is that testing is not just about making sure that the code works <em>now</em>, but that it continues to work in the <em>future</em>. If you write a particular test now and commit it to the PsyNet codebase, then every future developer who wants to make a contribution to PsyNet will be forced to make sure that their changes do not stop your test from working. If you can design your tests to capture all the important aspects of your new feature, then you can (mostly) guarantee that the feature is going to keep working indefinitely. This is very helpful if you expect to rely on the feature yourself in the future.</p>
<p>There’s a cost-benefit analysis to be done, though. Complete coverage of a particular feature could require many many tests, and these could be slower to write than the feature itself. Moreover, some features are relatively hard to write tests for, for example those that concern the visual appearance of the user interface, or those that concern the behavior of database objects that cannot exist in isolation (e.g., a <code class="docutils literal notranslate"><span class="pre">Trial</span></code> object cannot exist without corresponding <code class="docutils literal notranslate"><span class="pre">Participant</span></code> and <code class="docutils literal notranslate"><span class="pre">Node</span></code> objects, and a Node object cannot exist without a corresponding <code class="docutils literal notranslate"><span class="pre">Network</span></code> object).</p>
<p>A couple of observations are useful to bear in mind for this cost-benefit analysis.</p>
<ol class="arabic simple">
<li><p><strong>A simple test is better than no test.</strong> We don’t necessarily have to test every aspect of a new feature. It’s surprising how effective very basic ‘sanity checks’ can be for catching problems.</p></li>
<li><p><strong>Complex tests can be made simpler by reusing testing infrastructure.</strong> Tests involving the database or the user interface are hard to implement from scratch because they involve time-consuming setup procedures (e.g., spinning up a webserver and simulating a participant interacting with the web page, or populating a database with objects representing fictional participants, trials, and networks). However, we don’t need to write this code from scratch each time we implement a new test. Instead, we can try wherever possible to insert our code in PsyNet test files that already provide this functionality.</p></li>
</ol>
<p>Bearing all this in mind, we will write a simple test for this new <code class="docutils literal notranslate"><span class="pre">Network.participant</span></code> attribute. We won’t worry about testing <code class="docutils literal notranslate"><span class="pre">Network.source</span></code> because we know that Network.source will have to work in order for <code class="docutils literal notranslate"><span class="pre">Network.participant</span></code> to work anyway.</p>
<p>We can see the pre-existing tests within PsyNet’s <code class="docutils literal notranslate"><span class="pre">tests/</span></code> folder. There are quite a few of them already:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/psynet_tests.png"><img alt="../_images/psynet_tests.png" src="../_images/psynet_tests.png" style="width: 540px;" /></a>
</figure>
<p><br />
All test files must begin with the prefix <code class="docutils literal notranslate"><span class="pre">test_</span></code>. The <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder additionally contains a file called <code class="docutils literal notranslate"><span class="pre">conftest.py</span></code>, which is used to provide additional helper materials; we won’t worry about that here.</p>
<p>This folder contains a special collection of tests with the prefix <code class="docutils literal notranslate"><span class="pre">test_demo_</span></code>. These tests work by running particular demos within PsyNet (stored in the <code class="docutils literal notranslate"><span class="pre">demos</span></code> folder) and checking that they behave as expected. These tests are particularly good for testing things to do with the user interface and the database. However, they have the disadvantage of being relatively slow to run, because each test file requires PsyNet to spin up an experiment debugging session. To keep the process efficient, we therefore try and pack lots of different tests into a particular demo test file.</p>
<p>We’ll add our test to the test for the MCMCP demo (<code class="docutils literal notranslate"><span class="pre">test_demo_mcmcp.py</span></code>). This is a good one to choose because each network in the MCMCP demo is the property of a particular participant, which means that the <code class="docutils literal notranslate"><span class="pre">network.participant</span></code> call should return a meaningful value.</p>
<p>For these browser-based tests to work we must make sure we have an appropriate version of the ChromeDriver software installed. This is a piece of software for programmatically running Chrome sessions. It can be downloaded from the <a class="reference external" href="https://chromedriver.chromium.org/downloads">ChromeDriver website</a>; once you’ve downloaded the appropriate version for your Chrome browser and your operating system/processor (you can check your Chrome browser’s version by clicking ‘Chrome’ then ‘About Chrome’), you should unzip the file and copy the resulting executable file to the <code class="docutils literal notranslate"><span class="pre">/usr/local/bin/</span></code> folder. You should only have to do this once in a while (occasionally Chrome updates will require you to get a new version of ChromeDriver).</p>
<p>Once you’ve downloaded ChromeDriver, verify that it works by running the following terminal command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">chromedriver --version</span>
</pre></div>
</div>
<p>If running your test on Mac, you may be faced with a security message like the one below:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/macos_security_message.png"><img alt="../_images/macos_security_message.png" src="../_images/macos_security_message.png" style="width: 340px;" /></a>
</figure>
<p><br />
To bypass this message, you will need to go to System Preferences, Security &amp; Privacy, and find the dialog below which allows you to enable chromedriver to run:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/macos_security_dialog-1.png"><img alt="../_images/macos_security_dialog-1.png" src="../_images/macos_security_dialog-1.png" style="width: 500px;" /></a>
</figure>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/macos_security_dialog-2.png"><img alt="../_images/macos_security_dialog-2.png" src="../_images/macos_security_dialog-2.png" style="width: 340px;" /></a>
</figure>
<p><br />
To run this test, we execute the following code from the PsyNet root directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pytest tests/test_demo_mcmcp.py --chrome</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--chrome</span></code> flag is required whenever we run a demo test (i.e., any test file beginning with <code class="docutils literal notranslate"><span class="pre">test_demo_</span></code>). This instructs pytest to run the test using the Chrome browser; if we don’t have this flag, pytest will skip the test entirely. Otherwise we can just write ‘<code class="docutils literal notranslate"><span class="pre">pytest</span></code>’ followed by the path to the test file we want to run.</p>
<p>These browser-based tests are a little fragile when run on local machines, often getting stuck at the point of opening the browser. This most often happens when running tests repeatedly. This seems to be caused by zombie ChromeDriver processes that aren’t shut down properly when tests finish. The problem seems to be solved by running the following command in between tests:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">killall chromedriver</span>
</pre></div>
</div>
<p>If we run the pytest command described above, we should see PsyNet spin up a browser window and progress through the experiment. Once the experiment is completed, the browser window should be automatically closed, and we should see a collection of green success messages in the computer terminal.</p>
<p>So, having replicated the MCMCP demo test locally, the next step is to incorporate a test of our new <code class="docutils literal notranslate"><span class="pre">network.participant</span></code> feature. To work out exactly what to do here, I inserted a breakpoint into the main part of <code class="docutils literal notranslate"><span class="pre">test_demo_mcmcp.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">usefixtures</span><span class="p">(</span><span class="s2">&quot;demo_mcmcp&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">TestExp</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">test_exp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bot_recruits</span><span class="p">,</span> <span class="n">db_session</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">participant</span><span class="p">,</span> <span class="n">bot</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bot_recruits</span><span class="p">):</span>
            <span class="n">driver</span> <span class="o">=</span> <span class="n">bot</span><span class="o">.</span><span class="n">driver</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

            <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span>
                <span class="s2">&quot;$(&#39;html&#39;).animate({ scrollTop: $(document).height() }, 0);&quot;</span>
            <span class="p">)</span>
            <span class="n">next_page</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="s2">&quot;standard-consent&quot;</span><span class="p">)</span>

            <span class="nb">breakpoint</span><span class="p">()</span>
</pre></div>
</div>
<p>Rerunning the pytest command, we see PsyNet spin up a browser window and navigate through the consent form. After this point it freezes because it has hit the breakpoint. At this point we can enter custom code into the Python terminal and see what happens when we execute it. On this basis I replaced the breakpoint with the following lines of code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Testing that network.participant works correctly</span>
<span class="c1"># (we are in a within-participant experiment, so each chain</span>
<span class="c1"># should be associated with a single participant).</span>
<span class="kn">from</span> <span class="nn">psynet.trial.mcmcp</span> <span class="kn">import</span> <span class="n">MCMCPNetwork</span>
<span class="kn">from</span> <span class="nn">psynet.participant</span> <span class="kn">import</span> <span class="n">Participant</span>

<span class="c1"># SQLAlchemy uses 1-indexing, Python uses 0-indexing...</span>
<span class="n">participant_id</span> <span class="o">=</span> <span class="n">participant</span> <span class="o">+</span> <span class="mi">1</span>

<span class="n">network</span> <span class="o">=</span> <span class="n">MCMCPNetwork</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">network</span><span class="o">.</span><span class="n">participant</span><span class="p">,</span> <span class="n">Participant</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">network</span><span class="o">.</span><span class="n">participant</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">participant_id</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">assert</span></code> keyword is crucial in test construction. When we write <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">[XYZ]</span></code>, Python evaluates <code class="docutils literal notranslate"><span class="pre">[XYZ]</span></code> and checks that it returns <code class="docutils literal notranslate"><span class="pre">True</span></code>. If yes, then pytest logs a success; if no, then pytest logs a failure. Any unexpected errors will also be logged as a failure.</p>
<p>Here I implemented two assertions. We’re asserting that <code class="docutils literal notranslate"><span class="pre">network.participant</span></code> returns an object of class <code class="docutils literal notranslate"><span class="pre">Participant</span></code>, and we’re asserting that this participant has the same ID as the participant who’s currently taking the experiment. This is very basic stuff; nonetheless, I claim that it’s enough to provide some basic reassurance that the new feature works.</p>
<p>Once we’ve learned all we want to from this breakpoint, we can quit the test early by typing ‘q’ into the breakpoint terminal. We can now restart the test by running the same pytest command from before. If everything goes well, we should again see PsyNet running through the experiment and delivering lots of green success messages. If not, we can try killing the ChromeDriver process as described above…</p>
</section>
<section id="step-6-push-the-draft-code">
<h2>Step 6: Push the draft code<a class="headerlink" href="#step-6-push-the-draft-code" title="Link to this heading">#</a></h2>
<p>We’ve just finalized our draft implementation, including code, documentation, and tests. We should now ensure that your proposed changes are all pushed to the remote repository. First we run <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> to verify that we have no uncommitted file changes and that we’re on the right branch (in our example, the branch was called <code class="docutils literal notranslate"><span class="pre">288-network-participant</span></code>). If we had uncommitted changes we could fix them with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code>; if we weren’t on the right branch we could fix this using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code>. Lastly, we make sure that all our local changes are pushed to the remote repository by running one final <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code>.</p>
</section>
<section id="step-7-verify-that-the-automated-tests-run-successfully">
<h2>Step 7: Verify that the automated tests run successfully<a class="headerlink" href="#step-7-verify-that-the-automated-tests-run-successfully" title="Link to this heading">#</a></h2>
<p>Pushing your draft code should trigger the remote server to run the full suite of automated tests. You can tell that the tests have started by seeing a notice like this in the merge request’s ‘Overview’ tab.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gitlab_pipeline.png"><img alt="../_images/gitlab_pipeline.png" src="../_images/gitlab_pipeline.png" style="width: 600px;" /></a>
</figure>
<p><br />
We need to wait for these tests to proceed successfully before continuing to the next step. They can take a while to complete (~ 20 minutes), so it’s best to find something else to do in the meantime. You should receive an email from GitLab when the tests complete notifying you of their success status.</p>
<p>If the tests ran successfully, congratulations! You can proceed to the next step. If not, you need to work out how to fix the problem. You can see an error log by clicking on the pipeline ID, then on ‘tests’.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gitlab_pipeline_tests.gif"><img alt="../_images/gitlab_pipeline_tests.gif" src="../_images/gitlab_pipeline_tests.gif" style="width: 700px;" /></a>
</figure>
<p><br />
You should have a skim through these error logs to work out what went wrong. Sometimes the solution will be obvious and you can fix it immediately by making and pushing a new commit. Other times the solution will be harder to find. In this cases the next step is typically to rerun the offending test locally (using the pytest command described earlier) to see if you can reproduce it, and thereby debug it more efficiently.</p>
</section>
<section id="step-8-adding-a-changelog-entry-to-the-merge-request-description">
<h2>Step 8: Adding a CHANGELOG entry to the merge-request description<a class="headerlink" href="#step-8-adding-a-changelog-entry-to-the-merge-request-description" title="Link to this heading">#</a></h2>
<p>The next step is to add a CHANGELOG entry to the merge-request description. The CHANGELOG entry summarizes the changes that have been made in the merge request; it will later be compiled into the CHANGELOG.md file situated in PsyNet’s root directory. This process is very important for helping PsyNet users to keep abreast of new features.</p>
<p>We have some conventions about how to format the CHANGELOG entry. It should be organized into sections, with the sections drawn from the following options:</p>
<ul class="simple">
<li><p>Added (corresponding to new features);</p></li>
<li><p>Fixed (corresponding to bugfixes);</p></li>
<li><p>Changed (corresponding to changed functionality);</p></li>
<li><p>Updated (corresponding to updated versions, e.g. for dependencies).</p></li>
</ul>
<p>You should use the template provided by default at the bottom of the merge request description. This is what the template looks like:</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gh"># Changelog</span>
<span class="ge">_To be completed after the draft implementation is complete_</span>

<span class="gu">## Added</span>
<span class="ge">_New features (delete if not applicable)_</span>

<span class="gu">## Fixed</span>
<span class="ge">_Fixed issues (delete if not applicable)_</span>

<span class="gu">## Changed</span>
<span class="ge">_Changed functionality (point out breaking changes in particular) (delete if not applicable)_</span>

<span class="gu">## Updated</span>
<span class="ge">_Updated versions (e.g. for dependencies) (delete if not applicable)_</span>

Here are some examples of CHANGELOG entries from PsyNet’s history:
<span class="gu">#### Added</span>
<span class="k">-</span><span class="w"> </span>Added &#39;Edit on GitLab&#39; button to documentation pages.
<span class="k">-</span><span class="w"> </span>Added <span class="sb">`FreeTappingRecordTest`</span> to prescreens.

<span class="gu">#### Fixed</span>
<span class="k">-</span><span class="w"> </span>Renamed <span class="sb">`clickedObject`</span> to <span class="sb">`clicked_object`</span> in the graph experiment demo&#39;s
  <span class="sb">`format_answer`</span> method.

<span class="gu">#### Updated</span>
<span class="k">-</span><span class="w"> </span>Updated Dallinger to v9.3.0.
<span class="k">-</span><span class="w"> </span>Updated google-chrome and chromedriver to version 109.x in .gitlab-ci.yml.
</pre></div>
</div>
</section>
<section id="step-9-dealing-with-merge-conflicts">
<h2>Step 9: Dealing with merge conflicts<a class="headerlink" href="#step-9-dealing-with-merge-conflicts" title="Link to this heading">#</a></h2>
<p>If you spend a long time working on your feature branch, other changes might happen to the PsyNet codebase in the meantime. If you are lucky, these changes happen to parts of the code that don’t interact with your own changes, and you don’t have to think about it. If you’re unlucky, the changes do interact, potentially causing a so-called merge conflict. You will have to resolve this merge conflict before releasing your feature. Resolving merge conflicts is covered elsewhere in this documentation.
Merge conflicts get increasingly painful the more and more changes accumulate to the branch that you branched off. The best way to protect yourself from painful merge conflict resolution is to regularly update your feature branch with changes that have subsequently happened to the master branch. The way I normally do this is as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git checkout dev</span>
<span class="go">git pull</span>
<span class="go">git checkout my-feature-branch</span>
<span class="go">git merge dev</span>
</pre></div>
</div>
<p>The more regularly you do this, the less divergence can occur, and the easier it is to resolve the conflicts.</p>
</section>
<section id="step-10-code-review">
<h2>Step 10: Code review<a class="headerlink" href="#step-10-code-review" title="Link to this heading">#</a></h2>
<p>The contribution is now ready for <em>code review</em> <a class="footnote-reference brackets" href="#id3" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>. Code review is a process whereby other members of the PsyNet developer team examine your proposed changes and give you feedback. Sometimes they might detect a bug or unforeseen limitation of your contribution; other times they might instead make suggestions about how to make your code more elegant, readable, or maintainable.</p>
<p>It’s tempting to assume that code review is only useful when the reviewer has significantly more experience than the code author. This is not the case. An important goal in software design is to write code that looks maximally simple and transparent, and hence understandable by novices. If a novice finds a code segment impossible to understand, this is useful feedback in itself, because it suggests that the code might benefit from refactoring into something more understandable.</p>
<p>Nonetheless, it is true that code review plays a critical role in protecting the integrity and quality of the codebase. In this sense it is important to ensure that every PsyNet contribution does at some point get reviewed by one of the core PsyNet developers, which currently number just two: Frank Höger and Peter Harrison. An important goal of the coming months is to try and increase this number of core PsyNet developers, either through the appointment of additional employees, or through the training of advanced PsyNet users such as yourself.</p>
<p>How do we ensure that every contribution passes through the core PsyNet developers without creating adverse load on Frank and Peter? My proposal is that contributions from non-core PsyNet developers should undergo an initial round of code review from another non-core PsyNet developer. The reviewer will provide some suggested revisions, with the idea that these should be enacted directly by the original submitter. Once the reviewer is satisfied with the enacted revisions, the contribution is then allocated to one of the core PsyNet developers for a final review. This review may introduce further required revisions that need to be addressed by the original submitter. Once the final reviewer is satisfied, they give final approval to the contribution, and merge it into PsyNet’s master branch, so that the contribution will be made available in PsyNet’s next official release.</p>
<p>Let’s now talk about the specifics of the process. If we navigate to the corresponding merge request in GitLab/GitHub, we should see evidence of our recent activity. In particular, if we navigate to the ‘Changes’ tab, we should see a diff representation of the changes that we have introduced. At this point take a few minutes to read through this diff representation line-by-line to verify the correctness of the changes. It’s surprising how many mistakes this process can catch, even if it feels unnecessary.</p>
<p>The next task is to pass your merge request to the first reviewer listed in your merge request’s Description. If you yourself are a non-core PsyNet developer, then your first reviewer will generally also be a non-core PsyNet developer.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gitlab_reviewer.gif"><img alt="../_images/gitlab_reviewer.gif" src="../_images/gitlab_reviewer.gif" style="width: 300px;" /></a>
</figure>
<p><br />
This will send an automatic email to the reviewer telling them that the code is ready for review. If you like you can additionally send a personal message via Slack or via the GitLab merge request comments section.</p>
<p>To review a given merge request, the reviewer will go to the ‘Changes’ panel on the merge request to view a diff representation of the merge request. It will look something like this:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gitlab_merge_request_diff.png"><img alt="../_images/gitlab_merge_request_diff.png" src="../_images/gitlab_merge_request_diff.png" style="width: 700px;" /></a>
</figure>
<p><br />
The reviewer’s task is to go through this diff line-by-line, file-by-file, thinking about whether each change is correct. This process has two main purposes. The first (and obvious purpose) is to catch unanticipated limitations or errors with the contributed code. The second purpose, often neglected, is to help the reviewer to become familiar with this newly changed part of the codebase. This will help them in the future if they want to interact with this part of the codebase again.</p>
<p>To query a given change, the reviewer moves the mouse over to the respective line and clicks the ‘Comment’ icon. They then write a text message summarizing their query, which will typically take the form of a question, a suggested change, or both.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gitlab_merge_request_comment.gif"><img alt="../_images/gitlab_merge_request_comment.gif" src="../_images/gitlab_merge_request_comment.gif" style="width: 700px;" /></a>
</figure>
<p><br />
Once the comment is completed, the reviewer clicks the ‘Start review’ button (or ‘Add to review’ for the second comment onwards. If we were to click ‘Add comment now’, this would immediately send an email to the contributor. This is fine if we know that we have just one comment to make, but typically we’ll have multiple, and it’s awkward to send separate emails for each one. We therefore recommend clicking ‘Start a review’ for the first comment, clicking ‘Add to review’ for subsequent comments, and then ‘Submit review’ once all the comments are complete.</p>
<p>Once we’ve finished examining a given file, we click the ‘Viewed’ checkbox to log the fact that we’ve finished.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sometimes the reviewer might want to try the code on their own machine, rather than just reading it online. To do this they will need to run some Git commands on their local repository:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git fetch  # fetches the current state of all branches, including the feature branch</span>
<span class="go">git checkout my-feature-branch  # replace my-feature-branch with the branch name</span>
</pre></div>
</div>
</div>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/gitlab_merge_request_collapse.gif"><img alt="../_images/gitlab_merge_request_collapse.gif" src="../_images/gitlab_merge_request_collapse.gif" style="width: 700px;" /></a>
</figure>
<p><br />
This collapses the diff for that file, helping us to focus on files that we haven’t examined yet. If the contributor subsequently edits that file, that diff will be expanded again, making sure that we don’t miss these subsequent changes. Otherwise the diff will stay collapsed.</p>
<p>It’s important to have a balanced reviewing strategy. One tends to be biased towards one’s own coding styles, and it’s tempting to feel an obligation to make the code resemble exactly how you’d do it. <a class="footnote-reference brackets" href="#id4" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> This can be time-consuming for the reviewer, frustrating for the contributor, and not necessarily so valuable in the long run. On the other hand, a lax approach to reviewing is dangerous too because it allows the quality of the codebase to be degraded over the long-term. The main principle to remember though is to be nice: both contributors and reviewers are often working out of goodness of will, and we should try our best to preserve that.</p>
<p>Once the review is completed, the reviewer submits it by pressing the ‘Submit review’ button. This triggers an automatic email to be sent to the contributor; it wouldn’t hurt to send a personal follow-up Slack message or GitHub comment too.</p>
<p>The contributor’s task is then to go through the reviewer’s comments and address them one-by-one. This will typically involve making various further changes to the current branch, which should be committed and pushed as usual.</p>
<p>Once the contributor has addressed a given comment, they should write a textual response to the reviewer
explaining their actions. This could be as simple as writing ‘Fixed’; alternatively it could be the beginning of a longer debate about the right way to go forward.</p>
<p>If the reviewer is satisfied with the response, they should click the ‘Resolve thread button’. This hides the commit from the diff view.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Contributors should <em>not</em> resolve reviewer comments! This runs the risk of the reviewer missing the response and hence not being able to verify it.</p>
</div>
<p>If the reviewer is not satisfied with the response, they are welcome to discuss it further with the contributor to achieve a consensus. If this proves impossible, then they are encouraged to raise the issue to a core PsyNet developer (tagging the developer in that conversation should be sufficient).
Eventually the conversation between the contributor and the first reviewer will come to an end, usually with all conversations resolved. If there is a second reviewer listed on the reviewer list, this is the point when the merge request should be passed onto that second reviewer. This is achieved similarly to how the first reviewer was selected, but this time we begin by deselecting the first reviewer and only then selecting the second reviewer. This second reviewer will then be sent an email notification and the review process will repeat with this new reviewer.</p>
</section>
<section id="step-11-merging-to-dev">
<h2>Step 11: Merging to dev<a class="headerlink" href="#step-11-merging-to-dev" title="Link to this heading">#</a></h2>
<p>The final reviewer has the job of signing off on the merge request. This is done by clicking the ‘Approve’ button in the GitLab interface (which removes the ‘Draft:’ prefix from the merge request’s title) and then clicking ‘Merge’ (or ‘Merge when pipeline success’ in the case when the automated tests are still running).</p>
<p>Congratulations! Your merge request has been successfully processed. It should become available in PsyNet once the next public release is created by the PsyNet core developers.</p>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id3" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Note: It is also possible to request code review at an earlier stage of the project if you feel you would benefit from it. Simply get in touch with the reviewer and ask if they’d be willing to look at the code early.</p>
</aside>
<aside class="footnote brackets" id="id4" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p>This phenomenon is related to the well-documented phenomenon that people prefer the smell of their own farts. For follow-up reading, see <a class="reference external" href="https://en.wikipedia.org/wiki/Code_smell">Code Smells (via Wikipedia)</a>.</p>
</aside>
</aside>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="prescreening_tasks.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Creating pre-screening tasks</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="workflow.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Developer workflow</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Peter Harrison
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Contributing a feature/bugfix</a><ul>
<li><a class="reference internal" href="#step-1-creating-an-issue">Step 1: Creating an issue</a></li>
<li><a class="reference internal" href="#step-2-creating-a-merge-request">Step 2: Creating a merge request</a></li>
<li><a class="reference internal" href="#step-3-implementing-the-feature">Step 3: Implementing the feature</a></li>
<li><a class="reference internal" href="#step-4-adding-documentation">Step 4: Adding documentation</a></li>
<li><a class="reference internal" href="#step-5-adding-tests">Step 5: Adding tests</a></li>
<li><a class="reference internal" href="#step-6-push-the-draft-code">Step 6: Push the draft code</a></li>
<li><a class="reference internal" href="#step-7-verify-that-the-automated-tests-run-successfully">Step 7: Verify that the automated tests run successfully</a></li>
<li><a class="reference internal" href="#step-8-adding-a-changelog-entry-to-the-merge-request-description">Step 8: Adding a CHANGELOG entry to the merge-request description</a></li>
<li><a class="reference internal" href="#step-9-dealing-with-merge-conflicts">Step 9: Dealing with merge conflicts</a></li>
<li><a class="reference internal" href="#step-10-code-review">Step 10: Code review</a></li>
<li><a class="reference internal" href="#step-11-merging-to-dev">Step 11: Merging to dev</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=bffcfdfb"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../_static/js/custom.js?v=ca86d9ac"></script>
    </body>
</html>