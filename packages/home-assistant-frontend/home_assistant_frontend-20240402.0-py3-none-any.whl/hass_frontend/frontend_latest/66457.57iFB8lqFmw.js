/*! For license information please see 66457.57iFB8lqFmw.js.LICENSE.txt */
export const id=66457;export const ids=[66457];export const modules={16895:(e,i,t)=>{t.d(i,{M:()=>o,l:()=>a});const a=new Set(["primary","accent","disabled","red","pink","purple","deep-purple","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","deep-orange","brown","light-grey","grey","dark-grey","blue-grey","black","white"]);function o(e){return a.has(e)?`var(--${e}-color)`:e}},99233:(e,i,t)=>{var a=t(62659),o=t(40924),s=t(18791),l=t(77664);t(53790);(0,a.A)([(0,s.EM)("ha-aliases-editor")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Array})],key:"aliases",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"method",key:"render",value:function(){return this.aliases?o.qy` <ha-multi-textfield .hass="${this.hass}" .value="${this.aliases}" .disabled="${this.disabled}" .label="${this.hass.localize("ui.dialogs.aliases.label")}" .removeLabel="${this.hass.localize("ui.dialogs.aliases.remove")}" .addLabel="${this.hass.localize("ui.dialogs.aliases.add")}" item-index @value-changed="${this._aliasesChanged}"> </ha-multi-textfield> `:o.s6}},{kind:"method",key:"_aliasesChanged",value:function(e){(0,l.r)(this,"value-changed",{value:e})}}]}}),o.WF)},55932:(e,i,t)=>{var a=t(62659),o=t(40924),s=t(18791),l=t(69760),r=t(45081),n=t(77664),d=t(47038),c=t(38696),h=t(1169),u=t(60445),p=t(98876),v=t(94027);t(35641),t(5111),t(12731),t(39335);const m="___ADD_NEW___",y="___NO_FLOORS___",f="___ADD_NEW_SUGGESTION___",_=e=>o.qy`<ha-list-item graphic="icon" class="${(0,l.H)({"add-new":e.floor_id===m})}"> <ha-floor-icon slot="graphic" .floor="${e}"></ha-floor-icon> ${e.name} </ha-list-item>`;(0,a.A)([(0,s.EM)("ha-floor-picker")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean,attribute:"no-add"})],key:"noAdd",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Array,attribute:"include-domains"})],key:"includeDomains",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Array,attribute:"exclude-domains"})],key:"excludeDomains",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Array,attribute:"include-device-classes"})],key:"includeDeviceClasses",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Array,attribute:"exclude-floor"})],key:"excludeFloors",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"deviceFilter",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"entityFilter",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,s.wk)()],key:"_opened",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_floors",value:void 0},{kind:"field",decorators:[(0,s.P)("ha-combo-box",!0)],key:"comboBox",value:void 0},{kind:"field",key:"_suggestion",value:void 0},{kind:"field",key:"_init",value:()=>!1},{kind:"method",key:"open",value:async function(){var e;await this.updateComplete,await(null===(e=this.comboBox)||void 0===e?void 0:e.open())}},{kind:"method",key:"focus",value:async function(){var e;await this.updateComplete,await(null===(e=this.comboBox)||void 0===e?void 0:e.focus())}},{kind:"method",key:"hassSubscribe",value:function(){return[(0,u.eg)(this.hass.connection,(e=>{this._floors=e}))]}},{kind:"field",key:"_getFloors",value(){return(0,r.A)(((e,i,t,a,o,s,l,r,n,c,p)=>{let v,f,_={};(o||s||l||r||n)&&(_=(0,h.g2)(a),v=t,f=a.filter((e=>e.area_id)),o&&(v=v.filter((e=>{const i=_[e.id];return!(!i||!i.length)&&_[e.id].some((e=>o.includes((0,d.m)(e.entity_id))))})),f=f.filter((e=>o.includes((0,d.m)(e.entity_id))))),s&&(v=v.filter((e=>{const i=_[e.id];return!i||!i.length||a.every((e=>!s.includes((0,d.m)(e.entity_id))))})),f=f.filter((e=>!s.includes((0,d.m)(e.entity_id))))),l&&(v=v.filter((e=>{const i=_[e.id];return!(!i||!i.length)&&_[e.id].some((e=>{const i=this.hass.states[e.entity_id];return!!i&&(i.attributes.device_class&&l.includes(i.attributes.device_class))}))})),f=f.filter((e=>{const i=this.hass.states[e.entity_id];return i.attributes.device_class&&l.includes(i.attributes.device_class)}))),r&&(v=v.filter((e=>r(e)))),n&&(v=v.filter((e=>{const i=_[e.id];return!(!i||!i.length)&&_[e.id].some((e=>{const i=this.hass.states[e.entity_id];return!!i&&n(i)}))})),f=f.filter((e=>{const i=this.hass.states[e.entity_id];return!!i&&n(i)}))));let g,b=e;var k;(v&&(g=v.filter((e=>e.area_id)).map((e=>e.area_id))),f)&&(g=(null!==(k=g)&&void 0!==k?k:[]).concat(f.filter((e=>e.area_id)).map((e=>e.area_id))));if(g){const e=(0,u._o)(i);b=b.filter((i=>{var t;return null===(t=e[i.floor_id])||void 0===t?void 0:t.some((e=>g.includes(e.area_id)))}))}return p&&(b=b.filter((e=>!p.includes(e.floor_id)))),b.length||(b=[{floor_id:y,name:this.hass.localize("ui.components.floor-picker.no_floors"),icon:null,level:null,aliases:[]}]),c?b:[...b,{floor_id:m,name:this.hass.localize("ui.components.floor-picker.add_new"),icon:"mdi:plus",level:null,aliases:[]}]}))}},{kind:"method",key:"updated",value:function(e){if(!this._init&&this.hass&&this._floors||this._init&&e.has("_opened")&&this._opened){this._init=!0;const e=this._getFloors(this._floors,Object.values(this.hass.areas),Object.values(this.hass.devices),Object.values(this.hass.entities),this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.noAdd,this.excludeFloors).map((e=>({...e,strings:[e.floor_id,e.name,...e.aliases]})));this.comboBox.items=e,this.comboBox.filteredItems=e}}},{kind:"method",key:"render",value:function(){var e;return o.qy` <ha-combo-box .hass="${this.hass}" .helper="${this.helper}" item-value-path="floor_id" item-id-path="floor_id" item-label-path="name" .value="${this._value}" .disabled="${this.disabled}" .required="${this.required}" .label="${void 0===this.label&&this.hass?this.hass.localize("ui.components.floor-picker.floor"):this.label}" .placeholder="${this.placeholder?null===(e=this._floors)||void 0===e||null===(e=e.find((e=>e.floor_id===this.placeholder)))||void 0===e?void 0:e.name:void 0}" .renderer="${_}" @filter-changed="${this._filterChanged}" @opened-changed="${this._openedChanged}" @value-changed="${this._floorChanged}"> </ha-combo-box> `}},{kind:"method",key:"_filterChanged",value:function(e){var i;const t=e.target,a=e.detail.value;if(!a)return void(this.comboBox.filteredItems=this.comboBox.items);const o=(0,c.H)(a,(null===(i=t.items)||void 0===i?void 0:i.filter((e=>![y,m].includes(e.label_id))))||[]);0===o.length?this.noAdd?this.comboBox.filteredItems=[{floor_id:y,name:this.hass.localize("ui.components.floor-picker.no_floors"),icon:null,level:null,aliases:[]}]:(this._suggestion=a,this.comboBox.filteredItems=[{floor_id:f,name:this.hass.localize("ui.components.floor-picker.add_new_sugestion",{name:this._suggestion}),icon:"mdi:plus",level:null,aliases:[]}]):this.comboBox.filteredItems=o}},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"method",key:"_openedChanged",value:function(e){this._opened=e.detail.value}},{kind:"method",key:"_floorChanged",value:function(e){e.stopPropagation();let i=e.detail.value;if(i===y)return i="",void this.comboBox.setInputValue("");[f,m].includes(i)?(e.target.value=this._value,(0,p.showPromptDialog)(this,{title:this.hass.localize("ui.components.floor-picker.add_dialog.title"),text:this.hass.localize("ui.components.floor-picker.add_dialog.text"),confirmText:this.hass.localize("ui.components.floor-picker.add_dialog.add"),inputLabel:this.hass.localize("ui.components.floor-picker.add_dialog.name"),defaultValue:i===f?this._suggestion:void 0,confirm:async e=>{if(e)try{const i=await(0,u.KD)(this.hass,{name:e}),t=[...this._floors,i];this.comboBox.filteredItems=this._getFloors(t,Object.values(this.hass.areas),Object.values(this.hass.devices),Object.values(this.hass.entities),this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.noAdd,this.excludeFloors),await this.updateComplete,await this.comboBox.updateComplete,this._setValue(i.floor_id)}catch(e){(0,p.showAlertDialog)(this,{title:this.hass.localize("ui.components.floor-picker.add_dialog.failed_create_floor"),text:e.message})}},cancel:()=>{this._setValue(void 0),this._suggestion=void 0,this.comboBox.setInputValue("")}})):i!==this._value&&this._setValue(i)}},{kind:"method",key:"_setValue",value:function(e){this.value=e,setTimeout((()=>{(0,n.r)(this,"value-changed",{value:e}),(0,n.r)(this,"change")}),0)}}]}}),(0,v.E)(o.WF))},57225:(e,i,t)=>{t.r(i),t.d(i,{HaIconPicker:()=>p});var a=t(62659),o=(t(23981),t(40924)),s=t(18791),l=t(45081),r=t(77664),n=t(95866);t(35641),t(57780);let d=[],c=!1;const h=async e=>{try{const i=n.y[e].getIconList;if("function"!=typeof i)return[];const t=await i();return t.map((i=>{var t;return{icon:`${e}:${i.name}`,parts:new Set(i.name.split("-")),keywords:null!==(t=i.keywords)&&void 0!==t?t:[]}}))}catch(i){return console.warn(`Unable to load icon list for ${e} iconset`),[]}},u=e=>o.qy`<mwc-list-item graphic="avatar"> <ha-icon .icon="${e.icon}" slot="graphic"></ha-icon> ${e.icon} </mwc-list-item>`;let p=(0,a.A)([(0,s.EM)("ha-icon-picker")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"invalid",value:()=>!1},{kind:"method",key:"render",value:function(){return o.qy` <ha-combo-box .hass="${this.hass}" item-value-path="icon" item-label-path="icon" .value="${this._value}" allow-custom-value .dataProvider="${c?this._iconProvider:void 0}" .label="${this.label}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required}" .placeholder="${this.placeholder}" .errorMessage="${this.errorMessage}" .invalid="${this.invalid}" .renderer="${u}" icon @opened-changed="${this._openedChanged}" @value-changed="${this._valueChanged}"> ${this._value||this.placeholder?o.qy` <ha-icon .icon="${this._value||this.placeholder}" slot="icon"> </ha-icon> `:o.qy`<slot slot="icon" name="fallback"></slot>`} </ha-combo-box> `}},{kind:"field",key:"_filterIcons",value:()=>(0,l.A)(((e,i=d)=>{if(!e)return i;const t=[],a=(e,i)=>t.push({icon:e,rank:i});for(const t of i)t.parts.has(e)?a(t.icon,1):t.keywords.includes(e)?a(t.icon,2):t.icon.includes(e)?a(t.icon,3):t.keywords.some((i=>i.includes(e)))&&a(t.icon,4);return 0===t.length&&a(e,0),t.sort(((e,i)=>e.rank-i.rank))}))},{kind:"field",key:"_iconProvider",value(){return(e,i)=>{const t=this._filterIcons(e.filter.toLowerCase(),d),a=e.page*e.pageSize,o=a+e.pageSize;i(t.slice(a,o),t.length)}}},{kind:"method",key:"_openedChanged",value:async function(e){e.detail.value&&!c&&(await(async()=>{c=!0;const e=await t.e(25143).then(t.t.bind(t,25143,19));d=e.default.map((e=>({icon:`mdi:${e.name}`,parts:new Set(e.name.split("-")),keywords:e.keywords})));const i=[];Object.keys(n.y).forEach((e=>{i.push(h(e))})),(await Promise.all(i)).forEach((e=>{d.push(...e)}))})(),this.requestUpdate())}},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation(),this._setValue(e.detail.value)}},{kind:"method",key:"_setValue",value:function(e){this.value=e,(0,r.r)(this,"value-changed",{value:this._value},{bubbles:!1,composed:!1})}},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`ha-icon,ha-svg-icon{color:var(--primary-text-color);position:relative;bottom:2px}[slot=prefix]{margin-right:8px;margin-inline-end:8px;margin-inline-start:initial}`}}]}}),o.WF)},53790:(e,i,t)=>{var a=t(62659),o=t(40924),s=t(18791),l=t(77664),r=t(14126);t(99535),t(12731),t(42398);(0,a.A)([(0,s.EM)("ha-multi-textfield")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"value",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"inputType",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"inputSuffix",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"inputPrefix",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"autocomplete",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"addLabel",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"removeLabel",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:"item-index",type:Boolean})],key:"itemIndex",value:()=>!1},{kind:"method",key:"render",value:function(){var e,i,t;return o.qy` ${this._items.map(((e,i)=>{var t,a,s;const l=""+(this.itemIndex?` ${i+1}`:"");return o.qy` <div class="layout horizontal center-center row"> <ha-textfield .suffix="${this.inputSuffix}" .prefix="${this.inputPrefix}" .type="${this.inputType}" .autocomplete="${this.autocomplete}" .disabled="${this.disabled}" dialogInitialFocus="${i}" .index="${i}" class="flex-auto" .label="${""+(this.label?`${this.label}${l}`:"")}" .value="${e}" ?data-last="${i===this._items.length-1}" @input="${this._editItem}" @keydown="${this._keyDown}"></ha-textfield> <ha-icon-button .disabled="${this.disabled}" .index="${i}" slot="navigationIcon" .label="${null!==(t=null!==(a=this.removeLabel)&&void 0!==a?a:null===(s=this.hass)||void 0===s?void 0:s.localize("ui.common.remove"))&&void 0!==t?t:"Remove"}" @click="${this._removeItem}" .path="${"M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8,9H16V19H8V9M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z"}"></ha-icon-button> </div> `}))} <div class="layout horizontal center-center"> <ha-button @click="${this._addItem}" .disabled="${this.disabled}"> ${null!==(e=null!==(i=this.addLabel)&&void 0!==i?i:null===(t=this.hass)||void 0===t?void 0:t.localize("ui.common.add"))&&void 0!==e?e:"Add"} <ha-svg-icon slot="icon" .path="${"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}"></ha-svg-icon> </ha-button> </div> `}},{kind:"get",key:"_items",value:function(){var e;return null!==(e=this.value)&&void 0!==e?e:[]}},{kind:"method",key:"_addItem",value:async function(){var e;const i=[...this._items,""];this._fireChanged(i),await this.updateComplete;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("ha-textfield[data-last]");null==t||t.focus()}},{kind:"method",key:"_editItem",value:async function(e){const i=e.target.index,t=[...this._items];t[i]=e.target.value,this._fireChanged(t)}},{kind:"method",key:"_keyDown",value:async function(e){"Enter"===e.key&&(e.stopPropagation(),this._addItem())}},{kind:"method",key:"_removeItem",value:async function(e){const i=e.target.index,t=[...this._items];t.splice(i,1),this._fireChanged(t)}},{kind:"method",key:"_fireChanged",value:function(e){this.value=e,(0,l.r)(this,"value-changed",{value:e})}},{kind:"get",static:!0,key:"styles",value:function(){return[r.RF,o.AH`.row{margin-bottom:8px}ha-textfield{display:block}ha-icon-button{display:block}ha-button{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}`]}}]}}),o.WF)},93487:(e,i,t)=>{var a=t(62659),o=t(40924),s=t(18791);(0,a.A)([(0,s.EM)("ha-settings-row")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean,attribute:"three-line"})],key:"threeLine",value:()=>!1},{kind:"method",key:"render",value:function(){return o.qy` <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="${!this.threeLine}" ?three-line="${this.threeLine}"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> `}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding-top:8px;padding-bottom:8px;padding-left:0;padding-inline-start:0;padding-right:16x;padding-inline-end:16px;overflow:hidden;display:var(--layout-vertical_-_display);flex-direction:var(--layout-vertical_-_flex-direction);justify-content:var(--layout-center-justified_-_justify-content);flex:var(--layout-flex_-_flex);flex-basis:var(--layout-flex_-_flex-basis)}.body[three-line]{min-height:var(--paper-item-body-three-line-min-height,88px)}.body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(
          --mdc-typography-body2-font-family,
          var(--mdc-typography-font-family, Roboto, sans-serif)
        );-webkit-font-smoothing:antialiased;font-size:var(--mdc-typography-body2-font-size, .875rem);font-weight:var(--mdc-typography-body2-font-weight,400);line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(var(--paper-item-body-two-line-min-height,72px) - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}`}}]}}),o.WF)},51477:(e,i,t)=>{t.d(i,{Rp:()=>c,_9:()=>d,_G:()=>l,d4:()=>h,o5:()=>n});var a=t(99955),o=t(95507),s=t(47394);const l=e=>e.sendMessagePromise({type:"config/label_registry/list"}).then((e=>e.sort(((e,i)=>(0,o.x)(e.name,i.name))))),r=(e,i)=>e.subscribeEvents((0,s.s)((()=>l(e).then((e=>i.setState(e,!0)))),500,!0),"label_registry_updated"),n=(e,i)=>(0,a.N)("_labelRegistry",l,r,e,i),d=(e,i)=>e.callWS({type:"config/label_registry/create",...i}),c=(e,i,t)=>e.callWS({type:"config/label_registry/update",label_id:i,...t}),h=(e,i)=>e.callWS({type:"config/label_registry/delete",label_id:i})},64960:(e,i,t)=>{t.r(i);var a=t(62659),o=(t(58068),t(29805),t(40924)),s=t(18791),l=t(77664),r=(t(12261),t(99233),t(95439)),n=(t(23358),t(93487),t(57225),t(55932),t(42398),t(95797),t(14126));const d={round:!1,type:"image/jpeg",quality:.75,aspectRatio:1.78};let c=(0,a.A)(null,(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_name",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_aliases",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_labels",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_picture",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_icon",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_floor",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_submitting",value:void 0},{kind:"method",key:"showDialog",value:async function(e){var i,t,a;this._params=e,this._error=void 0,this._name=this._params.entry?this._params.entry.name:"",this._aliases=this._params.entry?this._params.entry.aliases:[],this._labels=this._params.entry?this._params.entry.labels:[],this._picture=(null===(i=this._params.entry)||void 0===i?void 0:i.picture)||null,this._icon=(null===(t=this._params.entry)||void 0===t?void 0:t.icon)||null,this._floor=(null===(a=this._params.entry)||void 0===a?void 0:a.floor_id)||null,await this.updateComplete}},{kind:"method",key:"closeDialog",value:function(){this._error="",this._params=void 0,(0,l.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){if(!this._params)return o.s6;const e=this._params.entry,i=!this._isNameValid();return o.qy` <ha-dialog open @closed="${this.closeDialog}" .heading="${(0,r.l)(this.hass,e?this.hass.localize("ui.panel.config.areas.editor.update_area"):this.hass.localize("ui.panel.config.areas.editor.create_area"))}"> <div> ${this._error?o.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <div class="form"> ${e?o.qy` <ha-settings-row> <span slot="heading"> ${this.hass.localize("ui.panel.config.areas.editor.area_id")} </span> <span slot="description"> ${e.area_id} </span> </ha-settings-row> `:o.s6} <ha-textfield .value="${this._name}" @input="${this._nameChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.name")}" .validationMessage="${this.hass.localize("ui.panel.config.areas.editor.name_required")}" required dialogInitialFocus></ha-textfield> <ha-icon-picker .hass="${this.hass}" .value="${this._icon}" @value-changed="${this._iconChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.icon")}"></ha-icon-picker> <ha-floor-picker .hass="${this.hass}" .value="${this._floor}" @value-changed="${this._floorChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.floor")}"></ha-floor-picker> <ha-labels-picker .hass="${this.hass}" .value="${this._labels}" @value-changed="${this._labelsChanged}"></ha-labels-picker> <ha-picture-upload .hass="${this.hass}" .value="${this._picture}" crop .cropOptions="${d}" @change="${this._pictureChanged}"></ha-picture-upload> <h3 class="header"> ${this.hass.localize("ui.panel.config.areas.editor.aliases_section")} </h3> <p class="description"> ${this.hass.localize("ui.panel.config.areas.editor.aliases_description")} </p> <ha-aliases-editor .hass="${this.hass}" .aliases="${this._aliases}" @value-changed="${this._aliasesChanged}"></ha-aliases-editor> </div> </div> <mwc-button slot="secondaryAction" @click="${this.closeDialog}"> ${this.hass.localize("ui.common.cancel")} </mwc-button> <mwc-button slot="primaryAction" @click="${this._updateEntry}" .disabled="${i||this._submitting}"> ${e?this.hass.localize("ui.common.save"):this.hass.localize("ui.common.add")} </mwc-button> </ha-dialog> `}},{kind:"method",key:"_isNameValid",value:function(){return""!==this._name.trim()}},{kind:"method",key:"_nameChanged",value:function(e){this._error=void 0,this._name=e.target.value}},{kind:"method",key:"_floorChanged",value:function(e){this._error=void 0,this._floor=e.detail.value}},{kind:"method",key:"_iconChanged",value:function(e){this._error=void 0,this._icon=e.detail.value}},{kind:"method",key:"_labelsChanged",value:function(e){this._error=void 0,this._labels=e.detail.value}},{kind:"method",key:"_pictureChanged",value:function(e){this._error=void 0,this._picture=e.target.value}},{kind:"method",key:"_updateEntry",value:async function(){const e=!this._params.entry;this._submitting=!0;try{const i={name:this._name.trim(),picture:this._picture||(e?void 0:null),icon:this._icon||(e?void 0:null),floor_id:this._floor||(e?void 0:null),labels:this._labels||null,aliases:this._aliases};e?await this._params.createEntry(i):await this._params.updateEntry(i),this.closeDialog()}catch(e){this._error=e.message||this.hass.localize("ui.panel.config.areas.editor.unknown_error")}finally{this._submitting=!1}}},{kind:"method",key:"_aliasesChanged",value:function(e){this._aliases=e.detail.value}},{kind:"get",static:!0,key:"styles",value:function(){return[n.nA,o.AH`ha-floor-picker,ha-icon-picker,ha-labels-picker,ha-picture-upload,ha-textfield{display:block;margin-bottom:16px}`]}}]}}),o.WF);customElements.define("dialog-area-registry-detail",c)},72590:(e,i,t)=>{t.d(i,{f:()=>s});var a=t(77664);const o=()=>Promise.all([t.e(29805),t.e(22658),t.e(88201),t.e(61606),t.e(50988),t.e(34667),t.e(27350),t.e(32503),t.e(92025),t.e(55230),t.e(3410)]).then(t.bind(t,3410)),s=(e,i)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-label-detail",dialogImport:o,dialogParams:i})}},27490:(e,i,t)=>{t.d(i,{Y:()=>d});var a=t(76513),o=t(18791),s=t(40924),l=t(52162);class r extends s.WF{get chips(){return this.childElements.filter((e=>e instanceof l.v))}constructor(){super(),this.internals=this.attachInternals(),s.S$||(this.addEventListener("focusin",this.updateTabIndices.bind(this)),this.addEventListener("update-focus",this.updateTabIndices.bind(this)),this.addEventListener("keydown",this.handleKeyDown.bind(this)),this.internals.role="toolbar")}render(){return s.qy`<slot @slotchange="${this.updateTabIndices}"></slot>`}handleKeyDown(e){const i="ArrowLeft"===e.key,t="ArrowRight"===e.key,a="Home"===e.key,o="End"===e.key;if(!(i||t||a||o))return;const{chips:s}=this;if(s.length<2)return;if(e.preventDefault(),a||o){return s[a?0:s.length-1].focus({trailing:o}),void this.updateTabIndices()}const l="rtl"===getComputedStyle(this).direction?i:t,r=s.find((e=>e.matches(":focus-within")));if(!r){return(l?s[0]:s[s.length-1]).focus({trailing:!l}),void this.updateTabIndices()}const n=s.indexOf(r);let d=l?n+1:n-1;for(;d!==n;){d>=s.length?d=0:d<0&&(d=s.length-1);const e=s[d];if(!e.disabled||e.alwaysFocusable){e.focus({trailing:!l}),this.updateTabIndices();break}l?d++:d--}}updateTabIndices(){const{chips:e}=this;let i;for(const t of e){const e=t.alwaysFocusable||!t.disabled;t.matches(":focus-within")&&e?i=t:(e&&!i&&(i=t),t.tabIndex=-1)}i&&(i.tabIndex=0)}}(0,a.__decorate)([(0,o.KN)()],r.prototype,"childElements",void 0);const n=s.AH`:host{display:flex;flex-wrap:wrap;gap:8px}`;let d=class extends r{};d.styles=[n],d=(0,a.__decorate)([(0,o.EM)("md-chip-set")],d)},29439:(e,i,t)=>{t.d(i,{U:()=>p});var a=t(76513),o=t(18791),s=t(40924),l=t(96865),r=t(30207);class n extends l.M{constructor(){super(...arguments),this.avatar=!1,this.href="",this.target="",this.removeOnly=!1,this.selected=!1}get primaryId(){return this.href?"link":this.removeOnly?"":"button"}get rippleDisabled(){return!this.href&&this.disabled}get primaryAction(){return this.removeOnly?null:this.renderRoot.querySelector(".primary.action")}getContainerClasses(){return{...super.getContainerClasses(),avatar:this.avatar,disabled:!this.href&&this.disabled,link:!!this.href,selected:this.selected,"has-trailing":!0}}renderPrimaryAction(e){const{ariaLabel:i}=this;return this.href?s.qy` <a class="primary action" id="link" aria-label="${i||s.s6}" href="${this.href}" target="${this.target||s.s6}">${e}</a> `:this.removeOnly?s.qy` <span class="primary action" aria-label="${i||s.s6}"> ${e} </span> `:s.qy` <button class="primary action" id="button" aria-label="${i||s.s6}" ?disabled="${this.disabled&&!this.alwaysFocusable}" type="button">${e}</button> `}renderTrailingAction(e){return(0,r.h)({focusListener:e,ariaLabel:this.ariaLabelRemove,disabled:!this.href&&this.disabled,tabbable:this.removeOnly})}}(0,a.__decorate)([(0,o.MZ)({type:Boolean})],n.prototype,"avatar",void 0),(0,a.__decorate)([(0,o.MZ)()],n.prototype,"href",void 0),(0,a.__decorate)([(0,o.MZ)()],n.prototype,"target",void 0),(0,a.__decorate)([(0,o.MZ)({type:Boolean,attribute:"remove-only"})],n.prototype,"removeOnly",void 0),(0,a.__decorate)([(0,o.MZ)({type:Boolean,reflect:!0})],n.prototype,"selected",void 0),(0,a.__decorate)([(0,o.P)(".trailing.action")],n.prototype,"trailingAction",void 0);const d=s.AH`:host{--_container-height:var(--md-input-chip-container-height, 32px);--_disabled-label-text-color:var(--md-input-chip-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity:var(--md-input-chip-disabled-label-text-opacity, 0.38);--_disabled-selected-container-color:var(--md-input-chip-disabled-selected-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-selected-container-opacity:var(--md-input-chip-disabled-selected-container-opacity, 0.12);--_label-text-font:var(--md-input-chip-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height:var(--md-input-chip-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size:var(--md-input-chip-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight:var(--md-input-chip-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_selected-container-color:var(--md-input-chip-selected-container-color, var(--md-sys-color-secondary-container, #e8def8));--_selected-focus-label-text-color:var(--md-input-chip-selected-focus-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-label-text-color:var(--md-input-chip-selected-hover-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-state-layer-color:var(--md-input-chip-selected-hover-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-state-layer-opacity:var(--md-input-chip-selected-hover-state-layer-opacity, 0.08);--_selected-label-text-color:var(--md-input-chip-selected-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-outline-width:var(--md-input-chip-selected-outline-width, 0px);--_selected-pressed-label-text-color:var(--md-input-chip-selected-pressed-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-state-layer-color:var(--md-input-chip-selected-pressed-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-state-layer-opacity:var(--md-input-chip-selected-pressed-state-layer-opacity, 0.12);--_disabled-outline-color:var(--md-input-chip-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity:var(--md-input-chip-disabled-outline-opacity, 0.12);--_focus-label-text-color:var(--md-input-chip-focus-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-outline-color:var(--md-input-chip-focus-outline-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-label-text-color:var(--md-input-chip-hover-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color:var(--md-input-chip-hover-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-opacity:var(--md-input-chip-hover-state-layer-opacity, 0.08);--_label-text-color:var(--md-input-chip-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_outline-color:var(--md-input-chip-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width:var(--md-input-chip-outline-width, 1px);--_pressed-label-text-color:var(--md-input-chip-pressed-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-color:var(--md-input-chip-pressed-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-opacity:var(--md-input-chip-pressed-state-layer-opacity, 0.12);--_avatar-shape:var(--md-input-chip-avatar-shape, var(--md-sys-shape-corner-full, 9999px));--_avatar-size:var(--md-input-chip-avatar-size, 24px);--_disabled-avatar-opacity:var(--md-input-chip-disabled-avatar-opacity, 0.38);--_disabled-leading-icon-color:var(--md-input-chip-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-icon-opacity:var(--md-input-chip-disabled-leading-icon-opacity, 0.38);--_icon-size:var(--md-input-chip-icon-size, 18px);--_selected-focus-leading-icon-color:var(--md-input-chip-selected-focus-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-leading-icon-color:var(--md-input-chip-selected-hover-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-leading-icon-color:var(--md-input-chip-selected-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-leading-icon-color:var(--md-input-chip-selected-pressed-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_focus-leading-icon-color:var(--md-input-chip-focus-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-leading-icon-color:var(--md-input-chip-hover-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_leading-icon-color:var(--md-input-chip-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_pressed-leading-icon-color:var(--md-input-chip-pressed-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_disabled-trailing-icon-color:var(--md-input-chip-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-icon-opacity:var(--md-input-chip-disabled-trailing-icon-opacity, 0.38);--_selected-focus-trailing-icon-color:var(--md-input-chip-selected-focus-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-trailing-icon-color:var(--md-input-chip-selected-hover-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-trailing-icon-color:var(--md-input-chip-selected-pressed-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-trailing-icon-color:var(--md-input-chip-selected-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-trailing-icon-color:var(--md-input-chip-focus-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-icon-color:var(--md-input-chip-hover-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-trailing-icon-color:var(--md-input-chip-pressed-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-icon-color:var(--md-input-chip-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_container-shape-start-start:var(--md-input-chip-container-shape-start-start, var(--md-input-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-start-end:var(--md-input-chip-container-shape-start-end, var(--md-input-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-end-end:var(--md-input-chip-container-shape-end-end, var(--md-input-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-end-start:var(--md-input-chip-container-shape-end-start, var(--md-input-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_leading-space:var(--md-input-chip-leading-space, 16px);--_trailing-space:var(--md-input-chip-trailing-space, 16px);--_icon-label-space:var(--md-input-chip-icon-label-space, 8px);--_with-leading-icon-leading-space:var(--md-input-chip-with-leading-icon-leading-space, 8px);--_with-trailing-icon-trailing-space:var(--md-input-chip-with-trailing-icon-trailing-space, 8px)}:host([avatar]){--_container-shape-start-start:var( --md-input-chip-container-shape-start-start, var(--md-input-chip-container-shape, calc(var(--_container-height) / 2)) );--_container-shape-start-end:var( --md-input-chip-container-shape-start-end, var(--md-input-chip-container-shape, calc(var(--_container-height) / 2)) );--_container-shape-end-end:var( --md-input-chip-container-shape-end-end, var(--md-input-chip-container-shape, calc(var(--_container-height) / 2)) );--_container-shape-end-start:var( --md-input-chip-container-shape-end-start, var(--md-input-chip-container-shape, calc(var(--_container-height) / 2)) )}.avatar .primary.action{padding-inline-start:4px}.avatar .leading.icon ::slotted(:first-child){border-radius:var(--_avatar-shape);height:var(--_avatar-size);width:var(--_avatar-size)}.disabled.avatar .leading.icon{opacity:var(--_disabled-avatar-opacity)}@media(forced-colors:active){.link .outline{border-color:ActiveText}.disabled.avatar .leading.icon{opacity:1}}`;var c=t(65618),h=t(17625),u=t(53462);let p=class extends n{};p.styles=[h.R,u.R,c.R,d],p=(0,a.__decorate)([(0,o.EM)("md-input-chip")],p)},66580:(e,i,t)=>{t.d(i,{u:()=>r});var a=t(34078),o=t(2154),s=t(3982);const l=(e,i,t)=>{const a=new Map;for(let o=i;o<=t;o++)a.set(e[o],o);return a},r=(0,o.u$)(class extends o.WL{constructor(e){if(super(e),e.type!==o.OA.CHILD)throw Error("repeat() can only be used in text expressions")}ct(e,i,t){let a;void 0===t?t=i:void 0!==i&&(a=i);const o=[],s=[];let l=0;for(const i of e)o[l]=a?a(i,l):l,s[l]=t(i,l),l++;return{values:s,keys:o}}render(e,i,t){return this.ct(e,i,t).values}update(e,[i,t,o]){var r;const n=(0,s.cN)(e),{values:d,keys:c}=this.ct(i,t,o);if(!Array.isArray(n))return this.ut=c,d;const h=null!==(r=this.ut)&&void 0!==r?r:this.ut=[],u=[];let p,v,m=0,y=n.length-1,f=0,_=d.length-1;for(;m<=y&&f<=_;)if(null===n[m])m++;else if(null===n[y])y--;else if(h[m]===c[f])u[f]=(0,s.lx)(n[m],d[f]),m++,f++;else if(h[y]===c[_])u[_]=(0,s.lx)(n[y],d[_]),y--,_--;else if(h[m]===c[_])u[_]=(0,s.lx)(n[m],d[_]),(0,s.Dx)(e,u[_+1],n[m]),m++,_--;else if(h[y]===c[f])u[f]=(0,s.lx)(n[y],d[f]),(0,s.Dx)(e,n[m],n[y]),y--,f++;else if(void 0===p&&(p=l(c,f,_),v=l(h,m,y)),p.has(h[m]))if(p.has(h[y])){const i=v.get(c[f]),t=void 0!==i?n[i]:null;if(null===t){const i=(0,s.Dx)(e,n[m]);(0,s.lx)(i,d[f]),u[f]=i}else u[f]=(0,s.lx)(t,d[f]),(0,s.Dx)(e,n[m],t),n[i]=null;f++}else(0,s.KO)(n[y]),y--;else(0,s.KO)(n[m]),m++;for(;f<=_;){const i=(0,s.Dx)(e,u[_+1]);(0,s.lx)(i,d[f]),u[f++]=i}for(;m<=y;){const e=n[m++];null!==e&&(0,s.KO)(e)}return this.ut=c,(0,s.mY)(e,u),a.c0}})}};
//# sourceMappingURL=66457.57iFB8lqFmw.js.map