.TH DICOMSORT "1" "2024\-03\-29" "bidscoin 4.3.2" "Generated Python Manual"
.SH NAME
dicomsort
.SH SYNOPSIS
.B dicomsort
[-h] [-i SUBPREFIX] [-j SESPREFIX] [-f FOLDERSCHEME] [-n NAMESCHEME] [-p PATTERN] [--force] [-d] dicomsource
.SH DESCRIPTION
Sorts and/or renames DICOM files into local subfolders, e.g. with 3\-digit SeriesNumber\-SeriesDescription
folder names (i.e. following the same listing as on the scanner console)

Supports flat DICOM as well as multi\-subject/session DICOMDIR file structures.

.TP
\fBdicomsource\fR
The root folder containing the dicomsource/[sub/][ses/] dicomfiles or the DICOMDIR file

.SH OPTIONS
.TP
\fB\-i\fR \fI\,SUBPREFIX\/\fR, \fB\-\-subprefix\fR \fI\,SUBPREFIX\/\fR
Provide a prefix string to recursively sort dicomsource/subject subfolders (e.g. "sub\-" or "S_")

.TP
\fB\-j\fR \fI\,SESPREFIX\/\fR, \fB\-\-sesprefix\fR \fI\,SESPREFIX\/\fR
Provide a prefix string to recursively sort dicomsource/subject/session subfolders (e.g. "ses\-" or "T_")

.TP
\fB\-f\fR \fI\,FOLDERSCHEME\/\fR, \fB\-\-folderscheme\fR \fI\,FOLDERSCHEME\/\fR
Naming scheme for the sorted DICOM Series subfolders. Follows the Python string formatting syntax with DICOM field names in curly bracers with an optional number of digits for numeric fields. Sorting in subfolders is skipped when an empty folderscheme is given (but note that renaming the filenames can still be performed)

.TP
\fB\-n\fR \fI\,NAMESCHEME\/\fR, \fB\-\-namescheme\fR \fI\,NAMESCHEME\/\fR
Optional naming scheme that can be provided to rename the DICOM files. Follows the Python string formatting syntax with DICOM field names in curly bracers with an optional number of digits for numeric fields. Use e.g. "{PatientName}_{SeriesNumber:03d}_{SeriesDescription}_{AcquisitionNumber:05d}_{InstanceNumber:05d}.dcm" or "{InstanceNumber:05d}_{SOPInstanceUID}.IMA" for default names

.TP
\fB\-p\fR \fI\,PATTERN\/\fR, \fB\-\-pattern\fR \fI\,PATTERN\/\fR
The regular expression pattern used in re.match(pattern, dicomfile) to select the DICOM files

.TP
\fB\-\-force\fR
Sort the DICOM data even the DICOM fields of the folder/name scheme are not in the data

.TP
\fB\-d\fR, \fB\-\-dryrun\fR
Only print the dicomsort commands without actually doing anything

.SH COMMENTS
examples:
  dicomsort raw/sub\-011/ses\-mri01
  dicomsort raw \-\-subprefix sub\- \-\-sesprefix ses\-
  dicomsort myproject/raw/DICOMDIR \-\-subprefix pat^ \-\-sesprefix
  dicomsort sub\-011/ses\-mri01/DICOMDIR \-n {AcquisitionNumber:05d}_{InstanceNumber:05d}.dcm
 

.SH AUTHOR
.nf
Marcel Zwiers <m.zwiers@donders.ru.nl>
.fi
