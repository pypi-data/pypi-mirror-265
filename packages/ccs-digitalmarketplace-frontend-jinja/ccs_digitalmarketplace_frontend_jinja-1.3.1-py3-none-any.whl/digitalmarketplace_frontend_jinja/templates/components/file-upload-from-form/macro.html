{% macro digitalmarketplaceFileUploadFromForm(params) %}
{%- from 'govuk_frontend_jinja/components/file-upload/macro.html' import govukFileUpload -%}

{% set errorMessage = params.form.errors[0] if params.form.errors %}
{% set name = params.form.name %}

{{ govukFileUpload({
  "label": {
    "text": params.form.question,
    "classes": params.label.classes if params.label,
    "isPageHeading": params.label.isPageHeading if params.label
  },
  "name": name,
  "id": "input-" + name,
  "value": params.form.data,
  "classes": params.classes,
  "attributes": params.attributes,
  "hint": {
    "html": params.form.hint
  } if params.form.hint,
  "errorMessage": {
    "text": errorMessage
  } if errorMessage
}) }}
{% endmacro %}
