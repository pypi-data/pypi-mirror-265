[tool.poetry]
name = "autoredteam"
version = "0.1.6"
description = "Vijil Automated Red Teaming Tests"
authors = [
    "Subho Majumdar <subho@vijil.ai>",
    "Brandon Dubbs <brandon@vijil.ai>",
    "Zdravko Pantic <zdravko@vijil.ai>"
]
readme = "README.md"

[tool.poetry.dependencies]
python = ">=3.11,<=3.13"
garak = ">=0.9.0.12"
mistralai = "^0.0.12"
poetry-dotenv-plugin = "^0.2.0"
pydantic = "^2.5.3"
together = "^0.2.11"
aiconfig = "^0.0.1.dev6"
ragas = "^0.1.3"
pypdf2 = "^3.0.1"
embedchain = "^0.1.99"
consistencybench = "^0.1.3"

[tool.poetry.group.dev.dependencies]
coverage = "^7.2.7"
pytest = "^8.0.0"
flake8 = "^6.0.0"
black = "^23.7.0"
pre-commit = "^3.3.3"
pytest-cov = "^4.1.0"
pycobertura = "^3.2.1"
poethepoet = "^0.21.1"
bandit = "^1.7.5"
twine = ">=4.0.2"
requests = ">=2.31.0"
build = ">=0.10.0"
keyring = ">=24.2.0"
artifacts-keyring = ">=0.3.3"
setuptools = ">=68.0.0"
Sphinx = ">=7.0.0"
myst-parser = ">=2.0.0"
ipykernel = "^6.29.3"

[tool.black]

[tool.flake8]
max-line-length = 120

[tool.mypy]

[tool.coverage]
[tool.coverage.report]
exclude_lines = [
    "pragma: no cover",
    "def __repr__",
    "if self.debug",
    "raise AssertionError",
    "raise NotImplementedError",
    "if __name__ == .__main__.:",
]


[tool.poe.tasks]
# Tests
# unit-tests = "pytest tests/"
# unit-test-with-env-file = "pytest tests/ -s --envfile tests/test.env"
# Code coverage
# test-coverage-report-azure = [
#     { cmd = "python -m pytest -v -o junit_family=xunit2 --junitxml=junit/test-results.xml --cov --cov-fail-under=70 --cov-report=xml:pytest-cobertura.xml --cov-report=html --no-coverage-upload"},
#     { cmd = "pycobertura show --format html --output html-cob/index.html coverage.xml"}
# ]

[tool.bandit]
exclude_dirs = ["tests"]
#tests = ["B201", "B301"]
#skips = ["B101", "B601"]

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"
