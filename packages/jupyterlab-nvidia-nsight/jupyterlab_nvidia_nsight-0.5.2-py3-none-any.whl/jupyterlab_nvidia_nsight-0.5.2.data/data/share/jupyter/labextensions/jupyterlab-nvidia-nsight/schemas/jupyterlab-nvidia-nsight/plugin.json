{
  "jupyter.lab.shortcuts": [],
  "title": "jupyterlab-nvidia-nsight",
  "description": "jupyterlab-nvidia-nsight settings.",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "nsys": {
      "additionalProperties": false,
      "type": "object",
      "title": "Nsight Systems",
      "properties": {
        "installationPath": {
          "type": "string",
          "title": "Installation top folder",
          "description": "e.g. /opt/nvidia/nsight-systems/<version>",
          "default": ""
        },
        "args": {
          "type": "string",
          "title": "Default arguments for 'nsys launch'",
          "default": "--trace=cuda,nvtx,osrt --python-sampling=true --python-backtrace=cuda --cudabacktrace=all"
        },
        "startArgs": {
          "type": "string",
          "title": "Default arguments for 'nsys start'",
          "default": ""
        }
      }
    },
    "ncu": {
      "additionalProperties": false,
      "type": "object",
      "title": "Nsight Compute",
      "properties": {
        "installationPath": {
          "type": "string",
          "title": "Installation top folder",
          "description": "e.g. /usr/local/NVIDIA-Nsight-Compute-<version>",
          "default": ""
        },
        "args": {
          "type": "string",
          "title": "Default arguments for enabling 'ncu'",
          "default": ""
        },
        "startArgs": {
          "type": "string",
          "title": "Default arguments for profiling with ncu",
          "default": ""
        }
      }
    },
    "uiEnabled": {
      "type": "boolean",
      "title": "Enable Nsight Systems UI",
      "description": "Allows to open reports with nsys UI in a tab inside JupyterLab (requires docker)",
      "default": false
    },
    "uiHost": {
      "type": "string",
      "title": "JupyterLab server address for streaming Nsight Systems UI",
      "description": "Set the JupyterLab server host address for streaming Nsight Systems UI. This is required when the JupyterLab server machine has multiple network interfaces.",
      "default": ""
    }
  },
  "jupyter.lab.menus": {
    "main": [
      {
        "id": "jp-mainmenu-nvidia",
        "label": "NVIDIA Nsight",
        "items": [
          {
            "command": "jupyterlab-nvidia-nsight:toggle-nsys-profile",
            "rank": 1
          },
          {
            "command": "jupyterlab-nvidia-nsight:toggle-ncu-profile",
            "rank": 1
          },
          {
            "type": "separator",
            "rank": 2
          },
          {
            "command": "jupyterlab-nvidia-nsight:profile-cells",
            "rank": 2
          },
          {
            "type": "separator",
            "rank": 3
          },
          {
            "command": "jupyterlab-nvidia-nsight:open-settings",
            "rank": 3
          },
          {
            "type": "separator",
            "rank": 4
          },
          {
            "command": "jupyterlab-nvidia-nsight:open-nsys-site",
            "rank": 4
          },
          {
            "command": "jupyterlab-nvidia-nsight:open-ncu-site",
            "rank": 4
          }
        ],
        "rank": 500
      }
    ],
    "context": [
      {
        "command": "jupyterlab-nvidia-nsight:open-report",
        "selector": ".jp-DirListing-item",
        "rank": 0
      }
    ]
  }
}
