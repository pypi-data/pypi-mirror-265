var Ft=Object.defineProperty;var Et=(e,i,t)=>i in e?Ft(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t;var we=(e,i,t)=>(Et(e,typeof i!="symbol"?i+"":i,t),t);import{v as te,I as ue,x as de,y as Rt,z as Oe,A as st,B as ie,C as ut,D as rt,E as ct,G as Q,H as A,J as Te,K as ze,w as ae,L as oe,k as r,V as Xe,M as ce,N as Fe,O as _e,P as Mt,Q as je,R as dt,S as Ke,T as Ot,U as fe,m as Z,W as xe,X as zt,Y as jt,Z as Kt,$ as Ht,a0 as vt,a1 as Nt,a2 as Ut,a3 as $t,a4 as ft,a5 as Xt,a6 as qt,a7 as Gt,a8 as Yt,a9 as mt,aa as Wt,ab as ke,ac as Zt,ad as Jt,ae as Se,af as gt,ag as Qt,ah as ht,ai as me,aj as He,F as le,ak as Ee,al as yt,am as el,an as pt,ao as tl,ap as bt,r as W,i as Re,aq as qe,ar as ll,as as nl,at as Ge,au as Ne,av as Ce,aw as al,ax as Ye,ay as xt,az as il,aA as ol,aB as sl,aC as ul,aD as rl,aE as cl,aF as kt,aG as dl,aH as vl,aI as fl,aJ as ml,aK as pe,aL as gl,aM as hl,aN as yl,aO as pl,aP as bl,aQ as xl,aR as kl,aS as Sl,aT as We,aU as Cl,aV as wl,aW as Ze,aX as St,aY as Vl,aZ as Pl,a_ as Il,a$ as _l,b0 as Tl,o as Ll,b1 as Dl,b2 as Al,b3 as Bl,b4 as Fl,b5 as El,f as be,b6 as Je,b7 as Me,d as Rl,b8 as Qe,b9 as Ml,a as Ol,c as zl,j as se,u as K,ba as ye,t as Le,bb as Ve,bc as jl,bd as Pe,be as Kl,bf as Hl,bg as Nl,bh as Ul,bi as $l,bj as De,q as Xl}from"./index-CKOVumwO.js";import{k as ne,c as ql,ac as Ct,ba as Gl}from"./three.module-BOGuGDOF.js";import{m as Yl,u as Wl,a as Zl,V as et}from"./VList-KWaULYAY.js";function tt(e){const t=Math.abs(e);return Math.sign(e)*(t/((1/.501-2)*(1-t)+1))}function lt(e){let{selectedElement:i,containerSize:t,contentSize:s,isRtl:a,currentScrollOffset:d,isHorizontal:u}=e;const o=u?i.clientWidth:i.clientHeight,n=u?i.offsetLeft:i.offsetTop,h=a&&u?s-n-o:n,w=t+d,C=o+h,x=o*.4;return h<=d?d=Math.max(h-x,0):w<=C&&(d=Math.min(d-(w-C-x),s-t)),d}function Jl(e){let{selectedElement:i,containerSize:t,contentSize:s,isRtl:a,isHorizontal:d}=e;const u=d?i.clientWidth:i.clientHeight,o=d?i.offsetLeft:i.offsetTop,n=a&&d?s-o-u/2-t/2:o+u/2-t/2;return Math.min(s-t,Math.max(0,n))}const Ql=Symbol.for("vuetify:v-slide-group"),wt=te({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Ql},nextIcon:{type:ue,default:"$next"},prevIcon:{type:ue,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...de(),...Rt(),...Oe(),...st({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),nt=ie()({name:"VSlideGroup",props:wt(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:t}=i;const{isRtl:s}=ut(),{displayClasses:a,mobile:d}=rt(e),u=ct(e,e.symbol),o=Q(!1),n=Q(0),h=Q(0),w=Q(0),C=A(()=>e.direction==="horizontal"),{resizeRef:x,contentRect:y}=Te(),{resizeRef:k,contentRect:p}=Te(),f=A(()=>u.selected.value.length?u.items.value.findIndex(c=>c.id===u.selected.value[0]):-1),S=A(()=>u.selected.value.length?u.items.value.findIndex(c=>c.id===u.selected.value[u.selected.value.length-1]):-1);if(ze){let c=-1;ae(()=>[u.selected.value,y.value,p.value,C.value],()=>{cancelAnimationFrame(c),c=requestAnimationFrame(()=>{if(y.value&&p.value){const m=C.value?"width":"height";h.value=y.value[m],w.value=p.value[m],o.value=h.value+1<w.value}if(f.value>=0&&k.value){const m=k.value.children[S.value];f.value===0||!o.value?n.value=0:e.centerActive?n.value=Jl({selectedElement:m,containerSize:h.value,contentSize:w.value,isRtl:s.value,isHorizontal:C.value}):o.value&&(n.value=lt({selectedElement:m,containerSize:h.value,contentSize:w.value,isRtl:s.value,currentScrollOffset:n.value,isHorizontal:C.value}))}})})}const L=Q(!1);let O=0,T=0;function $(c){const m=C.value?"clientX":"clientY";T=(s.value&&C.value?-1:1)*n.value,O=c.touches[0][m],L.value=!0}function E(c){if(!o.value)return;const m=C.value?"clientX":"clientY",b=s.value&&C.value?-1:1;n.value=b*(T+O-c.touches[0][m])}function P(c){const m=w.value-h.value;n.value<0||!o.value?n.value=0:n.value>=m&&(n.value=m),L.value=!1}function j(){x.value&&(x.value[C.value?"scrollLeft":"scrollTop"]=0)}const z=Q(!1);function Y(c){if(z.value=!0,!(!o.value||!k.value)){for(const m of c.composedPath())for(const b of k.value.children)if(b===m){n.value=lt({selectedElement:b,containerSize:h.value,contentSize:w.value,isRtl:s.value,currentScrollOffset:n.value,isHorizontal:C.value});return}}}function X(c){z.value=!1}function J(c){var m;!z.value&&!(c.relatedTarget&&((m=k.value)!=null&&m.contains(c.relatedTarget)))&&I()}function H(c){k.value&&(C.value?c.key==="ArrowRight"?I(s.value?"prev":"next"):c.key==="ArrowLeft"&&I(s.value?"next":"prev"):c.key==="ArrowDown"?I("next"):c.key==="ArrowUp"&&I("prev"),c.key==="Home"?I("first"):c.key==="End"&&I("last"))}function I(c){var m,b,B,_,N;if(k.value)if(!c)(m=Fe(k.value)[0])==null||m.focus();else if(c==="next"){const V=(b=k.value.querySelector(":focus"))==null?void 0:b.nextElementSibling;V?V.focus():I("first")}else if(c==="prev"){const V=(B=k.value.querySelector(":focus"))==null?void 0:B.previousElementSibling;V?V.focus():I("last")}else c==="first"?(_=k.value.firstElementChild)==null||_.focus():c==="last"&&((N=k.value.lastElementChild)==null||N.focus())}function R(c){const m=n.value+(c==="prev"?-1:1)*h.value;n.value=_e(m,0,w.value-h.value)}const q=A(()=>{let c=n.value>w.value-h.value?-(w.value-h.value)+tt(w.value-h.value-n.value):-n.value;n.value<=0&&(c=tt(-n.value));const m=s.value&&C.value?-1:1;return{transform:`translate${C.value?"X":"Y"}(${m*c}px)`,transition:L.value?"none":"",willChange:L.value?"transform":""}}),M=A(()=>({next:u.next,prev:u.prev,select:u.select,isSelected:u.isSelected})),g=A(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!d.value;case!0:return o.value||Math.abs(n.value)>0;case"mobile":return d.value||o.value||Math.abs(n.value)>0;default:return!d.value&&(o.value||Math.abs(n.value)>0)}}),l=A(()=>Math.abs(n.value)>0),v=A(()=>w.value>Math.abs(n.value)+h.value);return oe(()=>r(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!C.value,"v-slide-group--has-affixes":g.value,"v-slide-group--is-overflowing":o.value},a.value,e.class],style:e.style,tabindex:z.value||u.selected.value.length?-1:0,onFocus:J},{default:()=>{var c,m,b;return[g.value&&r("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!l.value}],onClick:()=>l.value&&R("prev")},[((c=t.prev)==null?void 0:c.call(t,M.value))??r(Xe,null,{default:()=>[r(ce,{icon:s.value?e.nextIcon:e.prevIcon},null)]})]),r("div",{key:"container",ref:x,class:"v-slide-group__container",onScroll:j},[r("div",{ref:k,class:"v-slide-group__content",style:q.value,onTouchstartPassive:$,onTouchmovePassive:E,onTouchendPassive:P,onFocusin:Y,onFocusout:X,onKeydown:H},[(m=t.default)==null?void 0:m.call(t,M.value)])]),g.value&&r("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!v.value}],onClick:()=>v.value&&R("next")},[((b=t.next)==null?void 0:b.call(t,M.value))??r(Xe,null,{default:()=>[r(ce,{icon:s.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:u.selected,scrollTo:R,scrollOffset:n,focus:I}}}),Vt=Symbol.for("vuetify:v-chip-group"),en=te({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Mt},...wt(),...de(),...st({selectedClass:"v-chip--selected"}),...Oe(),...je(),...dt({variant:"tonal"})},"VChipGroup");ie()({name:"VChipGroup",props:en(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:t}=i;const{themeClasses:s}=Ke(e),{isSelected:a,select:d,next:u,prev:o,selected:n}=ct(e,Vt);return Ot({VChip:{color:fe(e,"color"),disabled:fe(e,"disabled"),filter:fe(e,"filter"),variant:fe(e,"variant")}}),oe(()=>{const h=nt.filterProps(e);return r(nt,Z(h,{class:["v-chip-group",{"v-chip-group--column":e.column},s.value,e.class],style:e.style}),{default:()=>{var w;return[(w=t.default)==null?void 0:w.call(t,{isSelected:a,select:d,next:u,prev:o,selected:n.value})]}})}),{}}});const tn=te({activeClass:String,appendAvatar:String,appendIcon:ue,closable:Boolean,closeIcon:{type:ue,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:ue,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:xe(),onClickOnce:xe(),...zt(),...de(),...jt(),...Kt(),...Ht(),...vt(),...Nt(),...Ut(),...Oe({tag:"span"}),...je(),...dt({variant:"tonal"})},"VChip"),ln=ie()({name:"VChip",directives:{Ripple:$t},props:tn(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,i){let{attrs:t,emit:s,slots:a}=i;const{t:d}=ft(),{borderClasses:u}=Xt(e),{colorClasses:o,colorStyles:n,variantClasses:h}=qt(e),{densityClasses:w}=Gt(e),{elevationClasses:C}=Yt(e),{roundedClasses:x}=mt(e),{sizeClasses:y}=Wt(e),{themeClasses:k}=Ke(e),p=ke(e,"modelValue"),f=Zt(e,Vt,!1),S=Jt(e,t),L=A(()=>e.link!==!1&&S.isLink.value),O=A(()=>!e.disabled&&e.link!==!1&&(!!f||e.link||S.isClickable.value)),T=A(()=>({"aria-label":d(e.closeLabel),onClick(P){P.stopPropagation(),p.value=!1,s("click:close",P)}}));function $(P){var j;s("click",P),O.value&&((j=S.navigate)==null||j.call(S,P),f==null||f.toggle())}function E(P){(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),$(P))}return()=>{const P=S.isLink.value?"a":e.tag,j=!!(e.appendIcon||e.appendAvatar),z=!!(j||a.append),Y=!!(a.close||e.closable),X=!!(a.filter||e.filter)&&f,J=!!(e.prependIcon||e.prependAvatar),H=!!(J||a.prepend),I=!f||f.isSelected.value;return p.value&&Se(r(P,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":O.value,"v-chip--filter":X,"v-chip--pill":e.pill},k.value,u.value,I?o.value:void 0,w.value,C.value,x.value,y.value,h.value,f==null?void 0:f.selectedClass.value,e.class],style:[I?n.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:S.href.value,tabindex:O.value?0:void 0,onClick:$,onKeydown:O.value&&!L.value&&E},{default:()=>{var R;return[Qt(O.value,"v-chip"),X&&r(ht,{key:"filter"},{default:()=>[Se(r("div",{class:"v-chip__filter"},[a.filter?r(me,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},a.filter):r(ce,{key:"filter-icon",icon:e.filterIcon},null)]),[[He,f.isSelected.value]])]}),H&&r("div",{key:"prepend",class:"v-chip__prepend"},[a.prepend?r(me,{key:"prepend-defaults",disabled:!J,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},a.prepend):r(le,null,[e.prependIcon&&r(ce,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&r(Ee,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),r("div",{class:"v-chip__content","data-no-activator":""},[((R=a.default)==null?void 0:R.call(a,{isSelected:f==null?void 0:f.isSelected.value,selectedClass:f==null?void 0:f.selectedClass.value,select:f==null?void 0:f.select,toggle:f==null?void 0:f.toggle,value:f==null?void 0:f.value.value,disabled:e.disabled}))??e.text]),z&&r("div",{key:"append",class:"v-chip__append"},[a.append?r(me,{key:"append-defaults",disabled:!j,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},a.append):r(le,null,[e.appendIcon&&r(ce,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&r(Ee,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),Y&&r("button",Z({key:"close",class:"v-chip__close",type:"button"},T.value),[a.close?r(me,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},a.close):r(ce,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[gt("ripple"),O.value&&e.ripple,null]])}}}),nn=te({id:String,...yt(el({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:pt}}),["absolute"])},"VMenu"),an=ie()({name:"VMenu",props:nn(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:t}=i;const s=ke(e,"modelValue"),{scopeId:a}=tl(),d=bt(),u=A(()=>e.id||`v-menu-${d}`),o=W(),n=Re(qe,null),h=Q(0);ll(qe,{register(){++h.value},unregister(){--h.value},closeParents(p){setTimeout(()=>{!h.value&&(p==null||p&&!nl(p,o.value.contentEl))&&(s.value=!1,n==null||n.closeParents())},40)}});async function w(p){var L,O,T;const f=p.relatedTarget,S=p.target;await Ce(),s.value&&f!==S&&((L=o.value)!=null&&L.contentEl)&&((O=o.value)!=null&&O.globalTop)&&![document,o.value.contentEl].includes(S)&&!o.value.contentEl.contains(S)&&((T=Fe(o.value.contentEl)[0])==null||T.focus())}ae(s,p=>{p?(n==null||n.register(),document.addEventListener("focusin",w,{once:!0})):(n==null||n.unregister(),document.removeEventListener("focusin",w))});function C(p){n==null||n.closeParents(p)}function x(p){var f,S,L;e.disabled||(p.key==="Tab"?al(Fe((f=o.value)==null?void 0:f.contentEl,!1),p.shiftKey?"prev":"next",T=>T.tabIndex>=0)||(s.value=!1,(L=(S=o.value)==null?void 0:S.activatorEl)==null||L.focus()):["Enter"," "].includes(p.key)&&e.closeOnContentClick&&(s.value=!1,n==null||n.closeParents()))}function y(p){var S;if(e.disabled)return;const f=(S=o.value)==null?void 0:S.contentEl;f&&s.value?p.key==="ArrowDown"?(p.preventDefault(),Ye(f,"next")):p.key==="ArrowUp"&&(p.preventDefault(),Ye(f,"prev")):["ArrowDown","ArrowUp"].includes(p.key)&&(s.value=!0,p.preventDefault(),setTimeout(()=>setTimeout(()=>y(p))))}const k=A(()=>Z({"aria-haspopup":"menu","aria-expanded":String(s.value),"aria-owns":u.value,onKeydown:y},e.activatorProps));return oe(()=>{const p=Ge.filterProps(e);return r(Ge,Z({ref:o,id:u.value,class:["v-menu",e.class],style:e.style},p,{modelValue:s.value,"onUpdate:modelValue":f=>s.value=f,absolute:!0,activatorProps:k.value,"onClick:outside":C,onKeydown:x},a),{activator:t.activator,default:function(){for(var f=arguments.length,S=new Array(f),L=0;L<f;L++)S[L]=arguments[L];return r(me,{root:"VMenu"},{default:()=>{var O;return[(O=t.default)==null?void 0:O.call(t,...S)]}})}})}),Ne({id:u,ΨopenChildren:h},o)}}),on=te({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...de(),...xt({transition:{component:il}})},"VCounter"),sn=ie()({name:"VCounter",functional:!0,props:on(),setup(e,i){let{slots:t}=i;const s=A(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return oe(()=>r(ol,{transition:e.transition},{default:()=>[Se(r("div",{class:["v-counter",e.class],style:e.style},[t.default?t.default({counter:s.value,max:e.max,value:e.value}):s.value]),[[He,e.active]])]})),{}}}),un=te({floating:Boolean,...de()},"VFieldLabel"),Ie=ie()({name:"VFieldLabel",props:un(),setup(e,i){let{slots:t}=i;return oe(()=>r(sl,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},t)),{}}}),rn=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Pt=te({appendInnerIcon:ue,bgColor:String,clearable:Boolean,clearIcon:{type:ue,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ue,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>rn.includes(e)},"onClick:clear":xe(),"onClick:appendInner":xe(),"onClick:prependInner":xe(),...de(),...ul(),...vt(),...je()},"VField"),It=ie()({name:"VField",inheritAttrs:!1,props:{id:String,...rl(),...Pt()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,i){let{attrs:t,emit:s,slots:a}=i;const{themeClasses:d}=Ke(e),{loaderClasses:u}=cl(e),{focusClasses:o,isFocused:n,focus:h,blur:w}=kt(e),{InputIcon:C}=dl(e),{roundedClasses:x}=mt(e),{rtlClasses:y}=ut(),k=A(()=>e.dirty||e.active),p=A(()=>!e.singleLine&&!!(e.label||a.label)),f=bt(),S=A(()=>e.id||`input-${f}`),L=A(()=>`${S.value}-messages`),O=W(),T=W(),$=W(),E=A(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:P,backgroundColorStyles:j}=vl(fe(e,"bgColor")),{textColorClasses:z,textColorStyles:Y}=fl(A(()=>e.error||e.disabled?void 0:k.value&&n.value?e.color:e.baseColor));ae(k,H=>{if(p.value){const I=O.value.$el,R=T.value.$el;requestAnimationFrame(()=>{const q=ml(I),M=R.getBoundingClientRect(),g=M.x-q.x,l=M.y-q.y-(q.height/2-M.height/2),v=M.width/.75,c=Math.abs(v-q.width)>1?{maxWidth:pe(v)}:void 0,m=getComputedStyle(I),b=getComputedStyle(R),B=parseFloat(m.transitionDuration)*1e3||150,_=parseFloat(b.getPropertyValue("--v-field-label-scale")),N=b.getPropertyValue("color");I.style.visibility="visible",R.style.visibility="hidden",gl(I,{transform:`translate(${g}px, ${l}px) scale(${_})`,color:N,...c},{duration:B,easing:hl,direction:H?"normal":"reverse"}).finished.then(()=>{I.style.removeProperty("visibility"),R.style.removeProperty("visibility")})})}},{flush:"post"});const X=A(()=>({isActive:k,isFocused:n,controlRef:$,blur:w,focus:h}));function J(H){H.target!==document.activeElement&&H.preventDefault()}return oe(()=>{var g,l,v;const H=e.variant==="outlined",I=!!(a["prepend-inner"]||e.prependInnerIcon),R=!!(e.clearable||a.clear),q=!!(a["append-inner"]||e.appendInnerIcon||R),M=()=>a.label?a.label({...X.value,label:e.label,props:{for:S.value}}):e.label;return r("div",Z({class:["v-field",{"v-field--active":k.value,"v-field--appended":q,"v-field--center-affix":e.centerAffix??!E.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":I,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!M(),[`v-field--variant-${e.variant}`]:!0},d.value,P.value,o.value,u.value,x.value,y.value,e.class],style:[j.value,e.style],onClick:J},t),[r("div",{class:"v-field__overlay"},null),r(yl,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:a.loader}),I&&r("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&r(C,{key:"prepend-icon",name:"prependInner"},null),(g=a["prepend-inner"])==null?void 0:g.call(a,X.value)]),r("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&p.value&&r(Ie,{key:"floating-label",ref:T,class:[z.value],floating:!0,for:S.value,style:Y.value},{default:()=>[M()]}),r(Ie,{ref:O,for:S.value},{default:()=>[M()]}),(l=a.default)==null?void 0:l.call(a,{...X.value,props:{id:S.value,class:"v-field__input","aria-describedby":L.value},focus:h,blur:w})]),R&&r(ht,{key:"clear"},{default:()=>[Se(r("div",{class:"v-field__clearable",onMousedown:c=>{c.preventDefault(),c.stopPropagation()}},[a.clear?a.clear():r(C,{name:"clear"},null)]),[[He,e.dirty]])]}),q&&r("div",{key:"append",class:"v-field__append-inner"},[(v=a["append-inner"])==null?void 0:v.call(a,X.value),e.appendInnerIcon&&r(C,{key:"append-icon",name:"appendInner"},null)]),r("div",{class:["v-field__outline",z.value],style:Y.value},[H&&r(le,null,[r("div",{class:"v-field__outline__start"},null),p.value&&r("div",{class:"v-field__outline__notch"},[r(Ie,{ref:T,floating:!0,for:S.value},{default:()=>[M()]})]),r("div",{class:"v-field__outline__end"},null)]),E.value&&p.value&&r(Ie,{ref:T,floating:!0,for:S.value},{default:()=>[M()]})])])}),{controlRef:$}}});function cn(e){const i=Object.keys(It.props).filter(t=>!pl(t)&&t!=="class"&&t!=="style");return bl(e,i)}const dn=["color","file","time","date","datetime-local","week","month"],_t=te({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...xl(),...Pt()},"VTextField"),at=ie()({name:"VTextField",directives:{Intersect:kl},inheritAttrs:!1,props:_t(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,i){let{attrs:t,emit:s,slots:a}=i;const d=ke(e,"modelValue"),{isFocused:u,focus:o,blur:n}=kt(e),h=A(()=>typeof e.counterValue=="function"?e.counterValue(d.value):typeof e.counterValue=="number"?e.counterValue:(d.value??"").toString().length),w=A(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),C=A(()=>["plain","underlined"].includes(e.variant));function x(E,P){var j,z;!e.autofocus||!E||(z=(j=P[0].target)==null?void 0:j.focus)==null||z.call(j)}const y=W(),k=W(),p=W(),f=A(()=>dn.includes(e.type)||e.persistentPlaceholder||u.value||e.active);function S(){var E;p.value!==document.activeElement&&((E=p.value)==null||E.focus()),u.value||o()}function L(E){s("mousedown:control",E),E.target!==p.value&&(S(),E.preventDefault())}function O(E){S(),s("click:control",E)}function T(E){E.stopPropagation(),S(),Ce(()=>{d.value=null,wl(e["onClick:clear"],E)})}function $(E){var j;const P=E.target;if(d.value=P.value,(j=e.modelModifiers)!=null&&j.trim&&["text","search","password","tel","url"].includes(e.type)){const z=[P.selectionStart,P.selectionEnd];Ce(()=>{P.selectionStart=z[0],P.selectionEnd=z[1]})}}return oe(()=>{const E=!!(a.counter||e.counter!==!1&&e.counter!=null),P=!!(E||a.details),[j,z]=Sl(t),{modelValue:Y,...X}=We.filterProps(e),J=cn(e);return r(We,Z({ref:y,modelValue:d.value,"onUpdate:modelValue":H=>d.value=H,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":C.value},e.class],style:e.style},j,X,{centerAffix:!C.value,focused:u.value}),{...a,default:H=>{let{id:I,isDisabled:R,isDirty:q,isReadonly:M,isValid:g}=H;return r(It,Z({ref:k,onMousedown:L,onClick:O,"onClick:clear":T,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},J,{id:I.value,active:f.value||q.value,dirty:q.value||e.dirty,disabled:R.value,focused:u.value,error:g.value===!1}),{...a,default:l=>{let{props:{class:v,...c}}=l;const m=Se(r("input",Z({ref:p,value:d.value,onInput:$,autofocus:e.autofocus,readonly:M.value,disabled:R.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:S,onBlur:n},c,z),null),[[gt("intersect"),{handler:x},null,{once:!0}]]);return r(le,null,[e.prefix&&r("span",{class:"v-text-field__prefix"},[r("span",{class:"v-text-field__prefix__text"},[e.prefix])]),a.default?r("div",{class:v,"data-no-activator":""},[a.default(),m]):Cl(m,{class:v}),e.suffix&&r("span",{class:"v-text-field__suffix"},[r("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:P?H=>{var I;return r(le,null,[(I=a.details)==null?void 0:I.call(a,H),E&&r(le,null,[r("span",null,null),r(sn,{active:e.persistentCounter||u.value,value:h.value,max:w.value},a.counter)])])}:void 0})}),Ne({},y,k,p)}}),vn=te({renderless:Boolean,...de()},"VVirtualScrollItem"),fn=ie()({name:"VVirtualScrollItem",inheritAttrs:!1,props:vn(),emits:{"update:height":e=>!0},setup(e,i){let{attrs:t,emit:s,slots:a}=i;const{resizeRef:d,contentRect:u}=Te(void 0,"border");ae(()=>{var o;return(o=u.value)==null?void 0:o.height},o=>{o!=null&&s("update:height",o)}),oe(()=>{var o,n;return e.renderless?r(le,null,[(o=a.default)==null?void 0:o.call(a,{itemRef:d})]):r("div",Z({ref:d,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(n=a.default)==null?void 0:n.call(a)])})}}),mn=-1,gn=1,Ae=100,hn=te({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function yn(e,i){const t=rt(),s=Q(0);Ze(()=>{s.value=parseFloat(e.itemHeight||0)});const a=Q(0),d=Q(Math.ceil((parseInt(e.height)||t.height.value)/(s.value||16))||1),u=Q(0),o=Q(0),n=W(),h=W();let w=0;const{resizeRef:C,contentRect:x}=Te();Ze(()=>{C.value=n.value});const y=A(()=>{var l;return n.value===document.documentElement?t.height.value:((l=x.value)==null?void 0:l.height)||parseInt(e.height)||0}),k=A(()=>!!(n.value&&h.value&&y.value&&s.value));let p=Array.from({length:i.value.length}),f=Array.from({length:i.value.length});const S=Q(0);let L=-1;function O(l){return p[l]||s.value}const T=Vl(()=>{const l=performance.now();f[0]=0;const v=i.value.length;for(let c=1;c<=v-1;c++)f[c]=(f[c-1]||0)+O(c-1);S.value=Math.max(S.value,performance.now()-l)},S),$=ae(k,l=>{l&&($(),w=h.value.offsetTop,T.immediate(),R(),~L&&Ce(()=>{ze&&window.requestAnimationFrame(()=>{M(L),L=-1})}))});St(()=>{T.clear()});function E(l,v){const c=p[l],m=s.value;s.value=m?Math.min(s.value,v):v,(c!==v||m!==s.value)&&(p[l]=v,T())}function P(l){return l=_e(l,0,i.value.length-1),f[l]||0}function j(l){return pn(f,l)}let z=0,Y=0,X=0;ae(y,(l,v)=>{v&&(R(),l<v&&requestAnimationFrame(()=>{Y=0,R()}))});function J(){if(!n.value||!h.value)return;const l=n.value.scrollTop,v=performance.now();v-X>500?(Y=Math.sign(l-z),w=h.value.offsetTop):Y=l-z,z=l,X=v,R()}function H(){!n.value||!h.value||(Y=0,X=0,R())}let I=-1;function R(){cancelAnimationFrame(I),I=requestAnimationFrame(q)}function q(){if(!n.value||!y.value)return;const l=z-w,v=Math.sign(Y),c=Math.max(0,l-Ae),m=_e(j(c),0,i.value.length),b=l+y.value+Ae,B=_e(j(b)+1,m+1,i.value.length);if((v!==mn||m<a.value)&&(v!==gn||B>d.value)){const _=P(a.value)-P(m),N=P(B)-P(d.value);Math.max(_,N)>Ae?(a.value=m,d.value=B):(m<=0&&(a.value=m),B>=i.value.length&&(d.value=B))}u.value=P(a.value),o.value=P(i.value.length)-P(d.value)}function M(l){const v=P(l);!n.value||l&&!v?L=l:n.value.scrollTop=v}const g=A(()=>i.value.slice(a.value,d.value).map((l,v)=>({raw:l,index:v+a.value})));return ae(i,()=>{p=Array.from({length:i.value.length}),f=Array.from({length:i.value.length}),T.immediate(),R()},{deep:!0}),{containerRef:n,markerRef:h,computedItems:g,paddingTop:u,paddingBottom:o,scrollToIndex:M,handleScroll:J,handleScrollend:H,handleItemResize:E}}function pn(e,i){let t=e.length-1,s=0,a=0,d=null,u=-1;if(e[t]<i)return t;for(;s<=t;)if(a=s+t>>1,d=e[a],d>i)t=a-1;else if(d<i)u=a,s=a+1;else return d===i?a:s;return u}const bn=te({items:{type:Array,default:()=>[]},renderless:Boolean,...hn(),...de(),...Pl()},"VVirtualScroll"),xn=ie()({name:"VVirtualScroll",props:bn(),setup(e,i){let{slots:t}=i;const s=Il("VVirtualScroll"),{dimensionStyles:a}=_l(e),{containerRef:d,markerRef:u,handleScroll:o,handleScrollend:n,handleItemResize:h,scrollToIndex:w,paddingTop:C,paddingBottom:x,computedItems:y}=yn(e,fe(e,"items"));return Tl(()=>e.renderless,()=>{function k(){var S,L;const f=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";d.value===document.documentElement?(document[f]("scroll",o,{passive:!0}),document[f]("scrollend",n)):((S=d.value)==null||S[f]("scroll",o,{passive:!0}),(L=d.value)==null||L[f]("scrollend",n))}Ll(()=>{d.value=Dl(s.vnode.el,!0),k(!0)}),St(k)}),oe(()=>{const k=y.value.map(p=>r(fn,{key:p.index,renderless:e.renderless,"onUpdate:height":f=>h(p.index,f)},{default:f=>{var S;return(S=t.default)==null?void 0:S.call(t,{item:p.raw,index:p.index,...f})}}));return e.renderless?r(le,null,[r("div",{ref:u,class:"v-virtual-scroll__spacer",style:{paddingTop:pe(C.value)}},null),k,r("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:pe(x.value)}},null)]):r("div",{ref:d,class:["v-virtual-scroll",e.class],onScrollPassive:o,onScrollend:n,style:[a.value,e.style]},[r("div",{ref:u,class:"v-virtual-scroll__container",style:{paddingTop:pe(C.value),paddingBottom:pe(x.value)}},[k])])}),{scrollToIndex:w}}});function kn(e,i){const t=Q(!1);let s;function a(o){cancelAnimationFrame(s),t.value=!0,s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{t.value=!1})})}async function d(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(t.value){const n=ae(t,()=>{n(),o()})}else o()})}async function u(o){var w,C;if(o.key==="Tab"&&((w=i.value)==null||w.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const n=(C=e.value)==null?void 0:C.$el;if(!n)return;(o.key==="Home"||o.key==="End")&&n.scrollTo({top:o.key==="Home"?0:n.scrollHeight,behavior:"smooth"}),await d();const h=n.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const x=n.getBoundingClientRect().top;for(const y of h)if(y.getBoundingClientRect().top>=x){y.focus();break}}else{const x=n.getBoundingClientRect().bottom;for(const y of[...h].reverse())if(y.getBoundingClientRect().bottom<=x){y.focus();break}}}return{onListScroll:a,onListKeydown:u}}const Sn=te({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:ue,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Yl({itemChildren:!1})},"Select"),Cn=te({...Sn(),...yt(_t({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...xt({transition:{component:pt}})},"VSelect"),wn=ie()({name:"VSelect",props:Cn(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,i){let{slots:t}=i;const{t:s}=ft(),a=W(),d=W(),u=W(),o=ke(e,"menu"),n=A({get:()=>o.value,set:g=>{var l;o.value&&!g&&((l=d.value)!=null&&l.ΨopenChildren)||(o.value=g)}}),{items:h,transformIn:w,transformOut:C}=Wl(e),x=ke(e,"modelValue",[],g=>w(g===null?[null]:Al(g)),g=>{const l=C(g);return e.multiple?l:l[0]??null}),y=A(()=>typeof e.counterValue=="function"?e.counterValue(x.value):typeof e.counterValue=="number"?e.counterValue:x.value.length),k=Bl(),p=A(()=>x.value.map(g=>g.value)),f=Q(!1),S=A(()=>n.value?e.closeText:e.openText);let L="",O;const T=A(()=>e.hideSelected?h.value.filter(g=>!x.value.some(l=>l===g)):h.value),$=A(()=>e.hideNoData&&!T.value.length||e.readonly||(k==null?void 0:k.isReadonly.value)),E=A(()=>{var g;return{...e.menuProps,activatorProps:{...((g=e.menuProps)==null?void 0:g.activatorProps)||{},"aria-haspopup":"listbox"}}}),P=W(),{onListScroll:j,onListKeydown:z}=kn(P,a);function Y(g){e.openOnClear&&(n.value=!0)}function X(){$.value||(n.value=!n.value)}function J(g){var b,B;if(!g.key||e.readonly||k!=null&&k.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(g.key)&&g.preventDefault(),["Enter","ArrowDown"," "].includes(g.key)&&(n.value=!0),["Escape","Tab"].includes(g.key)&&(n.value=!1),g.key==="Home"?(b=P.value)==null||b.focus("first"):g.key==="End"&&((B=P.value)==null||B.focus("last"));const l=1e3;function v(_){const N=_.key.length===1,V=!_.ctrlKey&&!_.metaKey&&!_.altKey;return N&&V}if(e.multiple||!v(g))return;const c=performance.now();c-O>l&&(L=""),L+=g.key.toLowerCase(),O=c;const m=h.value.find(_=>_.title.toLowerCase().startsWith(L));m!==void 0&&(x.value=[m])}function H(g){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!g.props.disabled)if(e.multiple){const v=x.value.findIndex(m=>e.valueComparator(m.value,g.value)),c=l??!~v;if(~v){const m=c?[...x.value,g]:[...x.value];m.splice(v,1),x.value=m}else c&&(x.value=[...x.value,g])}else{const v=l!==!1;x.value=v?[g]:[],Ce(()=>{n.value=!1})}}function I(g){var l;(l=P.value)!=null&&l.$el.contains(g.relatedTarget)||(n.value=!1)}function R(){var g;f.value&&((g=a.value)==null||g.focus())}function q(g){f.value=!0}function M(g){if(g==null)x.value=[];else if(Je(a.value,":autofill")||Je(a.value,":-webkit-autofill")){const l=h.value.find(v=>v.title===g);l&&H(l)}else a.value&&(a.value.value="")}return ae(n,()=>{if(!e.hideSelected&&n.value&&x.value.length){const g=T.value.findIndex(l=>x.value.some(v=>e.valueComparator(v.value,l.value)));ze&&window.requestAnimationFrame(()=>{var l;g>=0&&((l=u.value)==null||l.scrollToIndex(g))})}}),ae(()=>e.items,(g,l)=>{n.value||f.value&&!l.length&&g.length&&(n.value=!0)}),oe(()=>{const g=!!(e.chips||t.chip),l=!!(!e.hideNoData||T.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),v=x.value.length>0,c=at.filterProps(e),m=v||!f.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return r(at,Z({ref:a},c,{modelValue:x.value.map(b=>b.props.value).join(", "),"onUpdate:modelValue":M,focused:f.value,"onUpdate:focused":b=>f.value=b,validationValue:x.externalValue,counterValue:y.value,dirty:v,class:["v-select",{"v-select--active-menu":n.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":x.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:m,"onClick:clear":Y,"onMousedown:control":X,onBlur:I,onKeydown:J,"aria-label":s(S.value),title:s(S.value)}),{...t,default:()=>r(le,null,[r(an,Z({ref:d,modelValue:n.value,"onUpdate:modelValue":b=>n.value=b,activator:"parent",contentClass:"v-select__content",disabled:$.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:R},E.value),{default:()=>[l&&r(Zl,Z({ref:P,selected:p.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:b=>b.preventDefault(),onKeydown:z,onFocusin:q,onScrollPassive:j,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var b,B,_;return[(b=t["prepend-item"])==null?void 0:b.call(t),!T.value.length&&!e.hideNoData&&(((B=t["no-data"])==null?void 0:B.call(t))??r(et,{title:s(e.noDataText)},null)),r(xn,{ref:u,renderless:!0,items:T.value},{default:N=>{var U;let{item:V,index:D,itemRef:F}=N;const G=Z(V.props,{ref:F,key:D,onClick:()=>H(V,null)});return((U=t.item)==null?void 0:U.call(t,{item:V,index:D,props:G}))??r(et,Z(G,{role:"option"}),{prepend:ee=>{let{isSelected:re}=ee;return r(le,null,[e.multiple&&!e.hideSelected?r(Fl,{key:V.value,modelValue:re,ripple:!1,tabindex:"-1"},null):void 0,V.props.prependAvatar&&r(Ee,{image:V.props.prependAvatar},null),V.props.prependIcon&&r(ce,{icon:V.props.prependIcon},null)])}})}}),(_=t["append-item"])==null?void 0:_.call(t)]}})]}),x.value.map((b,B)=>{function _(F){F.stopPropagation(),F.preventDefault(),H(b,!1)}const N={"onClick:close":_,onMousedown(F){F.preventDefault(),F.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},V=g?!!t.chip:!!t.selection,D=V?El(g?t.chip({item:b,index:B,props:N}):t.selection({item:b,index:B})):void 0;if(!(V&&!D))return r("div",{key:b.value,class:"v-select__selection"},[g?t.chip?r(me,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:b.title}}},{default:()=>[D]}):r(ln,Z({key:"chip",closable:e.closableChips,size:"small",text:b.title,disabled:b.props.disabled},N),null):D??r("span",{class:"v-select__selection-text"},[b.title,e.multiple&&B<x.value.length-1&&r("span",{class:"v-select__selection-comma"},[be(",")])])])})]),"append-inner":function(){var N;for(var b=arguments.length,B=new Array(b),_=0;_<b;_++)B[_]=arguments[_];return r(le,null,[(N=t["append-inner"])==null?void 0:N.call(t,...B),e.menuIcon?r(ce,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Ne({isFocused:f,menu:n,select:H},a)}});function it(e,i){let t=e.object.geometry.getAttribute("position"),s=e.object.geometry.index;if(s===null){s=new ql(new Uint16Array(t.count),1);for(let u=0;u<t.count;u++)s.array[u]=u}let a=new ne,d=[];for(let u=e.indices[0];u<e.indices[1];u++){let o=s.getX(u),n=new ne(t.getX(o),t.getY(o),t.getZ(o));n=i.target.worldToLocal(e.object.localToWorld(n)),a.add(n),d.push(n)}return a=a.divideScalar(e.indices[1]-e.indices[0]),{center:a,vertices:d}}function Vn(e,i,t){let{center:s,vertices:a}=it(e,t),{center:d,vertices:u}=it(i,t),o=1/0,n=[new ne,new ne],h=-1/0,w=[new ne,new ne];for(let C=0;C<a.length;C++)for(let x=0;x<u.length;x++){let y=a[C].distanceTo(u[x]);y<o&&(o=y,n[0]=a[C],n[1]=u[x]),y>h&&(h=y,w[0]=a[C],w[1]=u[x])}return{min:n,center:[s,d],max:w}}class Be{constructor(i,t,s){we(this,"object");we(this,"kind");we(this,"indices");this.object=i,this.kind=t,this.indices=s}getObjectName(){return this.object.userData[Me]}matches(i){return this.getObjectName()===i.userData[Me]&&(this.kind==="face"&&(i.type==="Mesh"||i.type==="SkinnedMesh")||this.kind==="edge"&&(i.type==="Line"||i.type==="LineSegments")||this.kind==="vertex"&&i.type==="Points")}getKey(){return this.object.uuid+this.kind+this.indices[0].toFixed()+this.indices[1].toFixed()}getBox(){let i=this.object.geometry.index||{getX:d=>d},t=this.object.geometry.getAttribute("position"),s=[1/0,1/0,1/0],a=[-1/0,-1/0,-1/0];for(let d=this.indices[0];d<this.indices[1];d++){let u=i.getX(d),o=t.getX(u),n=t.getY(u),h=t.getZ(u);s[0]=Math.min(s[0],o),s[1]=Math.min(s[1],n),s[2]=Math.min(s[2],h),a[0]=Math.max(a[0],o),a[1]=Math.max(a[1],n),a[2]=Math.max(a[2],h)}return new Ct().setFromArray([...s,...a])}}function Pn(e){let i=e.object.type;if(i=="Mesh"||i=="SkinnedMesh"){let t=In(e);return t===null?null:new Be(e.object,"face",t)}else if(i=="Line"||i=="LineSegments"){let t=_n(e);return t===null?null:new Be(e.object,"edge",t)}else if(i=="Points")return e.index===void 0?null:new Be(e.object,"vertex",[e.index,e.index+1]);return null}function In(e){var t,s,a;let i=(a=(s=(t=e==null?void 0:e.object)==null?void 0:t.geometry)==null?void 0:s.userData)==null?void 0:a.face_triangles_end;if(e.faceIndex===void 0)return null;if(i){let d=e.faceIndex*3;for(let u=0;u<i.length;u++){let o=i[u];if(d<o)return[u===0?0:i[u-1],i[u]]}}else return[0,(e.object.geometry.index??e.object.geometry.attributes.position).count];return null}function _n(e){var s,a,d;let i=(d=(a=(s=e==null?void 0:e.object)==null?void 0:s.geometry)==null?void 0:a.userData)==null?void 0:d.edge_points_end;if(!i||e.index===void 0)return null;let t=e.index;for(let u=0;u<i.length;u++){let o=i[u];if(t<o)return[u===0?0:i[u-1],i[u]]}return null}function Tt(e,i,t){let s=e.object.geometry.index,a=null;if(i!==void 0){for(let d=e.indices[0];d<e.indices[1];d++){let u=s.getX(d);a===null&&(a=[i.getX(u),i.getY(u),i.getZ(u),i.getW(u)]),i.setXYZW(u,t[0],t[1],t[2],t[3])}if(i.needsUpdate=!0,e.object.userData.niceLine!==void 0){let d=e.object.geometry.index,u=[];for(let o=0;o<d.count;o++)d.getX(o)>=e.indices[0]&&d.getX(o)<e.indices[1]?u.push(t[0],t[1],t[2]):u.push(i.getX(d.getX(o)),i.getY(d.getX(o)),i.getZ(d.getX(o)));e.object.userData.niceLine.geometry.setColors(u);for(let o of Object.values(e.object.userData.niceLine.geometry.attributes))o.needsUpdate=!0}}else{let d=e.object.material.color;a=[d.r,d.g,d.b,1],e.object.material.color.setRGB(t[0],t[1],t[2]),e.object.material.needsUpdate=!0}return a}function ot(e){let i=e.object.geometry,t=e.object.geometry.getAttribute("color");i.userData.savedColor=i.userData.savedColor||{},i.userData.savedColor[e.getKey()]=Tt(e,t,[1,0,0,1])}function Tn(e){let i=e.object.geometry,t=e.object.geometry.getAttribute("color"),s=i.userData.savedColor[e.getKey()];Tt(e,t,s),delete i.userData.savedColor[e.getKey()]}const Ln=Rl({__name:"Selection",props:Qe({viewer:{}},{modelValue:{default:[]},modelModifiers:{}}),emits:Qe(["findModel"],["update:modelValue"]),setup(e,{expose:i,emit:t}){let s=e,a=t,{setDisableTap:d}=Re("disableTap"),u=W(!1),o=Ml(e,"modelValue"),n=W([!1,!1]),h=W(!1),w=W(!0),C=null,x=0,y=W("Any (S)");const k=new Gl;let p=l=>{C=[l.clientX,l.clientY],x=performance.now(),u.value},f=l=>{var N,V;if(C){let[D,F]=C;if(C=null,Math.abs(l.clientX-D)>5||Math.abs(l.clientY-F)>5||performance.now()-x>500)return}if(!u.value)return;let v=1;if((N=s.viewer)!=null&&N.scene){let D=s.viewer.scene,F=D.getTarget().clone().add(D.target.position);v=D.camera.position.distanceTo(F)/150}y.value==="Any (S)"?(k.params.Line.threshold=v,k.params.Points.threshold=v*2):y.value==="(E)dges"?(k.params.Line.threshold=v,k.params.Points.threshold=0):y.value==="(V)ertices"?(k.params.Line.threshold=0,k.params.Points.threshold=v):y.value==="(F)aces"&&(k.params.Line.threshold=0,k.params.Points.threshold=0);let c=(V=s.viewer)==null?void 0:V.scene;const m=c.getNDC(l.clientX,l.clientY);k.setFromCamera(m,c.camera),c.camera.isPerspectiveCamera||k.ray.direction.copy(c.camera.getWorldDirection(new ne));let b=[];c.traverse(D=>{const F=D.type;let G=F==="Mesh"||F==="SkinnedMesh",U=F==="Line"||F==="LineSegments",ee=F==="Points";D.userData.noHit!==!0&&(y.value==="Any (S)"&&(G||U||ee)||y.value==="(F)aces"&&G||y.value==="(E)dges"&&U||y.value==="(V)ertices"&&ee)&&b.push(D)}),k.firstHitOnly=!0;let _=k.intersectObjects(b,!1).filter(D=>{if(!D.object)return!1;const F=D.object.type;let G=F==="Mesh"||F==="SkinnedMesh",U=F==="Line"||F==="LineSegments",ee=F==="Points";const re=y.value==="Any (S)"||G&&y.value==="(F)aces"||U&&y.value==="(E)dges"||ee&&y.value==="(V)ertices";return(!G||D.object.visible)&&re}).sort((D,F)=>{function G(U){let ee=U.distance;return(U.object.type==="Mesh"||U.object.type==="SkinnedMesh")&&(ee+=v),(U.object.type==="Line"||U.object.type==="LineSegments")&&(ee+=v/2),ee}return G(D)-G(F)})[0];if(n.value[0])_&&(a("findModel",_.object.userData[Me]),$());else{let D=null;_&&(D=Pn(_)),_&&D!==null?o.value.find(G=>G.getKey()===D.getKey())!==void 0?L(D):S(D):O(),R(),g()}c.queueRender()};function S(l){o.value.find(v=>v.getKey()===l.getKey())===void 0&&o.value.push(l),ot(l)}function L(l,v=!0){if(v){let c=o.value.findIndex(m=>m.getKey()===l.getKey());o.value.splice(c,1)}Tn(l)}function O(l=!0){let v=o.value.slice();for(let c of v)L(c,l)}function T(){var v;(v=s.viewer)!=null&&v.elem&&(u.value=!u.value,d(u.value))}function $(){n.value=[!n.value[0],n.value[0]?n.value[1]:u.value],n.value[0]?u.value||T():(u.value!==n.value[1]&&T(),n.value=[!1,!1])}function E(){h.value=!h.value,R()}let P=!0,j=!1,z=!1,Y=0,X=()=>{if(Y=performance.now(),z)return;z=!0;let l;l=()=>{performance.now()-Y>250?(R(),z=!1):setTimeout(l,100)},setTimeout(l,100)},J=l=>{l&&l.onElemReady(v=>{j||(j=!0,v.addEventListener("mousedown",p),v.addEventListener("mouseup",f),v.addEventListener("load",()=>{var c;for(let m of o.value){let b=(c=s.viewer)==null?void 0:c.scene;if(!b)continue;let B=null;b.traverse(_=>{m.matches(_)&&(B=_)}),B?(m.object=B,ot(m)):o.value=o.value.filter(_=>_.getKey()!==m.getKey())}P&&(E(),P=!1)}),v.addEventListener("camera-change",X))})};s.viewer?J(s.viewer):ae(()=>s.viewer,()=>J(s.viewer));let{sceneDocument:H}=Re("sceneDocument"),I={};function R(){var b,B,_,N;if(!h.value){for(let V of Object.values(I))(b=s.viewer)==null||b.removeLine3D(V);I={};return}let l,v=Object.keys(I);if(o.value.length>0){l=new Ct;for(let V of o.value)l.union(V.getBox())}else{let V=$l.getBoundingBox(H.value);if(!V)return;l=V}let c=[[l.min.x,l.min.y,l.min.z],[l.min.x,l.min.y,l.max.z],[l.min.x,l.max.y,l.min.z],[l.min.x,l.max.y,l.max.z],[l.max.x,l.min.y,l.min.z],[l.max.x,l.min.y,l.max.z],[l.max.x,l.max.y,l.min.z],[l.max.x,l.max.y,l.max.z]],m=[[[0,4],[1,5],[2,6],[3,7]],[[0,2],[1,3],[4,6],[5,7]],[[0,1],[2,3],[4,5],[6,7]]];for(let V in m){let D=m[V],F=D[0];for(let ve=0;ve<2;ve++){F=D[0];let Ue=1/0,Lt=(B=s.viewer)==null?void 0:B.scene.camera.position;for(let he of D){let Dt=new ne(...c[he[0]]),At=new ne(...c[he[1]]),Bt=Dt.clone().add(At).multiplyScalar(.5),$e=Lt.distanceTo(Bt);$e<Ue&&(F=he,Ue=$e)}D=D.filter(he=>he!==F)}let G=new ne(...c[F[0]]),U=new ne(...c[F[1]]),ee=U.clone().sub(G).length();if(ee<.05)continue;let re=[De.x,De.y,De.z][V][1],ge=JSON.stringify([G,U]);if(I[ge])v=v.filter(ve=>ve!==ge);else{let ve=(_=s.viewer)==null?void 0:_.addLine3D(G,U,ee.toFixed(1)+"mm",{stroke:"rgb("+re.join(",")+")","stroke-width":"2"});ve&&(I[ge]=ve)}}for(let V of v)(N=s.viewer)!=null&&N.removeLine3D(I[V])&&delete I[V]}function q(){w.value=!w.value,g()}let M={};function g(){var B,_,N;if(!w.value||o.value.length!=2){for(let V of Object.values(M))(B=s.viewer)==null||B.removeLine3D(V);M={};return}let l=Object.keys(M);function v(V,D,F,G){var re;let U=JSON.stringify([V,D]);M[U]?l=l.filter(ge=>ge!==U):M[U]=(re=s.viewer)==null?void 0:re.addLine3D(V,D,F,{stroke:G,"stroke-width":"2","stroke-dasharray":"5"})}let{min:c,center:m,max:b}=Vn(o.value[0],o.value[1],(_=s.viewer)==null?void 0:_.scene);v(b[0],b[1],b[1].distanceTo(b[0]).toFixed(1)+"mm","orange"),v(m[0],m[1],m[1].distanceTo(m[0]).toFixed(1)+"mm","green"),v(c[0],c[1],c[1].distanceTo(c[0]).toFixed(1)+"mm","cyan");for(let V of l)(N=s.viewer)==null||N.removeLine3D(M[V]),delete M[V]}return i({deselect:L,updateBoundingBox:R,updateDistances:g}),window.addEventListener("keydown",l=>{l.key==="s"?y.value=="Any (S)"?T():(y.value="Any (S)",u.value||T()):l.key==="f"?y.value=="(F)aces"?T():(y.value="(F)aces",u.value||T()):l.key==="e"?y.value=="(E)dges"?T():(y.value="(E)dges",u.value||T()):l.key==="v"?y.value=="(V)ertices"?T():(y.value="(V)ertices",u.value||T()):l.key==="b"?E():l.key==="d"?q():l.key==="h"&&$()}),(l,v)=>(Ol(),zl(le,null,[r(K(Pe),{icon:"",onClick:T,color:K(u)?"surface-light":""},{default:se(()=>[r(K(ye),{activator:"parent"},{default:se(()=>[be(Le(K(u)?"Disable (s)election mode":"Enable (s)election mode"),1)]),_:1}),r(K(Ve),{type:"mdi",path:K(jl)},null,8,["path"])]),_:1},8,["color"]),r(K(ye),{text:"Select only "+K(y).toString().toLocaleLowerCase(),"open-on-click":!1},{activator:se(({props:c})=>[r(K(wn),Z(c,{class:"select-only",variant:"underlined",items:["Any (S)","(F)aces","(E)dges","(V)ertices"],modelValue:K(y),"onUpdate:modelValue":v[0]||(v[0]=m=>Kl(y)?y.value=m:y=m)}),null,16,["items","modelValue"])]),_:1},8,["text"]),r(K(Pe),{icon:"",onClick:$,color:K(n)[0]?"surface-light":""},{default:se(()=>[r(K(ye),{activator:"parent"},{default:se(()=>[be("(H)ighlight the next clicked element in the models list")]),_:1}),r(K(Ve),{type:"mdi",path:K(Hl)},null,8,["path"])]),_:1},8,["color"]),r(K(Pe),{icon:"",onClick:E,color:K(h)?"surface-light":""},{default:se(()=>[r(K(ye),{activator:"parent"},{default:se(()=>[be(Le(K(h)?"Hide selection (b)ounds":"Show selection (b)ounds"),1)]),_:1}),r(K(Ve),{type:"mdi",path:K(Nl)},null,8,["path"])]),_:1},8,["color"]),r(K(Pe),{icon:"",onClick:q,color:K(w)?"surface-light":""},{default:se(()=>[r(K(ye),{activator:"parent"},{default:se(()=>[be(Le(K(w)?"Hide selection (d)istances":"Show (d)istances (when a pair of features is selected)"),1)]),_:1}),r(K(Ve),{type:"mdi",path:K(Ul)},null,8,["path"])]),_:1},8,["color"])],64))}}),Rn=Xl(Ln,[["__scopeId","data-v-830e466b"]]);export{Rn as default};
//# sourceMappingURL=Selection-GYCMl90M.js.map
