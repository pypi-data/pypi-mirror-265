var At=Object.defineProperty;var Dt=(e,i,t)=>i in e?At(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t;var Se=(e,i,t)=>(Dt(e,typeof i!="symbol"?i+"":i,t),t);import{v as Q,I as se,x as re,y as Bt,z as Ee,A as at,B as ne,C as it,D as ot,E as st,G as J,H as D,J as Ie,K as Re,w as le,L as ae,k as s,V as Ue,M as ue,N as De,O as Pe,P as Ft,Q as Me,R as ut,S as Oe,T as Et,U as ve,m as Y,W as pe,X as Rt,Y as Mt,Z as Ot,$ as jt,a0 as rt,a1 as zt,a2 as Ht,a3 as Kt,a4 as ct,a5 as Nt,a6 as Ut,a7 as $t,a8 as Xt,a9 as dt,aa as qt,ab as be,ac as Gt,ad as Wt,ae as xe,af as vt,ag as Yt,ah as ft,ai as fe,aj as je,F as ee,ak as Be,al as mt,am as Zt,an as gt,ao as Jt,ap as ht,r as W,i as Fe,aq as $e,ar as Qt,as as el,at as Xe,au as ze,av as ke,aw as tl,ax as qe,ay as yt,az as ll,aA as nl,aB as al,aC as il,aD as ol,aE as sl,aF as pt,aG as ul,aH as rl,aI as cl,aJ as dl,aK as he,aL as vl,aM as fl,aN as ml,aO as gl,aP as hl,aQ as yl,aR as pl,aS as bl,aT as Ge,aU as xl,aV as kl,aW as We,aX as bt,aY as Sl,aZ as Cl,a_ as wl,a$ as Vl,b0 as Pl,o as Il,b1 as _l,b2 as Tl,b3 as Ll,b4 as Al,b5 as Dl,f as ye,b6 as Ye,d as Bl,b7 as Ze,b8 as Fl,a as El,c as Rl,b as Ml,j as oe,u as z,b9 as ge,t as _e,ba as Ce,bb as Ol,bc as we,bd as jl,be as zl,bf as Hl,bg as Kl,bh as Nl,bi as Te,bj as Ul,q as $l}from"./index-DC-cj3A6.js";import{k as te,c as Xl,ac as xt,ba as ql}from"./three.module-BOGuGDOF.js";import{m as Gl,u as Wl,a as Yl,V as Je}from"./VList-BKtN132F.js";function Qe(e){const t=Math.abs(e);return Math.sign(e)*(t/((1/.501-2)*(1-t)+1))}function et(e){let{selectedElement:i,containerSize:t,contentSize:c,isRtl:l,currentScrollOffset:u,isHorizontal:o}=e;const a=o?i.clientWidth:i.clientHeight,n=o?i.offsetLeft:i.offsetTop,p=l&&o?c-n-a:n,w=t+u,g=a+p,h=a*.4;return p<=u?u=Math.max(p-h,0):w<=g&&(u=Math.min(u-(w-g-h),c-t)),u}function Zl(e){let{selectedElement:i,containerSize:t,contentSize:c,isRtl:l,isHorizontal:u}=e;const o=u?i.clientWidth:i.clientHeight,a=u?i.offsetLeft:i.offsetTop,n=l&&u?c-a-o/2-t/2:a+o/2-t/2;return Math.min(c-t,Math.max(0,n))}const Jl=Symbol.for("vuetify:v-slide-group"),kt=Q({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Jl},nextIcon:{type:se,default:"$next"},prevIcon:{type:se,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...re(),...Bt(),...Ee(),...at({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),tt=ne()({name:"VSlideGroup",props:kt(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:t}=i;const{isRtl:c}=it(),{displayClasses:l,mobile:u}=ot(e),o=st(e,e.symbol),a=J(!1),n=J(0),p=J(0),w=J(0),g=D(()=>e.direction==="horizontal"),{resizeRef:h,contentRect:L}=Ie(),{resizeRef:T,contentRect:x}=Ie(),m=D(()=>o.selected.value.length?o.items.value.findIndex(f=>f.id===o.selected.value[0]):-1),S=D(()=>o.selected.value.length?o.items.value.findIndex(f=>f.id===o.selected.value[o.selected.value.length-1]):-1);if(Re){let f=-1;le(()=>[o.selected.value,L.value,x.value,g.value],()=>{cancelAnimationFrame(f),f=requestAnimationFrame(()=>{if(L.value&&x.value){const b=g.value?"width":"height";p.value=L.value[b],w.value=x.value[b],a.value=p.value+1<w.value}if(m.value>=0&&T.value){const b=T.value.children[S.value];m.value===0||!a.value?n.value=0:e.centerActive?n.value=Zl({selectedElement:b,containerSize:p.value,contentSize:w.value,isRtl:c.value,isHorizontal:g.value}):a.value&&(n.value=et({selectedElement:b,containerSize:p.value,contentSize:w.value,isRtl:c.value,currentScrollOffset:n.value,isHorizontal:g.value}))}})})}const I=J(!1);let M=0,R=0;function q(f){const b=g.value?"clientX":"clientY";R=(c.value&&g.value?-1:1)*n.value,M=f.touches[0][b],I.value=!0}function F(f){if(!a.value)return;const b=g.value?"clientX":"clientY",k=c.value&&g.value?-1:1;n.value=k*(R+M-f.touches[0][b])}function _(f){const b=w.value-p.value;n.value<0||!a.value?n.value=0:n.value>=b&&(n.value=b),I.value=!1}function j(){h.value&&(h.value[g.value?"scrollLeft":"scrollTop"]=0)}const H=J(!1);function G(f){if(H.value=!0,!(!a.value||!T.value)){for(const b of f.composedPath())for(const k of T.value.children)if(k===b){n.value=et({selectedElement:k,containerSize:p.value,contentSize:w.value,isRtl:c.value,currentScrollOffset:n.value,isHorizontal:g.value});return}}}function $(f){H.value=!1}function U(f){var b;!H.value&&!(f.relatedTarget&&((b=T.value)!=null&&b.contains(f.relatedTarget)))&&A()}function O(f){T.value&&(g.value?f.key==="ArrowRight"?A(c.value?"prev":"next"):f.key==="ArrowLeft"&&A(c.value?"next":"prev"):f.key==="ArrowDown"?A("next"):f.key==="ArrowUp"&&A("prev"),f.key==="Home"?A("first"):f.key==="End"&&A("last"))}function A(f){var b,k,E,V,P;if(T.value)if(!f)(b=De(T.value)[0])==null||b.focus();else if(f==="next"){const C=(k=T.value.querySelector(":focus"))==null?void 0:k.nextElementSibling;C?C.focus():A("first")}else if(f==="prev"){const C=(E=T.value.querySelector(":focus"))==null?void 0:E.previousElementSibling;C?C.focus():A("last")}else f==="first"?(V=T.value.firstElementChild)==null||V.focus():f==="last"&&((P=T.value.lastElementChild)==null||P.focus())}function B(f){const b=n.value+(f==="prev"?-1:1)*p.value;n.value=Pe(b,0,w.value-p.value)}const X=D(()=>{let f=n.value>w.value-p.value?-(w.value-p.value)+Qe(w.value-p.value-n.value):-n.value;n.value<=0&&(f=Qe(-n.value));const b=c.value&&g.value?-1:1;return{transform:`translate${g.value?"X":"Y"}(${b*f}px)`,transition:I.value?"none":"",willChange:I.value?"transform":""}}),v=D(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),r=D(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!u.value;case!0:return a.value||Math.abs(n.value)>0;case"mobile":return u.value||a.value||Math.abs(n.value)>0;default:return!u.value&&(a.value||Math.abs(n.value)>0)}}),d=D(()=>Math.abs(n.value)>0),y=D(()=>w.value>Math.abs(n.value)+p.value);return ae(()=>s(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!g.value,"v-slide-group--has-affixes":r.value,"v-slide-group--is-overflowing":a.value},l.value,e.class],style:e.style,tabindex:H.value||o.selected.value.length?-1:0,onFocus:U},{default:()=>{var f,b,k;return[r.value&&s("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!d.value}],onClick:()=>d.value&&B("prev")},[((f=t.prev)==null?void 0:f.call(t,v.value))??s(Ue,null,{default:()=>[s(ue,{icon:c.value?e.nextIcon:e.prevIcon},null)]})]),s("div",{key:"container",ref:h,class:"v-slide-group__container",onScroll:j},[s("div",{ref:T,class:"v-slide-group__content",style:X.value,onTouchstartPassive:q,onTouchmovePassive:F,onTouchendPassive:_,onFocusin:G,onFocusout:$,onKeydown:O},[(b=t.default)==null?void 0:b.call(t,v.value)])]),r.value&&s("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!y.value}],onClick:()=>y.value&&B("next")},[((k=t.next)==null?void 0:k.call(t,v.value))??s(Ue,null,{default:()=>[s(ue,{icon:c.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:B,scrollOffset:n,focus:A}}}),St=Symbol.for("vuetify:v-chip-group"),Ql=Q({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ft},...kt(),...re(),...at({selectedClass:"v-chip--selected"}),...Ee(),...Me(),...ut({variant:"tonal"})},"VChipGroup");ne()({name:"VChipGroup",props:Ql(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:t}=i;const{themeClasses:c}=Oe(e),{isSelected:l,select:u,next:o,prev:a,selected:n}=st(e,St);return Et({VChip:{color:ve(e,"color"),disabled:ve(e,"disabled"),filter:ve(e,"filter"),variant:ve(e,"variant")}}),ae(()=>{const p=tt.filterProps(e);return s(tt,Y(p,{class:["v-chip-group",{"v-chip-group--column":e.column},c.value,e.class],style:e.style}),{default:()=>{var w;return[(w=t.default)==null?void 0:w.call(t,{isSelected:l,select:u,next:o,prev:a,selected:n.value})]}})}),{}}});const en=Q({activeClass:String,appendAvatar:String,appendIcon:se,closable:Boolean,closeIcon:{type:se,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:se,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:pe(),onClickOnce:pe(),...Rt(),...re(),...Mt(),...Ot(),...jt(),...rt(),...zt(),...Ht(),...Ee({tag:"span"}),...Me(),...ut({variant:"tonal"})},"VChip"),tn=ne()({name:"VChip",directives:{Ripple:Kt},props:en(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,i){let{attrs:t,emit:c,slots:l}=i;const{t:u}=ct(),{borderClasses:o}=Nt(e),{colorClasses:a,colorStyles:n,variantClasses:p}=Ut(e),{densityClasses:w}=$t(e),{elevationClasses:g}=Xt(e),{roundedClasses:h}=dt(e),{sizeClasses:L}=qt(e),{themeClasses:T}=Oe(e),x=be(e,"modelValue"),m=Gt(e,St,!1),S=Wt(e,t),I=D(()=>e.link!==!1&&S.isLink.value),M=D(()=>!e.disabled&&e.link!==!1&&(!!m||e.link||S.isClickable.value)),R=D(()=>({"aria-label":u(e.closeLabel),onClick(_){_.stopPropagation(),x.value=!1,c("click:close",_)}}));function q(_){var j;c("click",_),M.value&&((j=S.navigate)==null||j.call(S,_),m==null||m.toggle())}function F(_){(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),q(_))}return()=>{const _=S.isLink.value?"a":e.tag,j=!!(e.appendIcon||e.appendAvatar),H=!!(j||l.append),G=!!(l.close||e.closable),$=!!(l.filter||e.filter)&&m,U=!!(e.prependIcon||e.prependAvatar),O=!!(U||l.prepend),A=!m||m.isSelected.value;return x.value&&xe(s(_,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":M.value,"v-chip--filter":$,"v-chip--pill":e.pill},T.value,o.value,A?a.value:void 0,w.value,g.value,h.value,L.value,p.value,m==null?void 0:m.selectedClass.value,e.class],style:[A?n.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:S.href.value,tabindex:M.value?0:void 0,onClick:q,onKeydown:M.value&&!I.value&&F},{default:()=>{var B;return[Yt(M.value,"v-chip"),$&&s(ft,{key:"filter"},{default:()=>[xe(s("div",{class:"v-chip__filter"},[l.filter?s(fe,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},l.filter):s(ue,{key:"filter-icon",icon:e.filterIcon},null)]),[[je,m.isSelected.value]])]}),O&&s("div",{key:"prepend",class:"v-chip__prepend"},[l.prepend?s(fe,{key:"prepend-defaults",disabled:!U,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},l.prepend):s(ee,null,[e.prependIcon&&s(ue,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&s(Be,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),s("div",{class:"v-chip__content","data-no-activator":""},[((B=l.default)==null?void 0:B.call(l,{isSelected:m==null?void 0:m.isSelected.value,selectedClass:m==null?void 0:m.selectedClass.value,select:m==null?void 0:m.select,toggle:m==null?void 0:m.toggle,value:m==null?void 0:m.value.value,disabled:e.disabled}))??e.text]),H&&s("div",{key:"append",class:"v-chip__append"},[l.append?s(fe,{key:"append-defaults",disabled:!j,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},l.append):s(ee,null,[e.appendIcon&&s(ue,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&s(Be,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),G&&s("button",Y({key:"close",class:"v-chip__close",type:"button"},R.value),[l.close?s(fe,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},l.close):s(ue,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[vt("ripple"),M.value&&e.ripple,null]])}}}),ln=Q({id:String,...mt(Zt({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:gt}}),["absolute"])},"VMenu"),nn=ne()({name:"VMenu",props:ln(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:t}=i;const c=be(e,"modelValue"),{scopeId:l}=Jt(),u=ht(),o=D(()=>e.id||`v-menu-${u}`),a=W(),n=Fe($e,null),p=J(0);Qt($e,{register(){++p.value},unregister(){--p.value},closeParents(x){setTimeout(()=>{!p.value&&(x==null||x&&!el(x,a.value.contentEl))&&(c.value=!1,n==null||n.closeParents())},40)}});async function w(x){var I,M,R;const m=x.relatedTarget,S=x.target;await ke(),c.value&&m!==S&&((I=a.value)!=null&&I.contentEl)&&((M=a.value)!=null&&M.globalTop)&&![document,a.value.contentEl].includes(S)&&!a.value.contentEl.contains(S)&&((R=De(a.value.contentEl)[0])==null||R.focus())}le(c,x=>{x?(n==null||n.register(),document.addEventListener("focusin",w,{once:!0})):(n==null||n.unregister(),document.removeEventListener("focusin",w))});function g(x){n==null||n.closeParents(x)}function h(x){var m,S,I;e.disabled||(x.key==="Tab"?tl(De((m=a.value)==null?void 0:m.contentEl,!1),x.shiftKey?"prev":"next",R=>R.tabIndex>=0)||(c.value=!1,(I=(S=a.value)==null?void 0:S.activatorEl)==null||I.focus()):["Enter"," "].includes(x.key)&&e.closeOnContentClick&&(c.value=!1,n==null||n.closeParents()))}function L(x){var S;if(e.disabled)return;const m=(S=a.value)==null?void 0:S.contentEl;m&&c.value?x.key==="ArrowDown"?(x.preventDefault(),qe(m,"next")):x.key==="ArrowUp"&&(x.preventDefault(),qe(m,"prev")):["ArrowDown","ArrowUp"].includes(x.key)&&(c.value=!0,x.preventDefault(),setTimeout(()=>setTimeout(()=>L(x))))}const T=D(()=>Y({"aria-haspopup":"menu","aria-expanded":String(c.value),"aria-owns":o.value,onKeydown:L},e.activatorProps));return ae(()=>{const x=Xe.filterProps(e);return s(Xe,Y({ref:a,id:o.value,class:["v-menu",e.class],style:e.style},x,{modelValue:c.value,"onUpdate:modelValue":m=>c.value=m,absolute:!0,activatorProps:T.value,"onClick:outside":g,onKeydown:h},l),{activator:t.activator,default:function(){for(var m=arguments.length,S=new Array(m),I=0;I<m;I++)S[I]=arguments[I];return s(fe,{root:"VMenu"},{default:()=>{var M;return[(M=t.default)==null?void 0:M.call(t,...S)]}})}})}),ze({id:o,ΨopenChildren:p},a)}}),an=Q({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...re(),...yt({transition:{component:ll}})},"VCounter"),on=ne()({name:"VCounter",functional:!0,props:an(),setup(e,i){let{slots:t}=i;const c=D(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ae(()=>s(nl,{transition:e.transition},{default:()=>[xe(s("div",{class:["v-counter",e.class],style:e.style},[t.default?t.default({counter:c.value,max:e.max,value:e.value}):c.value]),[[je,e.active]])]})),{}}}),sn=Q({floating:Boolean,...re()},"VFieldLabel"),Ve=ne()({name:"VFieldLabel",props:sn(),setup(e,i){let{slots:t}=i;return ae(()=>s(al,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},t)),{}}}),un=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Ct=Q({appendInnerIcon:se,bgColor:String,clearable:Boolean,clearIcon:{type:se,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:se,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>un.includes(e)},"onClick:clear":pe(),"onClick:appendInner":pe(),"onClick:prependInner":pe(),...re(),...il(),...rt(),...Me()},"VField"),wt=ne()({name:"VField",inheritAttrs:!1,props:{id:String,...ol(),...Ct()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,i){let{attrs:t,emit:c,slots:l}=i;const{themeClasses:u}=Oe(e),{loaderClasses:o}=sl(e),{focusClasses:a,isFocused:n,focus:p,blur:w}=pt(e),{InputIcon:g}=ul(e),{roundedClasses:h}=dt(e),{rtlClasses:L}=it(),T=D(()=>e.dirty||e.active),x=D(()=>!e.singleLine&&!!(e.label||l.label)),m=ht(),S=D(()=>e.id||`input-${m}`),I=D(()=>`${S.value}-messages`),M=W(),R=W(),q=W(),F=D(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:_,backgroundColorStyles:j}=rl(ve(e,"bgColor")),{textColorClasses:H,textColorStyles:G}=cl(D(()=>e.error||e.disabled?void 0:T.value&&n.value?e.color:e.baseColor));le(T,O=>{if(x.value){const A=M.value.$el,B=R.value.$el;requestAnimationFrame(()=>{const X=dl(A),v=B.getBoundingClientRect(),r=v.x-X.x,d=v.y-X.y-(X.height/2-v.height/2),y=v.width/.75,f=Math.abs(y-X.width)>1?{maxWidth:he(y)}:void 0,b=getComputedStyle(A),k=getComputedStyle(B),E=parseFloat(b.transitionDuration)*1e3||150,V=parseFloat(k.getPropertyValue("--v-field-label-scale")),P=k.getPropertyValue("color");A.style.visibility="visible",B.style.visibility="hidden",vl(A,{transform:`translate(${r}px, ${d}px) scale(${V})`,color:P,...f},{duration:E,easing:fl,direction:O?"normal":"reverse"}).finished.then(()=>{A.style.removeProperty("visibility"),B.style.removeProperty("visibility")})})}},{flush:"post"});const $=D(()=>({isActive:T,isFocused:n,controlRef:q,blur:w,focus:p}));function U(O){O.target!==document.activeElement&&O.preventDefault()}return ae(()=>{var r,d,y;const O=e.variant==="outlined",A=!!(l["prepend-inner"]||e.prependInnerIcon),B=!!(e.clearable||l.clear),X=!!(l["append-inner"]||e.appendInnerIcon||B),v=()=>l.label?l.label({...$.value,label:e.label,props:{for:S.value}}):e.label;return s("div",Y({class:["v-field",{"v-field--active":T.value,"v-field--appended":X,"v-field--center-affix":e.centerAffix??!F.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":A,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!v(),[`v-field--variant-${e.variant}`]:!0},u.value,_.value,a.value,o.value,h.value,L.value,e.class],style:[j.value,e.style],onClick:U},t),[s("div",{class:"v-field__overlay"},null),s(ml,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:l.loader}),A&&s("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&s(g,{key:"prepend-icon",name:"prependInner"},null),(r=l["prepend-inner"])==null?void 0:r.call(l,$.value)]),s("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&x.value&&s(Ve,{key:"floating-label",ref:R,class:[H.value],floating:!0,for:S.value,style:G.value},{default:()=>[v()]}),s(Ve,{ref:M,for:S.value},{default:()=>[v()]}),(d=l.default)==null?void 0:d.call(l,{...$.value,props:{id:S.value,class:"v-field__input","aria-describedby":I.value},focus:p,blur:w})]),B&&s(ft,{key:"clear"},{default:()=>[xe(s("div",{class:"v-field__clearable",onMousedown:f=>{f.preventDefault(),f.stopPropagation()}},[l.clear?l.clear():s(g,{name:"clear"},null)]),[[je,e.dirty]])]}),X&&s("div",{key:"append",class:"v-field__append-inner"},[(y=l["append-inner"])==null?void 0:y.call(l,$.value),e.appendInnerIcon&&s(g,{key:"append-icon",name:"appendInner"},null)]),s("div",{class:["v-field__outline",H.value],style:G.value},[O&&s(ee,null,[s("div",{class:"v-field__outline__start"},null),x.value&&s("div",{class:"v-field__outline__notch"},[s(Ve,{ref:R,floating:!0,for:S.value},{default:()=>[v()]})]),s("div",{class:"v-field__outline__end"},null)]),F.value&&x.value&&s(Ve,{ref:R,floating:!0,for:S.value},{default:()=>[v()]})])])}),{controlRef:q}}});function rn(e){const i=Object.keys(wt.props).filter(t=>!gl(t)&&t!=="class"&&t!=="style");return hl(e,i)}const cn=["color","file","time","date","datetime-local","week","month"],Vt=Q({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...yl(),...Ct()},"VTextField"),lt=ne()({name:"VTextField",directives:{Intersect:pl},inheritAttrs:!1,props:Vt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,i){let{attrs:t,emit:c,slots:l}=i;const u=be(e,"modelValue"),{isFocused:o,focus:a,blur:n}=pt(e),p=D(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),w=D(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),g=D(()=>["plain","underlined"].includes(e.variant));function h(F,_){var j,H;!e.autofocus||!F||(H=(j=_[0].target)==null?void 0:j.focus)==null||H.call(j)}const L=W(),T=W(),x=W(),m=D(()=>cn.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function S(){var F;x.value!==document.activeElement&&((F=x.value)==null||F.focus()),o.value||a()}function I(F){c("mousedown:control",F),F.target!==x.value&&(S(),F.preventDefault())}function M(F){S(),c("click:control",F)}function R(F){F.stopPropagation(),S(),ke(()=>{u.value=null,kl(e["onClick:clear"],F)})}function q(F){var j;const _=F.target;if(u.value=_.value,(j=e.modelModifiers)!=null&&j.trim&&["text","search","password","tel","url"].includes(e.type)){const H=[_.selectionStart,_.selectionEnd];ke(()=>{_.selectionStart=H[0],_.selectionEnd=H[1]})}}return ae(()=>{const F=!!(l.counter||e.counter!==!1&&e.counter!=null),_=!!(F||l.details),[j,H]=bl(t),{modelValue:G,...$}=Ge.filterProps(e),U=rn(e);return s(Ge,Y({ref:L,modelValue:u.value,"onUpdate:modelValue":O=>u.value=O,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":g.value},e.class],style:e.style},j,$,{centerAffix:!g.value,focused:o.value}),{...l,default:O=>{let{id:A,isDisabled:B,isDirty:X,isReadonly:v,isValid:r}=O;return s(wt,Y({ref:T,onMousedown:I,onClick:M,"onClick:clear":R,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},U,{id:A.value,active:m.value||X.value,dirty:X.value||e.dirty,disabled:B.value,focused:o.value,error:r.value===!1}),{...l,default:d=>{let{props:{class:y,...f}}=d;const b=xe(s("input",Y({ref:x,value:u.value,onInput:q,autofocus:e.autofocus,readonly:v.value,disabled:B.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:S,onBlur:n},f,H),null),[[vt("intersect"),{handler:h},null,{once:!0}]]);return s(ee,null,[e.prefix&&s("span",{class:"v-text-field__prefix"},[s("span",{class:"v-text-field__prefix__text"},[e.prefix])]),l.default?s("div",{class:y,"data-no-activator":""},[l.default(),b]):xl(b,{class:y}),e.suffix&&s("span",{class:"v-text-field__suffix"},[s("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:_?O=>{var A;return s(ee,null,[(A=l.details)==null?void 0:A.call(l,O),F&&s(ee,null,[s("span",null,null),s(on,{active:e.persistentCounter||o.value,value:p.value,max:w.value},l.counter)])])}:void 0})}),ze({},L,T,x)}}),dn=Q({renderless:Boolean,...re()},"VVirtualScrollItem"),vn=ne()({name:"VVirtualScrollItem",inheritAttrs:!1,props:dn(),emits:{"update:height":e=>!0},setup(e,i){let{attrs:t,emit:c,slots:l}=i;const{resizeRef:u,contentRect:o}=Ie(void 0,"border");le(()=>{var a;return(a=o.value)==null?void 0:a.height},a=>{a!=null&&c("update:height",a)}),ae(()=>{var a,n;return e.renderless?s(ee,null,[(a=l.default)==null?void 0:a.call(l,{itemRef:u})]):s("div",Y({ref:u,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(n=l.default)==null?void 0:n.call(l)])})}}),fn=-1,mn=1,Le=100,gn=Q({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function hn(e,i){const t=ot(),c=J(0);We(()=>{c.value=parseFloat(e.itemHeight||0)});const l=J(0),u=J(Math.ceil((parseInt(e.height)||t.height.value)/(c.value||16))||1),o=J(0),a=J(0),n=W(),p=W();let w=0;const{resizeRef:g,contentRect:h}=Ie();We(()=>{g.value=n.value});const L=D(()=>{var d;return n.value===document.documentElement?t.height.value:((d=h.value)==null?void 0:d.height)||parseInt(e.height)||0}),T=D(()=>!!(n.value&&p.value&&L.value&&c.value));let x=Array.from({length:i.value.length}),m=Array.from({length:i.value.length});const S=J(0);let I=-1;function M(d){return x[d]||c.value}const R=Sl(()=>{const d=performance.now();m[0]=0;const y=i.value.length;for(let f=1;f<=y-1;f++)m[f]=(m[f-1]||0)+M(f-1);S.value=Math.max(S.value,performance.now()-d)},S),q=le(T,d=>{d&&(q(),w=p.value.offsetTop,R.immediate(),B(),~I&&ke(()=>{Re&&window.requestAnimationFrame(()=>{v(I),I=-1})}))});bt(()=>{R.clear()});function F(d,y){const f=x[d],b=c.value;c.value=b?Math.min(c.value,y):y,(f!==y||b!==c.value)&&(x[d]=y,R())}function _(d){return d=Pe(d,0,i.value.length-1),m[d]||0}function j(d){return yn(m,d)}let H=0,G=0,$=0;le(L,(d,y)=>{y&&(B(),d<y&&requestAnimationFrame(()=>{G=0,B()}))});function U(){if(!n.value||!p.value)return;const d=n.value.scrollTop,y=performance.now();y-$>500?(G=Math.sign(d-H),w=p.value.offsetTop):G=d-H,H=d,$=y,B()}function O(){!n.value||!p.value||(G=0,$=0,B())}let A=-1;function B(){cancelAnimationFrame(A),A=requestAnimationFrame(X)}function X(){if(!n.value||!L.value)return;const d=H-w,y=Math.sign(G),f=Math.max(0,d-Le),b=Pe(j(f),0,i.value.length),k=d+L.value+Le,E=Pe(j(k)+1,b+1,i.value.length);if((y!==fn||b<l.value)&&(y!==mn||E>u.value)){const V=_(l.value)-_(b),P=_(E)-_(u.value);Math.max(V,P)>Le?(l.value=b,u.value=E):(b<=0&&(l.value=b),E>=i.value.length&&(u.value=E))}o.value=_(l.value),a.value=_(i.value.length)-_(u.value)}function v(d){const y=_(d);!n.value||d&&!y?I=d:n.value.scrollTop=y}const r=D(()=>i.value.slice(l.value,u.value).map((d,y)=>({raw:d,index:y+l.value})));return le(i,()=>{x=Array.from({length:i.value.length}),m=Array.from({length:i.value.length}),R.immediate(),B()},{deep:!0}),{containerRef:n,markerRef:p,computedItems:r,paddingTop:o,paddingBottom:a,scrollToIndex:v,handleScroll:U,handleScrollend:O,handleItemResize:F}}function yn(e,i){let t=e.length-1,c=0,l=0,u=null,o=-1;if(e[t]<i)return t;for(;c<=t;)if(l=c+t>>1,u=e[l],u>i)t=l-1;else if(u<i)o=l,c=l+1;else return u===i?l:c;return o}const pn=Q({items:{type:Array,default:()=>[]},renderless:Boolean,...gn(),...re(),...Cl()},"VVirtualScroll"),bn=ne()({name:"VVirtualScroll",props:pn(),setup(e,i){let{slots:t}=i;const c=wl("VVirtualScroll"),{dimensionStyles:l}=Vl(e),{containerRef:u,markerRef:o,handleScroll:a,handleScrollend:n,handleItemResize:p,scrollToIndex:w,paddingTop:g,paddingBottom:h,computedItems:L}=hn(e,ve(e,"items"));return Pl(()=>e.renderless,()=>{function T(){var S,I;const m=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";u.value===document.documentElement?(document[m]("scroll",a,{passive:!0}),document[m]("scrollend",n)):((S=u.value)==null||S[m]("scroll",a,{passive:!0}),(I=u.value)==null||I[m]("scrollend",n))}Il(()=>{u.value=_l(c.vnode.el,!0),T(!0)}),bt(T)}),ae(()=>{const T=L.value.map(x=>s(vn,{key:x.index,renderless:e.renderless,"onUpdate:height":m=>p(x.index,m)},{default:m=>{var S;return(S=t.default)==null?void 0:S.call(t,{item:x.raw,index:x.index,...m})}}));return e.renderless?s(ee,null,[s("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:he(g.value)}},null),T,s("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:he(h.value)}},null)]):s("div",{ref:u,class:["v-virtual-scroll",e.class],onScrollPassive:a,onScrollend:n,style:[l.value,e.style]},[s("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:he(g.value),paddingBottom:he(h.value)}},[T])])}),{scrollToIndex:w}}});function xn(e,i){const t=J(!1);let c;function l(a){cancelAnimationFrame(c),t.value=!0,c=requestAnimationFrame(()=>{c=requestAnimationFrame(()=>{t.value=!1})})}async function u(){await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>{if(t.value){const n=le(t,()=>{n(),a()})}else a()})}async function o(a){var w,g;if(a.key==="Tab"&&((w=i.value)==null||w.focus()),!["PageDown","PageUp","Home","End"].includes(a.key))return;const n=(g=e.value)==null?void 0:g.$el;if(!n)return;(a.key==="Home"||a.key==="End")&&n.scrollTo({top:a.key==="Home"?0:n.scrollHeight,behavior:"smooth"}),await u();const p=n.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(a.key==="PageDown"||a.key==="Home"){const h=n.getBoundingClientRect().top;for(const L of p)if(L.getBoundingClientRect().top>=h){L.focus();break}}else{const h=n.getBoundingClientRect().bottom;for(const L of[...p].reverse())if(L.getBoundingClientRect().bottom<=h){L.focus();break}}}return{onListScroll:l,onListKeydown:o}}const kn=Q({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:se,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Gl({itemChildren:!1})},"Select"),Sn=Q({...kn(),...mt(Vt({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...yt({transition:{component:gt}})},"VSelect"),Cn=ne()({name:"VSelect",props:Sn(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,i){let{slots:t}=i;const{t:c}=ct(),l=W(),u=W(),o=W(),a=be(e,"menu"),n=D({get:()=>a.value,set:r=>{var d;a.value&&!r&&((d=u.value)!=null&&d.ΨopenChildren)||(a.value=r)}}),{items:p,transformIn:w,transformOut:g}=Wl(e),h=be(e,"modelValue",[],r=>w(r===null?[null]:Tl(r)),r=>{const d=g(r);return e.multiple?d:d[0]??null}),L=D(()=>typeof e.counterValue=="function"?e.counterValue(h.value):typeof e.counterValue=="number"?e.counterValue:h.value.length),T=Ll(),x=D(()=>h.value.map(r=>r.value)),m=J(!1),S=D(()=>n.value?e.closeText:e.openText);let I="",M;const R=D(()=>e.hideSelected?p.value.filter(r=>!h.value.some(d=>d===r)):p.value),q=D(()=>e.hideNoData&&!R.value.length||e.readonly||(T==null?void 0:T.isReadonly.value)),F=D(()=>{var r;return{...e.menuProps,activatorProps:{...((r=e.menuProps)==null?void 0:r.activatorProps)||{},"aria-haspopup":"listbox"}}}),_=W(),{onListScroll:j,onListKeydown:H}=xn(_,l);function G(r){e.openOnClear&&(n.value=!0)}function $(){q.value||(n.value=!n.value)}function U(r){var k,E;if(!r.key||e.readonly||T!=null&&T.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(r.key)&&r.preventDefault(),["Enter","ArrowDown"," "].includes(r.key)&&(n.value=!0),["Escape","Tab"].includes(r.key)&&(n.value=!1),r.key==="Home"?(k=_.value)==null||k.focus("first"):r.key==="End"&&((E=_.value)==null||E.focus("last"));const d=1e3;function y(V){const P=V.key.length===1,C=!V.ctrlKey&&!V.metaKey&&!V.altKey;return P&&C}if(e.multiple||!y(r))return;const f=performance.now();f-M>d&&(I=""),I+=r.key.toLowerCase(),M=f;const b=p.value.find(V=>V.title.toLowerCase().startsWith(I));b!==void 0&&(h.value=[b])}function O(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!r.props.disabled)if(e.multiple){const y=h.value.findIndex(b=>e.valueComparator(b.value,r.value)),f=d??!~y;if(~y){const b=f?[...h.value,r]:[...h.value];b.splice(y,1),h.value=b}else f&&(h.value=[...h.value,r])}else{const y=d!==!1;h.value=y?[r]:[],ke(()=>{n.value=!1})}}function A(r){var d;(d=_.value)!=null&&d.$el.contains(r.relatedTarget)||(n.value=!1)}function B(){var r;m.value&&((r=l.value)==null||r.focus())}function X(r){m.value=!0}function v(r){if(r==null)h.value=[];else if(Ye(l.value,":autofill")||Ye(l.value,":-webkit-autofill")){const d=p.value.find(y=>y.title===r);d&&O(d)}else l.value&&(l.value.value="")}return le(n,()=>{if(!e.hideSelected&&n.value&&h.value.length){const r=R.value.findIndex(d=>h.value.some(y=>e.valueComparator(y.value,d.value)));Re&&window.requestAnimationFrame(()=>{var d;r>=0&&((d=o.value)==null||d.scrollToIndex(r))})}}),le(()=>e.items,(r,d)=>{n.value||m.value&&!d.length&&r.length&&(n.value=!0)}),ae(()=>{const r=!!(e.chips||t.chip),d=!!(!e.hideNoData||R.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),y=h.value.length>0,f=lt.filterProps(e),b=y||!m.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return s(lt,Y({ref:l},f,{modelValue:h.value.map(k=>k.props.value).join(", "),"onUpdate:modelValue":v,focused:m.value,"onUpdate:focused":k=>m.value=k,validationValue:h.externalValue,counterValue:L.value,dirty:y,class:["v-select",{"v-select--active-menu":n.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":h.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:b,"onClick:clear":G,"onMousedown:control":$,onBlur:A,onKeydown:U,"aria-label":c(S.value),title:c(S.value)}),{...t,default:()=>s(ee,null,[s(nn,Y({ref:u,modelValue:n.value,"onUpdate:modelValue":k=>n.value=k,activator:"parent",contentClass:"v-select__content",disabled:q.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:B},F.value),{default:()=>[d&&s(Yl,Y({ref:_,selected:x.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:k=>k.preventDefault(),onKeydown:H,onFocusin:X,onScrollPassive:j,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var k,E,V;return[(k=t["prepend-item"])==null?void 0:k.call(t),!R.value.length&&!e.hideNoData&&(((E=t["no-data"])==null?void 0:E.call(t))??s(Je,{title:c(e.noDataText)},null)),s(bn,{ref:o,renderless:!0,items:R.value},{default:P=>{var ie;let{item:C,index:N,itemRef:K}=P;const Z=Y(C.props,{ref:K,key:N,onClick:()=>O(C,null)});return((ie=t.item)==null?void 0:ie.call(t,{item:C,index:N,props:Z}))??s(Je,Y(Z,{role:"option"}),{prepend:ce=>{let{isSelected:He}=ce;return s(ee,null,[e.multiple&&!e.hideSelected?s(Al,{key:C.value,modelValue:He,ripple:!1,tabindex:"-1"},null):void 0,C.props.prependAvatar&&s(Be,{image:C.props.prependAvatar},null),C.props.prependIcon&&s(ue,{icon:C.props.prependIcon},null)])}})}}),(V=t["append-item"])==null?void 0:V.call(t)]}})]}),h.value.map((k,E)=>{function V(K){K.stopPropagation(),K.preventDefault(),O(k,!1)}const P={"onClick:close":V,onMousedown(K){K.preventDefault(),K.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},C=r?!!t.chip:!!t.selection,N=C?Dl(r?t.chip({item:k,index:E,props:P}):t.selection({item:k,index:E})):void 0;if(!(C&&!N))return s("div",{key:k.value,class:"v-select__selection"},[r?t.chip?s(fe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:k.title}}},{default:()=>[N]}):s(tn,Y({key:"chip",closable:e.closableChips,size:"small",text:k.title,disabled:k.props.disabled},P),null):N??s("span",{class:"v-select__selection-text"},[k.title,e.multiple&&E<h.value.length-1&&s("span",{class:"v-select__selection-comma"},[ye(",")])])])})]),"append-inner":function(){var P;for(var k=arguments.length,E=new Array(k),V=0;V<k;V++)E[V]=arguments[V];return s(ee,null,[(P=t["append-inner"])==null?void 0:P.call(t,...E),e.menuIcon?s(ue,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),ze({isFocused:m,menu:n,select:O},l)}});function nt(e,i){e.object.updateMatrixWorld();let t=e.object.geometry.getAttribute("position"),c=e.object.geometry.index;if(c===null){c=new Xl(new Uint16Array(t.count),1);for(let o=0;o<t.count;o++)c.array[o]=o}let l=new te,u=[];for(let o=e.indices[0];o<e.indices[1];o++){let a=c.getX(o),n=new te(t.getX(a),t.getY(a),t.getZ(a));n=i.target.worldToLocal(e.object.localToWorld(n)),l.add(n),u.push(n)}return l=l.divideScalar(e.indices[1]-e.indices[0]),{center:l,vertices:u}}function wn(e,i,t){let{center:c,vertices:l}=nt(e,t),{center:u,vertices:o}=nt(i,t),a=1/0,n=[new te,new te],p=-1/0,w=[new te,new te];for(let g=0;g<l.length;g++)for(let h=0;h<o.length;h++){let L=l[g].distanceTo(o[h]);L<a&&(a=L,n[0]=l[g],n[1]=o[h]),L>p&&(p=L,w[0]=l[g],w[1]=o[h])}return{min:n,center:[c,u],max:w}}class Ae{constructor(i,t,c){Se(this,"object");Se(this,"kind");Se(this,"indices");this.object=i,this.kind=t,this.indices=c}getKey(){return this.object.uuid+this.kind+this.indices[0].toFixed()+this.indices[1].toFixed()}getBox(){let i=this.object.geometry.index||{getX:u=>u},t=this.object.geometry.getAttribute("position"),c=[1/0,1/0,1/0],l=[-1/0,-1/0,-1/0];for(let u=this.indices[0];u<this.indices[1];u++){let o=i.getX(u),a=t.getX(o),n=t.getY(o),p=t.getZ(o);c[0]=Math.min(c[0],a),c[1]=Math.min(c[1],n),c[2]=Math.min(c[2],p),l[0]=Math.max(l[0],a),l[1]=Math.max(l[1],n),l[2]=Math.max(l[2],p)}return new xt().setFromArray([...c,...l])}}function Vn(e){let i=e.object.type;if(i=="Mesh"||i=="SkinnedMesh"){let t=Pn(e);return t===null?null:new Ae(e.object,"face",t)}else if(i=="Line"||i=="LineSegments"){let t=In(e);return t===null?null:new Ae(e.object,"edge",t)}else if(i=="Points")return e.index===void 0?null:new Ae(e.object,"vertex",[e.index,e.index+1]);return null}function Pn(e){var t,c,l;let i=(l=(c=(t=e==null?void 0:e.object)==null?void 0:t.geometry)==null?void 0:c.userData)==null?void 0:l.face_triangles_end;if(e.faceIndex===void 0)return null;if(i){let u=e.faceIndex*3;for(let o=0;o<i.length;o++){let a=i[o];if(u<a)return[o===0?0:i[o-1],i[o]]}}else return[0,(e.object.geometry.index??e.object.geometry.attributes.position).count];return null}function In(e){var c,l,u;let i=(u=(l=(c=e==null?void 0:e.object)==null?void 0:c.geometry)==null?void 0:l.userData)==null?void 0:u.edge_points_end;if(!i||e.index===void 0)return null;let t=e.index;for(let o=0;o<i.length;o++){let a=i[o];if(t<a)return[o===0?0:i[o-1],i[o]]}return null}function Pt(e,i,t){let c=e.object.geometry.index,l=null;if(i!==void 0){for(let u=e.indices[0];u<e.indices[1];u++){let o=c.getX(u);l===null&&(l=[i.getX(o),i.getY(o),i.getZ(o),i.getW(o)]),i.setXYZW(o,t[0],t[1],t[2],t[3])}if(i.needsUpdate=!0,e.object.userData.niceLine!==void 0){let u=e.object.geometry.index,o=[];for(let a=0;a<u.count;a++)u.getX(a)>=e.indices[0]&&u.getX(a)<e.indices[1]?o.push(t[0],t[1],t[2]):o.push(i.getX(u.getX(a)),i.getY(u.getX(a)),i.getZ(u.getX(a)));e.object.userData.niceLine.geometry.setColors(o);for(let a of Object.values(e.object.userData.niceLine.geometry.attributes))a.needsUpdate=!0}}else{let u=e.object.material.color;l=[u.r,u.g,u.b,1],e.object.material.color.setRGB(t[0],t[1],t[2]),e.object.material.needsUpdate=!0}return l}function _n(e){let i=e.object.geometry,t=e.object.geometry.getAttribute("color");i.userData.savedColor=i.userData.savedColor||{},i.userData.savedColor[e.getKey()]=Pt(e,t,[1,0,0,1])}function Tn(e){let i=e.object.geometry,t=e.object.geometry.getAttribute("color"),c=i.userData.savedColor[e.getKey()];Pt(e,t,c),delete i.userData.savedColor[e.getKey()]}const Ln={class:"select-parent"},An=Bl({__name:"Selection",props:Ze({viewer:{}},{modelValue:{default:[]},modelModifiers:{}}),emits:Ze(["findModel"],["update:modelValue"]),setup(e,{emit:i}){let t=e,c=i,{setDisableTap:l}=Fe("disableTap"),u=W(!1),o=Fl(e,"modelValue"),a=W([!1,!1]),n=W(!1),p=W(!0),w=null,g=W("Any (S)");const h=new ql;let L=v=>{w=[v.clientX,v.clientY],u.value},T=v=>{var E,V;if(w){let[P,C]=w;if(w=null,Math.abs(v.clientX-P)>5||Math.abs(v.clientY-C)>5)return}if(!u.value)return;let r=1;if((E=t.viewer)!=null&&E.scene){let P=t.viewer.scene,C=P.getTarget().clone().add(P.target.position);r=P.camera.position.distanceTo(C)/150}g.value==="Any (S)"?(h.params.Line.threshold=r,h.params.Points.threshold=r*2):g.value==="(E)dges"?(h.params.Line.threshold=r,h.params.Points.threshold=0):g.value==="(V)ertices"?(h.params.Line.threshold=0,h.params.Points.threshold=r):g.value==="(F)aces"&&(h.params.Line.threshold=0,h.params.Points.threshold=0);let d=(V=t.viewer)==null?void 0:V.scene;const y=d.getNDC(v.clientX,v.clientY);h.setFromCamera(y,d.camera),d.camera.isPerspectiveCamera||h.ray.direction.copy(d.camera.getWorldDirection(new te));let f=[];d.traverse(P=>{const C=P.type;let N=C==="Mesh"||C==="SkinnedMesh",K=C==="Line"||C==="LineSegments",Z=C==="Points";P.userData.noHit!==!0&&(g.value==="Any (S)"&&(N||K||Z)||g.value==="(F)aces"&&N||g.value==="(E)dges"&&K||g.value==="(V)ertices"&&Z)&&f.push(P)}),h.firstHitOnly=!0;let k=h.intersectObjects(f,!1).filter(P=>{if(!P.object)return!1;const C=P.object.type;let N=C==="Mesh"||C==="SkinnedMesh",K=C==="Line"||C==="LineSegments",Z=C==="Points";const ie=g.value==="Any (S)"||N&&g.value==="(F)aces"||K&&g.value==="(E)dges"||Z&&g.value==="(V)ertices";return(!N||P.object.visible)&&ie}).sort((P,C)=>{function N(K){let Z=K.distance;return(K.object.type==="Mesh"||K.object.type==="SkinnedMesh")&&(Z+=r),(K.object.type==="Line"||K.object.type==="LineSegments")&&(Z+=r/2),Z}return N(P)-N(C)})[0];if(a.value[0])k&&(c("findModel",k.object.userData[Ul]),M());else{let P=null;k&&(P=Vn(k)),k&&P!==null?o.value.find(N=>N.getKey()===P.getKey())!==void 0?m(P):x(P):S(),O(),X()}d.queueRender()};function x(v){o.value.find(r=>r.getKey()===v.getKey())===void 0&&o.value.push(v),_n(v)}function m(v,r=!0){if(r){let d=o.value.findIndex(y=>y.getKey()===v.getKey());o.value.splice(d,1)}Tn(v)}function S(v=!0){let r=o.value.slice();for(let d of r)m(d,v)}function I(){var r;(r=t.viewer)!=null&&r.elem&&(u.value=!u.value,l(u.value))}function M(){a.value=[!a.value[0],a.value[0]?a.value[1]:u.value],a.value[0]?u.value||I():(u.value!==a.value[1]&&I(),a.value=[!1,!1])}function R(){n.value=!n.value,O()}let q=!0,F=!1,_=!1,j=0,H=()=>{if(j=performance.now(),_)return;_=!0;let v;v=()=>{performance.now()-j>250?(O(),_=!1):setTimeout(v,100)},setTimeout(v,100)},G=v=>{v&&v.onElemReady(r=>{F||(F=!0,r.addEventListener("mouseup",T),r.addEventListener("mousedown",L),r.addEventListener("load",()=>{q?(R(),q=!1):O()}),r.addEventListener("camera-change",H))})};t.viewer?G(t.viewer):le(()=>t.viewer,()=>G(t.viewer));let{sceneDocument:$}=Fe("sceneDocument"),U={};function O(){var f,b,k,E;if(!n.value){for(let V of Object.values(U))(f=t.viewer)==null||f.removeLine3D(V);U={};return}let v,r=Object.keys(U);if(o.value.length>0){v=new xt;for(let V of o.value)v.union(V.getBox())}else{let V=Nl.getBoundingBox($.value);if(!V)return;v=V}let d=[[v.min.x,v.min.y,v.min.z],[v.min.x,v.min.y,v.max.z],[v.min.x,v.max.y,v.min.z],[v.min.x,v.max.y,v.max.z],[v.max.x,v.min.y,v.min.z],[v.max.x,v.min.y,v.max.z],[v.max.x,v.max.y,v.min.z],[v.max.x,v.max.y,v.max.z]],y=[[[0,4],[1,5],[2,6],[3,7]],[[0,2],[1,3],[4,6],[5,7]],[[0,1],[2,3],[4,5],[6,7]]];for(let V in y){let P=y[V],C=P[0];for(let de=0;de<2;de++){C=P[0];let Ke=1/0,It=(b=t.viewer)==null?void 0:b.scene.camera.position;for(let me of P){let _t=new te(...d[me[0]]),Tt=new te(...d[me[1]]),Lt=_t.clone().add(Tt).multiplyScalar(.5),Ne=It.distanceTo(Lt);Ne<Ke&&(C=me,Ke=Ne)}P=P.filter(me=>me!==C)}let N=new te(...d[C[0]]),K=new te(...d[C[1]]),Z=K.clone().sub(N).length();if(Z<.05)continue;let ie=[Te.x,Te.y,Te.z][V][1],ce=JSON.stringify([N,K]);if(U[ce])r=r.filter(de=>de!==ce);else{let de=(k=t.viewer)==null?void 0:k.addLine3D(N,K,Z.toFixed(1)+"mm",{stroke:"rgb("+ie.join(",")+")","stroke-width":"2"});de&&(U[ce]=de)}}for(let V of r)(E=t.viewer)!=null&&E.removeLine3D(U[V])&&delete U[V]}function A(){p.value=!p.value,X()}let B={};function X(){var b,k,E;if(!p.value||o.value.length!=2){for(let V of Object.values(B))(b=t.viewer)==null||b.removeLine3D(V);B={};return}let v=Object.keys(B);function r(V,P,C,N){var ie;let K=JSON.stringify([V,P]);B[K]?v=v.filter(ce=>ce!==K):B[K]=(ie=t.viewer)==null?void 0:ie.addLine3D(V,P,C,{stroke:N,"stroke-width":"2","stroke-dasharray":"5"})}let{min:d,center:y,max:f}=wn(o.value[0],o.value[1],(k=t.viewer)==null?void 0:k.scene);r(f[0],f[1],f[1].distanceTo(f[0]).toFixed(1)+"mm","orange"),r(y[0],y[1],y[1].distanceTo(y[0]).toFixed(1)+"mm","green"),r(d[0],d[1],d[1].distanceTo(d[0]).toFixed(1)+"mm","cyan");for(let V of v)(E=t.viewer)==null||E.removeLine3D(B[V]),delete B[V]}return window.addEventListener("keydown",v=>{v.key==="s"?g.value=="Any (S)"?I():(g.value="Any (S)",u.value||I()):v.key==="f"?g.value=="(F)aces"?I():(g.value="(F)aces",u.value||I()):v.key==="e"?g.value=="(E)dges"?I():(g.value="(E)dges",u.value||I()):v.key==="v"?g.value=="(V)ertices"?I():(g.value="(V)ertices",u.value||I()):v.key==="b"?R():v.key==="d"?A():v.key==="h"&&M()}),(v,r)=>(El(),Rl(ee,null,[Ml("div",Ln,[s(z(we),{icon:"",onClick:I,color:z(u)?"surface-light":""},{default:oe(()=>[s(z(ge),{activator:"parent"},{default:oe(()=>[ye(_e(z(u)?"Disable (s)election mode":"Enable (s)election mode"),1)]),_:1}),s(z(Ce),{type:"mdi",path:z(Ol)},null,8,["path"])]),_:1},8,["color"]),s(z(ge),{text:"Select only "+z(g).toString().toLocaleLowerCase(),"open-on-click":!1},{activator:oe(({props:d})=>[s(z(Cn),Y(d,{class:"select-only",variant:"underlined",items:["Any (S)","(F)aces","(E)dges","(V)ertices"],modelValue:z(g),"onUpdate:modelValue":r[0]||(r[0]=y=>jl(g)?g.value=y:g=y)}),null,16,["items","modelValue"])]),_:1},8,["text"])]),s(z(we),{icon:"",onClick:M,color:z(a)[0]?"surface-light":""},{default:oe(()=>[s(z(ge),{activator:"parent"},{default:oe(()=>[ye("(H)ighlight the next clicked element in the models list")]),_:1}),s(z(Ce),{type:"mdi",path:z(zl)},null,8,["path"])]),_:1},8,["color"]),s(z(we),{icon:"",onClick:R,color:z(n)?"surface-light":""},{default:oe(()=>[s(z(ge),{activator:"parent"},{default:oe(()=>[ye(_e(z(n)?"Hide selection (b)ounds":"Show selection (b)ounds"),1)]),_:1}),s(z(Ce),{type:"mdi",path:z(Hl)},null,8,["path"])]),_:1},8,["color"]),s(z(we),{icon:"",onClick:A,color:z(p)?"surface-light":""},{default:oe(()=>[s(z(ge),{activator:"parent"},{default:oe(()=>[ye(_e(z(p)?"Hide selection (d)istances":"Show (d)istances (when a pair of features is selected)"),1)]),_:1}),s(z(Ce),{type:"mdi",path:z(Kl)},null,8,["path"])]),_:1},8,["color"])],64))}}),Rn=$l(An,[["__scopeId","data-v-9ef037e5"]]);export{Rn as default};
